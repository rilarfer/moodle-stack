
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://rilarfer.stack-moodle.com/CAS/Maxima/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>Introduction to Maxima for STACK users - STACK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction-to-maxima-for-stack-users" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="STACK" class="md-header__button md-logo" aria-label="STACK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            STACK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction to Maxima for STACK users
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="STACK" class="md-nav__button md-logo" aria-label="STACK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    STACK
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acerca de STACK
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guía Autoría inicio rápido
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 Una pregunta básica
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2 Variables de la pregunta
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 Mejorando la retroalimentación
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4 Aleatorización
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5 Test de Preguntas
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6 Preguntas matemáticas de varias partes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 Desactivar la simplificación
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8 Importación y cuestionarios
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Authoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autoría
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CAS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalación
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Desarrolladores
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Moodle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Moodle
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Referencias
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Students/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estudiantes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Topics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temas
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#types-of-object-types_of_object" class="md-nav__link">
    Types of object {#Types_of_object}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numbers-numbers" class="md-nav__link">
    Numbers {#Numbers}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alias" class="md-nav__link">
    Alias
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parts-of-maxima-expressions-parts_of_maxima_expressions" class="md-nav__link">
    Parts of Maxima expressions {#Parts_of_Maxima_expressions}
  </a>
  
    <nav class="md-nav" aria-label="Parts of Maxima expressions {#Parts_of_Maxima_expressions}">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opx-the-top-operator" class="md-nav__link">
    op(x) - the top operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_opsex-all-operators" class="md-nav__link">
    get_ops(ex) - all operators
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maxima-commands-defined-by-stack-maxima_commands_defined_by_stack" class="md-nav__link">
    Maxima commands defined by STACK {#Maxima_commands_defined_by_STACK}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assignment-assignment" class="md-nav__link">
    Assignment ## {#assignment}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logarithms" class="md-nav__link">
    Logarithms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sets-lists-sequences-n-tuples" class="md-nav__link">
    Sets, lists, sequences, n-tuples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="introduction-to-maxima-for-stack-users">Introduction to Maxima for STACK users</h1>
<p>A computer algebra system (CAS) is software that allows the manipulation of mathematical expressions in symbolic form. Most commonly, this is to allow the user to perform some computation.  For the purposes of assessment our calculation <em>establishes some relevant properties</em> of the students' answers. These properties include</p>
<ul>
<li>using a <a href="../Predicate_functions/">predicate function</a> to find if a single expression has a property.  For example, are any of the numbers floating points?</li>
<li>comparing two expressions using an answer test to compare two expressions.  For example, is the student's expression equivalent to the teacher's?</li>
</ul>
<p><a href="../Random/">randomly generating</a> structured mathematical objects which become parts of a question and <a href="../Plots/">plotting graphs</a> of functions.</p>
<p>To write more than very simple STACK questions you will need to use some Maxima commands. This documentation does not provide a detailed tutorial on Maxima. A very good introduction is given in <a href="http://maxima.sourceforge.net/docs/tutorial/en/minimal-maxima.pdf">Minimal Maxima</a>, which this document assumes you have read.</p>
<p>STACK modifies Maxima in a number of ways.</p>
<h2 id="types-of-object-types_of_object">Types of object {#Types_of_object}</h2>
<p>Everything in Maxima is either an <em>atom</em> or an <em>expression</em>. Atoms are either an integer number, float, string or a name.  You can use the predicate <code>atom()</code> to decide if its argument is an atom.  Expressions have an <em>operator</em> and a list of <em>arguments</em>. Note that the underscore symbol is <em>not</em> an operator.  Thus <code>a_1</code> is an atom in maxima. Display of subscripts and fine tuning the display is explained in the <a href="../Subscripts/">atoms, subscripts and fine tuning the LaTeX display</a> page.</p>
<p>Maxima is a very weakly typed language.  However, in STACK we need the following "types" of expression:</p>
<ol>
<li>equations, i.e. an expression in which the top operation is an equality sign;</li>
<li>inequalities, for example <script type="math/tex"> x<1\mbox{, or }x\leq 1</script>;</li>
<li>sets, for example, <script type="math/tex">\{1,2,3\}</script>;</li>
<li>lists, for example, <script type="math/tex">[1,2,3]</script>.   In Maxima ordered lists are entered using square brackets, for example as <code>p:[1,1,2,x^2]</code>.
    An element is accessed using the syntax <code>p[1]</code>.</li>
<li><a href="../Matrix/">matrices</a>.  The basic syntax for a matrix is <code>p:matrix([1,2],[3,4])</code>.  Each row is a list. Elements are accessed as <code>p[1,2]</code>, etc.</li>
<li>logical expression.  This is a tree of other expressions connected by the logical <code>and</code> and <code>or</code>.  This is useful for expressing solutions to equations, such as <code>x=1 or x=2</code>.  Note, the support for these expressions is unique to STACK.</li>
<li>expressions.</li>
</ol>
<p>Expressions come last, since they are just counted as being <em>not</em> the others! STACK defines <a href="../Predicate_functions/">predicate functions</a> to test for each of these types.</p>
<h2 id="numbers-numbers">Numbers {#Numbers}</h2>
<p>Numbers are important in assessment, and there is more specific and detailed documentation on how numbers are treated: <a href="../Numbers/">Numbers in STACK</a>.</p>
<h2 id="alias">Alias</h2>
<p>STACK defines the following function alias names</p>
<pre><code>simplify := fullratsimp
int := integrate
</code></pre>
<p>The absolute value function in Maxima is entered as <code>abs()</code>.  STACK also permits you to enter using <code>|</code> symbols, i.e.<code>|x|</code>.  This is an alias for <code>abs</code>.  Note that <code>abs(x)</code> will be displayed by STACK as <script type="math/tex">|x|</script>.</p>
<p>STACK also redefined a small number of functions</p>
<ul>
<li>The plot command <code>plot2d</code> is not used in STACK questions.  Use <code>plot</code> instead, which is documented <a href="../Plots/">here</a>.  This ensures your image files are available on the server.</li>
<li>The random number command <code>random</code> is not used in STACK questions.  Use the command <code>rand</code> instead, which is documented <a href="../Random/">here</a>.  This ensures pseudorandom numbers are generated and a student gets the same version each time they login.</li>
</ul>
<h2 id="parts-of-maxima-expressions-parts_of_maxima_expressions">Parts of Maxima expressions {#Parts_of_Maxima_expressions}</h2>
<h3 id="opx-the-top-operator"><code>op(x)</code> - the top operator</h3>
<p>It is often very useful to take apart a Maxima expression. To help with this Maxima has a number of commands, including <code>op(ex)</code>, <code>args(ex)</code> and <code>part(ex,n)</code>. Maxima has specific documentation on this.</p>
<p>In particular,  <code>op(ex)</code> returns the main operator of the expression <code>ex</code>.  This command has some problems for STACK.</p>
<ol>
<li>calling <code>op(ex)</code> on an atom (see Maxima's documentation on the predicate <code>atom(ex)</code>) such as numbers or variable names, cause  <code>op(ex)</code> to throw an error.</li>
<li><code>op(ex)</code> sometimes returns a string, sometimes not.</li>
<li>the unary minus causes problems.  E.g. in <code>-1/(1+x)</code>
    the operation is not "/", as you might expect, but it is "-" instead!</li>
</ol>
<p>To overcome these problems STACK has a command</p>
<pre><code>safe_op(ex)
</code></pre>
<p>This always returns a string.  For an atom this is empty, i.e. <code>""</code>.  It also sorts out some unary minus problems.</p>
<h3 id="get_opsex-all-operators"><code>get_ops(ex)</code> - all operators</h3>
<p>This function returns a set of all operators in an expression.  Useful if you want to find if multiplication is used anywhere in an expression.</p>
<h2 id="maxima-commands-defined-by-stack-maxima_commands_defined_by_stack">Maxima commands defined by STACK {#Maxima_commands_defined_by_STACK}</h2>
<p>It is very useful when authoring questions to be able to test out Maxima code in the same environment which STACK uses Maxima. That is to say, with the settings and STACK specific functions loaded. To do this see <a href="../STACK-Maxima_sandbox/">STACK-Maxima sandbox</a>.</p>
<p>STACK creates a range of additional functions and restricts those available, many of which are described within this documentation.  See also <a href="../Predicate_functions/">Predicate functions</a>.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>factorlist(ex)</code></td>
<td>Returns a list of factors of ex without multiplicities.</td>
</tr>
<tr>
<td><code>zip_with(f,a,b)</code></td>
<td>This function applies the binary function <script type="math/tex">f</script> to two lists <script type="math/tex">a</script> and <script type="math/tex">b</script> returning a list.  An example is given in adding matrices to <a href="../Matrix/#Showing_working">show working</a>.</td>
</tr>
<tr>
<td><code>coeff_list(ex,v)</code></td>
<td>This function takes an expression <code>ex</code> and returns a list of coefficients of <code>v</code>.</td>
</tr>
<tr>
<td><code>coeff_list_nz(ex,v)</code></td>
<td>This function takes an expression <code>ex</code> and returns a list of nonzero coefficients of <code>v</code>.</td>
</tr>
<tr>
<td><code>divthru(ex)</code></td>
<td>Takes an algebraic fraction, e.g. <script type="math/tex">(x^4-1)/(x+2)</script> and divides through by the denominator, to leave a polynomial and a proper fraction. Useful in feedback, or steps of a calculation.</td>
</tr>
<tr>
<td><code>stack_strip_percent(ex,var)</code></td>
<td>Removes any variable beginning with the <code>%</code> character from <code>ex</code> and replace them with variables from <code>var</code>.  Useful for use with solve, ode2 etc.  <a href="../../Topics/Differential_equations/#Solve_and_ode2">Solve and ode2</a>.</td>
</tr>
<tr>
<td><code>exdowncase(ex)</code></td>
<td>Takes the expression <code>ex</code> and substitutes all variables for their lower case version (cf <code>sdowncase(ex)</code> in Maxima).  This is very useful if you don't care if a student uses the wrong case, just apply this function to their answer before using an <a href="../../Authoring/Answer_Tests/">answer test</a>.  Note, of course, that <code>exdowncase(X)-x=0.</code></td>
</tr>
<tr>
<td><code>stack_reset_vars</code></td>
<td>Resets constants, e.g. <script type="math/tex">i</script>, as abstract symbols, see <a href="../Numbers/">Numbers</a>.</td>
</tr>
<tr>
<td><code>safe_op(ex)</code></td>
<td>Returns the operation of the expression as a string.  Atoms return an empty string (rather than throwing an error as does <code>op</code>).</td>
</tr>
<tr>
<td><code>comp_square(ex,v)</code></td>
<td>Returns a quadratic <code>ex</code> in the variable <code>v</code> in completed square form.</td>
</tr>
<tr>
<td><code>degree(ex,v)</code></td>
<td>Returns the degree of the expanded form of <code>ex</code> in the variable <code>v</code>. See also Maxima's <code>hipow</code> command.</td>
</tr>
<tr>
<td><code>unary_minus_sort(ex)</code></td>
<td>Tidies up the way unary minus is represented within expressions when <code>simp:false</code>.  See also <a href="../Simplification/">simplification</a>.</td>
</tr>
<tr>
<td><code>texboldatoms(ex)</code></td>
<td>Displays all non-numeric atoms in bold.  Useful for vector questions.</td>
</tr>
</tbody>
</table>
<h2 id="assignment-assignment">Assignment ## {#assignment}</h2>
<p>In Maxima the assignment of a value to a variable is <em>very unusual</em>.</p>
<table>
<thead>
<tr>
<th>Input</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a:1</code></td>
<td>Assignment of the value <script type="math/tex">1</script> to <script type="math/tex">a</script>.</td>
</tr>
<tr>
<td><code>a=1</code></td>
<td>An equation, yet to be solved.</td>
</tr>
<tr>
<td><code>f(x):=x^2</code></td>
<td>Definition of a function.</td>
</tr>
</tbody>
</table>
<p>In STACK simple assignments are of the more conventional form <code>key : value</code>, for example,</p>
<pre><code>n : rand(3)+2;
p : (x-1)^n;
</code></pre>
<p>Of course, these assignments can make use of Maxima's functions to manipulate expressions.</p>
<pre><code>p : expand( (x-3)*(x-4) );
</code></pre>
<p>Another common task is that of <em>substitution</em>. This can be performed with Maxima's <code>subst</code> command. This is quite useful, for example if we define <script type="math/tex">p</script>  as follows, in the then we can use this in response processing to determine if the student's answer is odd.</p>
<pre><code>p : ans1 + subst(-x,x,ans1);
</code></pre>
<p>All sorts of properties can be checked for in this way. For example, interpolates. Another example is a stationary point of <script type="math/tex">f(x)</script> at <script type="math/tex">x=a</script>, which can be checked for using</p>
<pre><code>p : subst(a,x,diff(ans1,x));
</code></pre>
<p>Here we have assumed <code>a</code> is some point given to the student, <code>ans1</code> is the answer and that <script type="math/tex">p</script> will be used in the response processing tree.</p>
<p>You can use Maxima's looping structures within Question variables. For example</p>
<pre><code>n : 1;
for a:-3 thru 26 step 7 do n:n+a;
</code></pre>
<p>The result will be <script type="math/tex">n=56</script>. It is also possible to define functions within the question variables for use within a question. </p>
<pre><code>f(x) := x^2;
n : f(4);
</code></pre>
<h2 id="logarithms">Logarithms</h2>
<p>STACK loads the contributed Maxima package <code>log10</code>.  This defines logarithms to base <script type="math/tex">10</script> automatically. STACK also creates two aliases</p>
<ol>
<li><code>ln</code> is an alias for <script type="math/tex">\log</script>, which are natural logarithms</li>
<li><code>lg</code> is an alias for <script type="math/tex">\log_{10}</script>, which are logarithms to base <script type="math/tex">10</script>.
    It is not possible to redefine the command <code>log</code> to be to the base <script type="math/tex">10</script>.</li>
</ol>
<h2 id="sets-lists-sequences-n-tuples">Sets, lists, sequences, n-tuples</h2>
<p>It is very useful to be able to display expressions such as comma separated lists, and n-tuples
<script type="math/tex; mode=display"> 1,2,3,4,\cdots </script>
<script type="math/tex; mode=display"> (1,2,3,4) </script>
Maxima has in-built functions for lists, which are displayed with square brackets <script type="math/tex">[1,2,3,4]</script>, and sets with curly braces <script type="math/tex"> \{1,2,3,4\} </script>.
Maxima has no default functions for n-tuples or for sequences.</p>
<p>STACK provides an inert function <code>sequence</code>.  All this does is display its arguments without brackets. For example <code>sequence(1,2,3,4)</code> is displayed <script type="math/tex">1,2,3,4</script>. STACK provides convenience functions.</p>
<ul>
<li><code>sequenceify</code>, creates a sequence from the arguments of the expression.  This turns lists, sets etc. into a sequence.</li>
<li><code>sequencep</code> is a predicate to decide if the expression is a sequence.</li>
<li>The atom <code>dotdotdot</code> is displayed using the tex <code>\ldots</code> which looks like <script type="math/tex">\ldots</script>.  This atom cannot be entered by students.</li>
</ul>
<p>STACK provides an inert function <code>ntuple</code>.  All this does is display its arguments with round brackets. For example <code>ntuple(1,2,3,4)</code> is displayed <script type="math/tex">(1,2,3,4)</script>.  <code>ntupleify</code> and <code>ntuplep</code> construct and test for ntuples. In strict Maxima syntax <code>(a,b,c)</code> is equivalent to <code>block(a,b,c)</code>.  If students type in <code>(a,b,c)</code> using a STACK input it is filtered to <code>ntuple(a,b,c)</code>. Teachers must use the <code>ntuple</code> function explicitly to construct question variables, teacher's answers, test cases and so on. The <code>ntuple</code> is useful for students to type in coordinates.</p>
<p>If you want to use these functions, then you can create question variables as follows</p>
<pre><code>L1:[a,b,c,d];
D1:apply(ntuple, L1);
L2:args(D1);
D2:sequenceify(L2);
</code></pre>
<p>Then <code>L1</code> is a list and is displayed with square brackets as normal. <code>D1</code> has operator <code>ntuple</code> and so is displayed with round brackets. <code>L2</code> has operator <code>list</code> and is displayed with square brackets.  Lastly, D2 is an <code>sequence</code> and is displayed without brackets.</p>
<p>You can, of course, apply these functions directly.</p>
<pre><code>T1:ntuple(a,b,c);
S1:sequence(a,b,c,dotdotdot);
</code></pre>
<p>If you want to use <code>sequence</code> or <code>ntuple</code> in a PRT comparison, you probably want to turn them back into lists. E.g. <code>ntuple(1,2,3)</code> is not algebraically equivalent to <code>[1,2,3]</code>.  To do this use the <code>args</code> function.   We may, in the future, give more active meaning to the data types of <code>sequence</code> and <code>ntuple</code>.</p>
<p>Currently, students can enter expressions with "implied ntuples" E.g</p>
<ul>
<li>Student input of <code>(1,2,3)</code> is interpreted as <code>ntuple(1,2,3)</code>.</li>
<li>Student input of <code>{(1,2,3),(4,5,6)}</code> is interpreted as <code>{ntuple(1,2,3),ntuple(4,5,6)}</code>.</li>
<li>Since no operations are defined on ntuples, students cannot currenlty enter things like <code>(1,2,3)+s*(1,0,0)</code>.  There is nothing to stop a teacher defining the expression tree <code>ntuple(1,2,3)+s*ntuple(1,0,0)</code>, but the operations <code>+</code> and <code>*</code> are not defined for ntuples and so nothing will happen!  If you want a student to enter the equation of a line/plane they should probably use the matrix syntax for vectors.  (This may change in the future).</li>
</ul>
<p>Matrices have options to control the display of the braces.  Matrices are displayed without commas.</p>
<p>If you are interacting with javascript do not use <code>sequenceify</code>.  If you are interacting with javascript, such ss <a href="../../Authoring/JSXGraph/">JSXGraph</a>, then you may want to output a list of <em>values</em> without all the LaTeX and without Maxima's normal bracket symbols. You can use</p>
<pre><code>stack_disp_comma_separate([a,b,sin(pi)]);
</code></pre>
<p>This function turns a list into a string representation of its arguments, without braces.
Internally, it applies <code>string</code> to the list of values (not TeX!).  However, you might still get things like <code>%pi</code> in the output.</p>
<p>You can use this with mathematical input: <code>{@stack_disp_comma_separate([a,b,sin(pi)])@}</code> and you will get the result <code>a, b, sin(%pi/7)</code> (without the string quotes) because when a Maxima variable is a string we strip off the outside quotes and don't typeset this in maths mode.</p>
<h2 id="functions">Functions</h2>
<p>It is sometimes useful for the teacher to define <em>functions</em> as part of a STACK question.  This can be done in the normal way in Maxima using the notation.</p>
<pre><code> f(x):=x^2;
</code></pre>
<p>Using Maxima's <code>define()</code> command is forbidden. An alternative is to define <code>f</code> as an "unnamed function" using the <code>lambda</code> command.</p>
<pre><code> f:lambda([x],x^2);
</code></pre>
<p>Here we are giving a name to an "unnamed function" which seems perverse.  Unnamed functions are extremely useful in many situations.</p>
<p>For example, a piecewise function can be defined by either of these two commands</p>
<pre><code> f(x):=if (x&lt;0) then 6*x-2 else -2*exp(-3*x);
 f:lambda([x],if (x&lt;0) then 6*x-2 else -2*exp(-3*x));
</code></pre>
<p>You can then plot this using</p>
<pre><code>{@plot(f(x),[x,-1,1])@}
</code></pre>
<h1 id="maxima-gotchas">Maxima "gotcha"s!</h1>
<ul>
<li>See the section above on <a href="./#assignment">assignment</a>.</li>
<li>Maxima does not have a <code>degree</code> command for polynomials.  We define one via the <code>hipow</code> command.</li>
<li>Matrix multiplication is the dot, e.g. <code>A.B</code>. The star <code>A*B</code> gives element-wise multiplication.</li>
<li>The atoms <code>a1</code> and <code>a_1</code> are not considered to be algebraically equivalent.</li>
</ul>
<h2 id="further-information-and-links">Further information and links</h2>
<ul>
<li><a href="http://maxima.sourceforge.net/docs/tutorial/en/minimal-maxima.pdf">Minimal Maxima</a></li>
<li><a href="http://maxima.sourceforge.net">Maxima on SourceForge</a></li>
</ul>
<h2 id="see-also">See also</h2>
<p><a href="../#reference">Maxima reference topics</a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <center> Copyright &copy; 2023 Ricardo Largaespada </center>
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/rilarfer" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="../../javascripts/removeCredits.js"></script>
      
    
  </body>
</html>