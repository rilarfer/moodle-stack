
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://rilarfer.stack-moodle.com/Installation/">
      
      
        <link rel="prev" href="../CAS/">
      
      
        <link rel="next" href="../Developer/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>Instalación - STACK</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation-instructions" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="STACK" class="md-header__button md-logo" aria-label="STACK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            STACK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instalación
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="STACK" class="md-nav__button md-logo" aria-label="STACK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    STACK
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acerca de STACK
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guía Autoría inicio rápido
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 Una pregunta básica
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2 Variables de la pregunta
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 Mejorando la retroalimentación
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4 Aleatorización
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5 Test de Preguntas
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6 Preguntas matemáticas de varias partes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 Desactivar la simplificación
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../AbInitio/Authoring_quick_start_8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8 Importación y cuestionarios
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Authoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autoría
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../CAS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CAS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Instalación
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Instalación
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0-set-up-php-with-mbstring" class="md-nav__link">
    0. Set up PHP with mbstring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-set-up-moodle" class="md-nav__link">
    1. Set up Moodle.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-gnuplot-and-maxima" class="md-nav__link">
    2. Install gnuplot and Maxima
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-add-some-additional-question-behaviours" class="md-nav__link">
    3. Add some additional question behaviours
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-add-the-stack-question-type" class="md-nav__link">
    4. Add the STACK question type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-multi-language-support" class="md-nav__link">
    5. Multi-language support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-post-install-confirmation" class="md-nav__link">
    6. Post-install confirmation.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-optional-but-recommended-fix-db-case-sensitivity-issue" class="md-nav__link">
    7. Optional (but recommended): Fix DB case sensitivity issue.
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Developer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Desarrolladores
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Moodle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Moodle
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Referencias
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Students/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estudiantes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Topics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temas
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0-set-up-php-with-mbstring" class="md-nav__link">
    0. Set up PHP with mbstring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-set-up-moodle" class="md-nav__link">
    1. Set up Moodle.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-gnuplot-and-maxima" class="md-nav__link">
    2. Install gnuplot and Maxima
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-add-some-additional-question-behaviours" class="md-nav__link">
    3. Add some additional question behaviours
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-add-the-stack-question-type" class="md-nav__link">
    4. Add the STACK question type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-multi-language-support" class="md-nav__link">
    5. Multi-language support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-post-install-confirmation" class="md-nav__link">
    6. Post-install confirmation.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-optional-but-recommended-fix-db-case-sensitivity-issue" class="md-nav__link">
    7. Optional (but recommended): Fix DB case sensitivity issue.
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="installation-instructions">Installation instructions.</h1>
<p>STACK is being used live at many institutions, including the University of Edinburgh, the UK Open University, Aalto, Loughborough University, and the University of Birmingham in the UK.</p>
<p>We appreciate some people perfer hosted services as an alterntaive to running their own server. We are pleased to work with EDINA at the University of Edinburgh as a <a href="https://stack.edina.ac.uk/">recommended hosting partner</a>.</p>
<p>STACK is designed to be used on a Linux-based server.  The Windows/MS option exists to help teachers author questions offline, and for demonstration and development.  However, for demonstration, development and offline use we strongly recommend using VirtualBox instead of the Windows port.  Note also that support for the optimized Maxima image is not available on Windows platforms, which is a substantial performance improvement.</p>
<h2 id="0-set-up-php-with-mbstring">0. Set up PHP with mbstring</h2>
<p>STACK v4.3 and later require the PHP <code>mbstring</code> library.   While this is included in many distros, it is not yet included by default in all.</p>
<p>On an existing Moodle site navigate to</p>
<pre><code>/admin/environment.php
</code></pre>
<p>to confirm before adding this plug-in.</p>
<p>On some Linux distros, you simply need to</p>
<pre><code>apt-get install php-mbstring
</code></pre>
<p>and then re-start the web server.</p>
<h2 id="1-set-up-moodle">1. Set up Moodle.</h2>
<p>Please ensure you have <a href="http://docs.moodle.org/en/Main_page">installed Moodle</a>.</p>
<ul>
<li>STACK has been tested on Moodle 3.9 to Moodle 4.0 inclusive.  (STACK is untested on versions before Moodle 3.9.)</li>
<li>We intend to support STACK within the normal Moodle <a href="https://docs.moodle.org/dev/Releases">release cycle</a>.  We intend to support all future Moodle releases. If your version of Moodle is not listed here please contact the developers: we probably simply have not done the testing of future versions yet.  For longer support of older versions of Moodle please contact us, otherwise will will drop them from our list.</li>
</ul>
<p>Please ensure LaTeX can be displayed.  We currently support <a href="Mathjax/">MathJax</a> through the Moodle MathJax filter.</p>
<p>Consider updating the MathJax settings to wrap long equations. In particular, add</p>
<pre><code>CommonHTML: { linebreaks: { automatic: true } },
"HTML-CSS": { linebreaks: { automatic: true } },
SVG: { linebreaks: { automatic: true } }
</code></pre>
<p>to <code>filter_mathjaxloader | mathjaxconfig</code> in the filter settings: Dashboard &gt; Site administration &gt; Plugins &gt; Filters &gt; MathJax</p>
<h2 id="2-install-gnuplot-and-maxima">2. Install gnuplot and Maxima</h2>
<p>Ensure gcc, gnuplot and <a href="http://maxima.sourceforge.net">Maxima</a> are installed on your server.  Currently Maxima 5.38.1 to 5.47.0 are supported.  Please contact the developers to request support for other versions.  (Newer versions will be supported, and prompts to test them are welcome.)  We currently recommend that you use any version of Maxima after 5.43.0.</p>
<p>Maxima can be installed via a package manager on most Linux distributions (e.g. <code>sudo apt-get install maxima</code> on Debian/Ubuntu), <a href="http://maxima.sourceforge.net/download.html">downloaded</a> as a self-contained installer program for Windows, or <a href="Maxima/">compiled from source</a>.</p>
<p>To check your version of maxima, run <code>maxima --version</code>.  If Moodle is set up using Apache, STACK will run maxima through the Apache user (<code>www-data/apache2</code>).  To check that this works, run maxima as the apache user (e.g. <code>sudo -u www-data maxima</code>).  Later versions of maxima create a cache and thus the executing user needs to have write access to a temporary folder, see <a href="https://github.com/maths/moodle-qtype_stack/issues/731">#731</a> for more details and troubleshooting.</p>
<p>Alternatively, Maxima can also be run on a separate server via <a href="https://github.com/mathinstitut/goemaxima">GoeMaxima</a> or <a href="https://github.com/maths/stack_util_maximapool">MaximaPool</a>.</p>
<p>Please note </p>
<ul>
<li>Please avoid versions 5.37.x which are known to have a minor bug which affects STACK. In particular with <code>simp:false</code>, <script type="math/tex">s^{-1}</script> is transformed into <script type="math/tex">1/s</script>.  This apparently minor change makes it impossible to distinguish between the two forms.  This causes all sorts of problems.  Do not use Maxima 5.37.1 to 5.37.3.</li>
<li>Older versions of Maxima:  in particular, Maxima 5.23.2 has some differences which result in <script type="math/tex">1/\sqrt{x} \neq \sqrt{1/x}</script>, and similar problems.  This means that we have an inconsistency between questions between versions of maxima.   Of course, we can argue about which values of <script type="math/tex">x</script> make <script type="math/tex">1/\sqrt{x} = \sqrt{1/x}</script>, but currently the unit tests and assumption is that these expressions should be considered to be algebraically equivalent!   So, older versions of Maxima are not supported for a reason.  Please test thoroughly if you try to use an older version, and expect some errors in the mathematical parts of the code.</li>
<li>If you install more than one version of Maxima then you will need to tell STACK which version to use.  Otherwise just use the "default" option.</li>
</ul>
<p>Instructions for installing a more recent version of Maxima on CentOS 6 are available on the <a href="https://moodle.org/mod/forum/discuss.php?d=270956">Moodle forum</a>  (Oct 2014).</p>
<h2 id="3-add-some-additional-question-behaviours">3. Add some additional question behaviours</h2>
<p>STACK requires these.</p>
<ol>
<li>Obtain Deferred feedback with explicit validation behaviour code. You can <a href="https://github.com/maths/moodle-qbehaviour_dfexplicitvaildate/zipball/master">download the zip file</a>, unzip it, and place it in the directory <code>moodle/question/behaviour/dfexplicitvaildate</code>. (You will need to rename the directory <code>moodle-qbehaviour_dfexplicitvaildate -&gt; dfexplicitvaildate</code>.) </li>
</ol>
<p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p>
<pre><code>    git clone https://github.com/maths/moodle-qbehaviour_dfexplicitvaildate.git question/behaviour/dfexplicitvaildate
</code></pre>
<ol>
<li>Obtain Deferred feedback with CBM and explicit validation behaviour code. You can <a href="https://github.com/maths/moodle-qbehaviour_dfcbmexplicitvaildate/zipball/master">download the zip file</a>, unzip it, and place it in the directory <code>moodle/question/behaviour/dfcbmexplicitvaildate</code>. (You will need to rename the directory <code>moodle-qbehaviour_dfcbmexplicitvaildate -&gt; dfcbmexplicitvaildate</code>.) </li>
</ol>
<p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p>
<pre><code>    git clone https://github.com/maths/moodle-qbehaviour_dfcbmexplicitvaildate.git question/behaviour/dfcbmexplicitvaildate
</code></pre>
<ol>
<li>Obtain adaptivemutlipart behaviour code. You can <a href="https://github.com/maths/moodle-qbehaviour_adaptivemultipart/zipball/master">download the zip file</a>, unzip it, and place it in the directory <code>moodle/question/behaviour/adaptivemultipart</code>. (You will need to rename the directory <code>moodle-qbehaviour_adaptivemultipart  -&gt; adaptivemultipart</code>.) </li>
</ol>
<p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p>
<pre><code>    git clone https://github.com/maths/moodle-qbehaviour_adaptivemultipart.git question/behaviour/adaptivemultipart
</code></pre>
<ol>
<li>Login to Moodle as the admin user and click on Notifications in the Site Administration panel.</li>
</ol>
<h2 id="4-add-the-stack-question-type">4. Add the STACK question type</h2>
<p>STACK is a question type for the Moodle quiz.</p>
<ol>
<li>
<p>Obtain the code. You can <a href="https://github.com/maths/moodle-qtype_stack/zipball/master">download the zip file</a>, unzip it, and place it in the directory <code>moodle/question/type/stack</code>. (You will need to rename the directory <code>moodle-qtype_stack -&gt; stack</code>.) </p>
<p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p>
<pre><code>git clone https://github.com/maths/moodle-qtype_stack.git question/type/stack
</code></pre>
<ol>
<li>Login to Moodle as the admin user and click on Notifications in the Site Administration panel.</li>
<li>As the admin user, navigate to <code>Home &gt; Site administration &gt; Plugins &gt; Question types &gt; STACK</code>.  Please choose and save the appropriate options.</li>
<li>On the same page, click on the link to the healthcheck script.  This writes local configuration files and then helps you verify that all aspects of STACK are working properly.</li>
</ol>
</li>
</ol>
<p>You must be able to connect to the CAS, and for the CAS to successfully create plots, before you can use STACK. You might want to try <a href="Optimising_Maxima/">optimising Maxima</a> access times.</p>
<p>You should now have a question type available to the Moodle quiz.</p>
<h2 id="5-multi-language-support">5. Multi-language support</h2>
<p>STACK questions can be localised into <a href="../Authoring/Languages/">multiple languages</a>.</p>
<ol>
<li>Your site administrator must enable the <a href="http://docs.moodle.org/en/Multi-language_content_filter">Moodle multi-language content filter</a>.</li>
<li>The multi-language content filter must be applied before the MathJax filter, otherwise strange results will occur.</li>
</ol>
<h2 id="6-post-install-confirmation">6. Post-install confirmation.</h2>
<p>It is essential to confirm that the PHP scripts are connecting to the CAS.</p>
<p>We have special scripts which provide confirmation and trouble-shooting data to <a href="Testing_installation/">test the installation</a>.</p>
<h2 id="7-optional-but-recommended-fix-db-case-sensitivity-issue">7. Optional (but recommended): Fix DB case sensitivity issue.</h2>
<p>Using a database with a case insensitive collation can cause issues; for example MySQL with utf8mb4_unicode_ci. This is a general problem of Moodle, not specific to this plugin. See <a href="https://docs.moodle.org/dev/Database_collation_issue">Database collation issue</a>.</p>
<p>If your DB uses case insensitive collations you must change them to case sensitive ones for the following columns:</p>
<ul>
<li>qtype_stacks_inputs -&gt; name</li>
</ul>
<p>Example command for MySQL 8.0:</p>
<pre><code class="language-sql">ALTER TABLE mdl_qtype_stack_inputs CHANGE name name VARCHAR(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '';
</code></pre>
<p>STACK will work without this fix, but input names will not be case sensitive (!) as far as Moodle's database is concerned.  This will throw errors for some questions.</p>
<h1 id="updating-to-new-versions-of-stack-4x">Updating to new versions of STACK 4.X</h1>
<p>If STACK is already installed, as described above, it can be updated via git, like this:</p>
<ol>
<li>
<p>Go into your moodle-dir and execute:</p>
<pre><code>cd question/type/stack
git pull
cd ..
cd ..
cd behaviour/dfcbmexplicitvaildate/
git pull
cd ..
cd dfcbmexplicitvaildate/
git pull
cd ..
cd adaptivemultipart/
git pull
</code></pre>
</li>
<li>
<p>Then login as admin in your moodle and update the database.</p>
</li>
<li>
<p>As admin user, navigate to yourmoodle/admin/settings.php?section=qtypesettingstack </p>
</li>
<li>
<p>Check for the correct maxima version.</p>
</li>
<li>
<p>Click on the link to the healthcheck script.  This writes local configuration files and then helps you verify that all aspects of STACK are working properly.</p>
</li>
<li>
<p>On the same site, you might need to create a new maxima image, by using the button at the end of the page.</p>
</li>
</ol>
<p>It is a good idea to bulk test your materials with the new version.</p>
<p>If you are upgrading from much older versions please look at the <a href="Migration/">migrations page</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <center> Copyright &copy; 2023 Ricardo Largaespada </center>
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/rilarfer" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="../javascripts/removeCredits.js"></script>
      
    
  </body>
</html>