{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"STACK","text":"<p>STACK es el sistema de evaluaci\u00f3n autom\u00e1tica de c\u00f3digo abierto (GPL) l\u00edder en el mundo para matem\u00e1ticas, ciencias y disciplinas relacionadas.</p> <ul> <li>Los estudiantes escriben expresiones matem\u00e1ticas y no est\u00e1n restringidos a opciones m\u00faltiples.</li> <li>Validaci\u00f3n y evaluaci\u00f3n separadas con \u00e9nfasis en la evaluaci\u00f3n formativa.</li> <li>Generaci\u00f3n aleatoria de preguntas.</li> <li>Una amplia variedad de tipos de entrada, incluido el trabajo l\u00ednea por l\u00ednea.</li> <li>Soporte para preguntas de varias partes.</li> <li>Soporte a unidades cient\u00edficas y cifras significativas.</li> </ul> <p>Esta es la documentaci\u00f3n de usuario oficial de STACK.</p> <ul> <li>El sitio web principal de la comunidad de STACK es https://stack-assessment.org/</li> <li>Hay un servidor de demostraci\u00f3n disponible en Edimburgo: https://stack-demo.maths.ed.ac.uk/demo/</li> <li>La discusi\u00f3n comunitaria se lleva a cabo en https://stack-assessment.zulipchat.com/</li> </ul>"},{"location":"#autoria","title":"Autor\u00eda","text":"<p>Documentaci\u00f3n para autores de preguntas, que incluye:</p> <ul> <li>Una gu\u00eda de inicio r\u00e1pido de creaci\u00f3n, que se puede utilizar junto con la gu\u00eda \"C\u00f3mo empezar con STACK\".</li> <li>Informaci\u00f3n sobre varios temas de autor\u00eda, como pruebas de respuesta, entradas, posibles \u00e1rboles de respuesta y traducciones.</li> <li>Preguntas frecuentes.</li> <li>Informaci\u00f3n sobre el uso de CAS Maxima para la creaci\u00f3n de preguntas, incluida aleatorizaci\u00f3n, trazado de gr\u00e1ficos y expresi\u00f3n simplificaci\u00f3n.</li> </ul>"},{"location":"#estudiantes","title":"Estudiantes","text":"<p>Informaci\u00f3n para estudiantes que usan STACK, que incluye:</p> <ul> <li>Instrucciones de entrada.</li> <li>C\u00f3mo se eval\u00faan las respuestas.</li> <li>Preguntas frecuentes.</li> </ul>"},{"location":"#instalacion","title":"Instalaci\u00f3n","text":"<ul> <li>Instrucciones de instalaci\u00f3n.</li> </ul>"},{"location":"#desarrolladores","title":"Desarrolladores","text":"<p>Temas para desarrolladores, que incluyen:</p> <ul> <li>Un historial de desarrollo.</li> <li>Traducci\u00f3n de la interfaz STACK.</li> <li>Creando un tipo de entrada.</li> </ul>"},{"location":"Site_map/","title":"Mapa del sitio","text":"<p>Un directorio con una lista de todos los documentos.</p>"},{"location":"AbInitio/","title":"Autor\u00eda inicio r\u00e1pido","text":"<p>Aquellos nuevos en STACK probablemente preferir\u00e1n comenzar con la Gu\u00eda de Autor\u00eda inicio r\u00e1pido. Estas gu\u00edas cubren los temas m\u00e1s importantes de la creaci\u00f3n de preguntas e incluyen videos de screencast integrados para guiarlo.</p> <ul> <li>Autor\u00eda inicio r\u00e1pido 1: Una pregunta b\u00e1sica.</li> <li>Autor\u00eda inicio r\u00e1pido 2: Variables de la pregunta.</li> <li>Autor\u00eda inicio r\u00e1pido 3: Mejorando la retroalimentaci\u00f3n.</li> <li>Autor\u00eda inicio r\u00e1pido 4: Aleatorizaci\u00f3n.</li> <li>Autor\u00eda inicio r\u00e1pido 5: Test de Preguntas.</li> <li>Autor\u00eda inicio r\u00e1pido 6: Preguntas matem\u00e1ticas de varias partes.</li> <li>Autor\u00eda inicio r\u00e1pido 7: Desactivar la simplificaci\u00f3n.</li> <li>Autor\u00eda inicio r\u00e1pido 8: Importaci\u00f3n y cuestionarios.</li> </ul>"},{"location":"AbInitio/Authoring_quick_start_1/","title":"Autor\u00eda inicio r\u00e1pido 1: una pregunta m\u00ednima de trabajo","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>La gu\u00eda de inicio r\u00e1pido de creaci\u00f3n le muestra c\u00f3mo escribir preguntas STACK. La parte 1 hace que funcione una pregunta m\u00ednima. El siguiente v\u00eddeo explica el proceso:</p>"},{"location":"AbInitio/Authoring_quick_start_1/#antes-de-que-empieces","title":"Antes de que empieces","text":"<p>Suponemos lo siguiente:</p> <ol> <li>Tienes acceso a un curso con STACK instalado.</li> <li>Est\u00e1 familiarizado con el formato  simple para matem\u00e1ticas. Algunos ejemplos b\u00e1sicos se proporcionan en la documentaci\u00f3n CASText.</li> </ol>"},{"location":"AbInitio/Authoring_quick_start_1/#creando-una-pregunta-stack-minima","title":"Creando una pregunta STACK m\u00ednima","text":"<p>Vaya a su curso, navegue hasta el banco de preguntas y cree una nueva pregunta con el tipo de pregunta \"STACK\".</p> <p>Hay muchos campos, pero solo unos pocos son obligatorios:</p> <ol> <li>El \"Nombre de la pregunta\",</li> <li>El \"Enunciado de la pregunta\", que se muestra al alumno,</li> <li>La \"Respuesta modelo\" del profesor (dentro de \"Entrada: ans1\" en una pregunta predeterminada),</li> <li>Una prueba de \"correcci\u00f3n\".</li> </ol> <p>De forma predeterminada, una nueva pregunta tiene autom\u00e1ticamente una entrada y un algoritmo para probar la exactitud de la respuesta.</p>"},{"location":"AbInitio/Authoring_quick_start_1/#nombre-de-la-pregunta","title":"Nombre de la pregunta","text":"<p>Debes darle un nombre a la pregunta, por ejemplo <code>pregunta1</code>.</p>"},{"location":"AbInitio/Authoring_quick_start_1/#enunciado-de-la-pregunta","title":"Enunciado de la pregunta","text":"<p>Centr\u00e9monos en el problema de derivar  con respecto a . Necesitamos escribir el texto de la pregunta en s\u00ed. Copie lo siguiente en el cuadro de texto Pregunta:</p> <pre><code>Diferenciar \\((x-1)^3\\) con respecto a x.\n[[input:ans1]] [[validation:ans1]]\n</code></pre> <p>Notas:</p> <ul> <li>Moodle tiene una amplia variedad de editores de texto, por lo que las capturas de pantalla de esta gu\u00eda de inicio r\u00e1pido pueden verse ligeramente diferentes a su variante de Moodle. Adem\u00e1s, el proceso de cortar y pegar puede incluir o no parte del formato.</li> <li>El texto contiene entornos matem\u00e1ticos LaTeX. No utilizar entornos matem\u00e1ticos <code>$..$</code> y <code>$$..$$</code>.  En su lugar debes usar <code>\\(..\\)</code> y <code>\\[..\\]</code> para matem\u00e1ticas en l\u00ednea y mostradas respectivamente. (Hay un convertidor masivo autom\u00e1tico si tiene muchos materiales heredados).</li> <li>Internamente la respuesta del estudiante ser\u00e1 asignada a una variable <code>ans1</code>.</li> <li>La etiqueta <code>[[input:ans1]]</code> denota la posici\u00f3n del cuadro en el que el estudiante pone su respuesta.</li> <li>La etiqueta <code>[[validation:ans1]]</code> ser\u00e1 reemplazado por cualquier comentario relacionado con la validez de la entrada <code>ans1</code>, e.g. errores de sintaxis causados por la falta de corchetes.</li> <li>Estas etiquetas se pueden colocar en cualquier parte del texto de la pregunta.</li> </ul>"},{"location":"AbInitio/Authoring_quick_start_1/#entrada-ans1","title":"Entrada: ans1","text":"<p>Despl\u00e1cese hacia abajo: habr\u00e1 una secci\u00f3n de Entrada en el formulario de edici\u00f3n.  Haga clic en el encabezado <code>Input: ans1</code> para revelar la configuraci\u00f3n relevante.</p> <p>Para una pregunta m\u00ednima, debemos especificar la Respuesta modelo. Haciendo esto</p> <pre><code>3*(x-1)^2\n</code></pre> <p>Notas</p> <ol> <li>La respuesta del estudiante se almacena en la variable de respuesta <code>ans1</code>.</li> <li>La respuesta del modelo debe ser una expresi\u00f3n sint\u00e1cticamente v\u00e1lida en sintaxis CAS (Maxima), no en LaTeX. Esto significa que la multiplicaci\u00f3n debe especificarse expl\u00edcitamente, usando <code>*</code>.</li> <li>Entrada puede tener una variedad de tipos seleccionados por el men\u00fa desplejable tipo de Entrada.  La Algebraica est\u00e1 por defecto, y es lo que necesitamos aqu\u00ed.</li> <li>Una pregunta puede tener muchas entradas para varias partes. Estos se analizan m\u00e1s adelante en una parte posterior.</li> </ol>"},{"location":"AbInitio/Authoring_quick_start_1/#evaluacion-de-la-exactitud-de-una-respuesta-el-arbol-de-respuestas-potenciales-arp","title":"Evaluaci\u00f3n de la exactitud de una respuesta: el \u00c1rbol de respuestas potenciales (ARP)","text":"<p>A continuaci\u00f3n tenemos que decidir si la respuesta del estudiante es correcta.</p> <p>Para calificar la respuesta del estudiante, necesitamos determinar sus propiedades matem\u00e1ticas usando un algoritmo conocido como \u00e1rbol de respuestas potenciales.</p> <p>De forma predeterminada, una pregunta nueva contiene un \u00e1rbol de respuesta potencial llamado <code>prt1</code>.  Los comentarios generados por el \u00e1rbol reemplazan la etiqueta <code>[[feedback:prt1]]</code> en el momento adecuado.</p>"},{"location":"AbInitio/Authoring_quick_start_1/#configurar-un-nodo-de-respuesta-potencial","title":"Configurar un nodo de respuesta potencial","text":"<p>Un \u00e1rbol de respuesta potencial es un gr\u00e1fico dirigido ac\u00edclico no vac\u00edo de nodos de respuesta potencial. De forma predeterminada, tenemos un nodo de respuesta potencial. en cada nodo</p> <ol> <li><code>SAns</code> es comparado con <code>TAns</code> con la prueba de respuesta, posiblemente con una opci\u00f3n,</li> <li>Si <code>true</code>, luego ejecutamos la rama <code>true</code>,</li> <li>Si <code>false</code>, luego ejecutamos la rama <code>false</code>.</li> </ol> <p>Cada rama puede entonces</p> <ul> <li>Asignar/actualizar la puntuaci\u00f3n,</li> <li>Asignar comentarios formativos al estudiante,</li> <li>Deje una nota de respuesta para fines de informes estad\u00edsticos,</li> <li>Contin\u00fae con el siguiente nodo de respuesta potencial o finalice el proceso con <code>[stop]</code>.</li> </ul> <p>Configuremos el primer nodo para determinar si el estudiante ha diferenciado correctamente.</p> <ol> <li>Especifique la variable <code>ans1</code> en la entrada <code>SAns</code>.</li> <li>Especifique la respuesta correcta en la entrada <code>TAns</code> haciendo: <code>3*(x-1)^2</code>.</li> <li>Confirmar que tenemos <code>AlgEquiv</code> en el men\u00fa desplegable de Prueba (este es el predeterminado).</li> </ol>"},{"location":"AbInitio/Authoring_quick_start_1/#guardando-la-pregunta","title":"Guardando la pregunta","text":"<p>Ahora despl\u00e1cese hasta el final de la p\u00e1gina y presione <code>[Guarde cambios y contin\u00fae editando]</code>.  Si la pregunta no se guarda, verifique cuidadosamente si hay errores, corr\u00edjalos y gu\u00e1rdelos nuevamente..</p> <p>Ahora tenemos una pregunta m\u00ednima.</p> <p>Para resumir, tenemos</p> <ol> <li>El \"Nombre de la pregunta\",</li> <li>El \"Enunciado de la pregunta\",</li> <li>La \"respuesta modelo\" del profesor,</li> <li>Una prueba de \"exactitud\".</li> </ol> <p>A continuaci\u00f3n deber\u00edamos probar nuestra pregunta presionando el bot\u00f3n de enlace <code>Vista previa</code> en la parte inferior de la p\u00e1gina.</p> <p></p>"},{"location":"AbInitio/Authoring_quick_start_1/#vista-previa-de-la-pregunta","title":"Vista previa de la pregunta","text":"<p>Para acelerar el proceso de prueba, despl\u00e1cese hacia abajo en la ventana de vista previa y en \"Opciones de intento\" u \"Opciones de vista previa\" (dependiendo de la versi\u00f3n de moodle) aseg\u00farese de que tiene \"C\u00f3mo se comportan las preguntas\" en \"Modo adaptativo\". Si es necesario, \"Empezar de nuevo con estas opciones\". Esto le permitir\u00e1 comprobar sus respuestas sin tener que Enviar y Empezar de nuevo repetidamente.</p> <p>Con la vista previa abierta, prueba a teclear</p> <pre><code>3*(x-1)^2\n</code></pre> <p>en el cuadro de respuesta. El sistema establece en primer lugar la validez sint\u00e1ctica de esta respuesta.</p> <p>Presione el boton <code>[Comprobar]</code>.</p> <p>El sistema ejecuta el \u00e1rbol de respuestas potenciales y establece si tu respuesta es equivalente a la respuesta modelo <code>3*(x-1)^2</code>.</p>"},{"location":"AbInitio/Authoring_quick_start_1/#validacion-de-los-estudiantes","title":"Validaci\u00f3n de los estudiantes","text":"<p>Observe que hay un proceso de dos pasos para que el estudiante introduzca su respuesta.</p> <p>La primera es la \"validaci\u00f3n\", y normalmente los servidores tienen activada la \"validaci\u00f3n instant\u00e1nea\".  Si la expresi\u00f3n es v\u00e1lida, STACK muestra al estudiante \"Su \u00faltima respuesta fue interpretada como:\" y muestra su expresi\u00f3n.  Una respuesta no v\u00e1lida crea un mensaje de error. </p> <p>La segunda etapa se ejecuta cuando se introduce una expresi\u00f3n v\u00e1lida, y \u00e9sta eval\u00faa el \u00e1rbol de respuestas potenciales para valorar la respuesta del alumno.</p> <p>Este proceso en dos fases es una caracter\u00edstica \u00fanica y esencial de STACK.  Hay muchas opciones de validaci\u00f3n para ayudar al estudiante.  Por ejemplo, en el ejemplo anterior, todas las expresiones de ejemplo tienen una sintaxis estricta.  Aqu\u00ed utilizamos expresiones como <code>3*(x-1)^2</code>, con s\u00edmbolos <code>*</code> para denotar multiplicaci\u00f3n.  Puede dejar que los alumnos escriban expresiones como <code>3(x-1)^2</code> y aceptar la multiplicaci\u00f3n impl\u00edcita. Tenga en cuenta, sin embargo, que la entrada del profesor siempre tendr\u00e1 que ser estricta para evitar ambig\u00fcedades. La documentaci\u00f3n sobre estas opciones se encuentra en la secci\u00f3n entradas.</p>"},{"location":"AbInitio/Authoring_quick_start_1/#proximo-paso","title":"Pr\u00f3ximo paso","text":"<p>Ahora deber\u00eda poder escribir una pregunta sencilla en STACK.</p>"},{"location":"AbInitio/Authoring_quick_start_1/#la-siguiente-parte-de-la-guia-de-inicio-rapido-de-creacion-se-centra-en-el-uso-de-variables-de-pregunta","title":"La siguiente parte de la gu\u00eda de inicio r\u00e1pido de creaci\u00f3n se centra en el uso de variables de pregunta.","text":""},{"location":"AbInitio/Authoring_quick_start_2/","title":"Autor\u00eda inicio r\u00e1pido 2: variables de la pregunta","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>Esta parte de la gu\u00eda r\u00e1pida de creaci\u00f3n trata sobre el uso de variables de pregunta. El siguiente v\u00eddeo explica el proceso:</p>"},{"location":"AbInitio/Authoring_quick_start_2/#pregunta-de-ejemplo","title":"Pregunta de Ejemplo","text":"<p>Para este ejemplo, trabajaremos con un sencillo problema de integraci\u00f3n. A continuaci\u00f3n se muestra un conjunto t\u00edpico de ejercicios de pr\u00e1ctica.</p> <p></p> <p>Centr\u00e9monos en el problema de encontrar . Cree una nueva pregunta STACK. Como antes, daremos a nuestra pregunta un nombre de pregunta, digamos \"Ejemplo de integraci\u00f3n\".</p>"},{"location":"AbInitio/Authoring_quick_start_2/#uso-de-variables-de-pregunta","title":"Uso de variables de pregunta","text":"<p>Los siguientes pasos ser\u00edan a\u00f1adir el texto de la pregunta y, a continuaci\u00f3n, a\u00f1adir la respuesta del profesor <code>-1*(x-1)^(-3)+c</code> al campo <code>respuesta modelo</code> y al <code>\u00e1rbol de respuestas potenciales</code>.  Sin embargo, normalmente se har\u00e1 referencia a la expresi\u00f3n y a la respuesta modelo m\u00e1s de una vez, por lo que suele ser m\u00e1s f\u00e1cil asignarlas a \"variables de pregunta\" utilizando el campo opcional Variables de la pregunta.</p> <p>A\u00f1ada lo siguiente a las variables de la pregunta</p> <pre><code>exp: 3*(x-1)^(-4);\nta: int(exp,x)+c;\n</code></pre> <p>La codificaci\u00f3n de las variables en cuesti\u00f3n se basa en Maxima, que tiene una sintaxis inusual para la asignaci\u00f3n.  En particular, los dos puntos <code>:</code> se utilizan para asignar un valor a una variable.  As\u00ed, para asignar el valor <code>5</code> a <code>a1</code>, utilizamos la sintaxis <code>a1:5</code>. En general, es una buena pr\u00e1ctica asignar nombres de varios caracteres a las variables, ya que los nombres de un solo car\u00e1cter est\u00e1n pensados para ser introducidos por los alumnos. Esto se debe a que las variables de varios caracteres definidas por el autor no pueden ser introducidas por defecto por los alumnos. Adem\u00e1s, a\u00f1adir punto y coma al final de cada l\u00ednea es opcional, pero una buena pr\u00e1ctica.</p> <p>Observe que estamos utilizando el CAS para determinar la respuesta del modelo llamando a la funci\u00f3n <code>int()</code> para encontrar la antiderivada. Cuando el CAS determina una antiderivada, no incluye una constante de integraci\u00f3n, por lo que tenemos que a\u00f1adirla nosotros mismos.</p> <p>Ahora ser\u00e1 mucho m\u00e1s r\u00e1pido rellenar el resto de la pregunta. A\u00f1ade lo siguiente al texto de la pregunta:</p> <pre><code>Encuentre \\(\\int{@exp@} \\mathrm{d}x\\)\n[[input:ans1]] [[validation:ans1]]\n</code></pre> <p>Observe que hemos definido una variable local <code>exp</code>, y utilizado el valor de la misma en el texto de la Pregunta. Hay una diferencia entre las matem\u00e1ticas encerradas entre s\u00edmbolos <code>\\(..\\)</code> y s\u00edmbolos <code>{@..@}</code>. Todos los campos basados en texto de la pregunta, incluida la retroalimentaci\u00f3n, son texto CAS.  Se trata de HTML en el que se pueden insertar las matem\u00e1ticas.  LaTeX se coloca entre <code>\\(..\\)</code>s, y las expresiones CAS (incluyendo sus variables) entre s\u00edmbolos coincidentes <code>{@..@}</code>.  Las expresiones CAS se eval\u00faan en el contexto de las variables de la pregunta y se muestran como LaTeX.</p> <p>Dado que aqu\u00ed hemos utilizado <code>{@exp@}</code>, el usuario no ver\u00e1 un  en la pantalla cuando se instancie la pregunta, sino el valor mostrado de <code>exp</code>:  </p> <p>En la entrada <code>ans1</code>, especifica la <code>respuesta modelo</code> como la variable <code>ta</code>.</p> <p>En el \u00e1rbol de respuestas potenciales, ponga <code>Answer test</code> en <code>AlgEquiv</code>, ponga <code>SAns</code> en <code>ans1</code> y ponga <code>TAns</code> en <code>ta</code>.</p> <p>Es una buena pr\u00e1ctica utilizar variables de pregunta a menudo, ya que ahorran tiempo y le permiten cambiar las propiedades de la pregunta f\u00e1cilmente en el futuro.</p>"},{"location":"AbInitio/Authoring_quick_start_2/#proximo-paso","title":"Pr\u00f3ximo paso","text":"<p>Ahora deber\u00eda poder utilizar variables de pregunta en STACK.</p>"},{"location":"AbInitio/Authoring_quick_start_2/#la-siguiente-parte-de-la-guia-autoria-inicio-rapido-se-centra-en-mejorar-la-retroalimentacion","title":"La siguiente parte de la gu\u00eda Autor\u00eda inicio r\u00e1pido se centra en mejorar la retroalimentaci\u00f3n.","text":""},{"location":"AbInitio/Authoring_quick_start_3/","title":"Autor\u00eda inicio r\u00e1pido 3: mejorar la retroalimentaci\u00f3n","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>Esta parte de la Gu\u00eda Autor\u00eda inicio r\u00e1pido trata de la mejora de la retroalimentaci\u00f3n. El siguiente v\u00eddeo explica el proceso:</p>"},{"location":"AbInitio/Authoring_quick_start_3/#introduccion","title":"Introducci\u00f3n","text":"<p>En la \u00faltima parte empezamos a trabajar con variables de pregunta. En concreto, definimos la variable <code>exp</code> para la expresi\u00f3n a integrar, y <code>ta</code> para la respuesta del profesor. Luego pedimos al alumno que hallara .</p> <p>Prueba a previsualizar esta pregunta y escribe <code>-1*(x-1)^(-3)+c</code>. El sistema deber\u00eda aceptarlo como correcto.  A continuaci\u00f3n, escribe <code>-1*(x-1)^(-3)+C</code>.  Se comparar\u00e1 con la respuesta del profesor <code>-1*(x-1)^(-3)+c</code> por equivalencia algebraica (recuerde que especificamos <code>AlgEquiv</code> en el \u00e1rbol de respuestas potenciales), y no se aceptar\u00e1 como equivalente.  La raz\u00f3n es que \"c\" y \"C\" son diferentes.  A un profesor razonable probablemente no le importar\u00e1 qu\u00e9 letra se utiliza para la constante de integraci\u00f3n. Solucionemos este problema.</p>"},{"location":"AbInitio/Authoring_quick_start_3/#test-de-respuestas-int","title":"Test de respuestas: Int","text":"<p>Tendremos que editar el \u00e1rbol de respuestas potenciales para utilizar una mejor prueba de respuesta. Vuelva a la p\u00e1gina \"Editar una pregunta STACK\". Busque la configuraci\u00f3n de su \u00e1rbol de respuesta potencial, haga clic en el men\u00fa desplegable donde seleccionamos <code>AlgEquiv</code> y seleccione <code>Int</code> de la lista. Escriba <code>x</code> (la variable) en la opci\u00f3n Opciones de prueba. Ahora pulse el bot\u00f3n <code>[Guardar cambios y continuar editando]</code> y una vez m\u00e1s pulse el bot\u00f3n vista previa.  Acabamos de seleccionar un test de respuesta especial para tratar las preguntas de integraci\u00f3n.</p> <p>La prueba de respuesta Int aceptar\u00e1 cualquier nombre de variable para la constante de integraci\u00f3n. Por ejemplo, intente escribir <code>-(x-1)^(-3)+k</code>. El sistema deber\u00eda aceptarlo como correcto.  Tambi\u00e9n dar\u00e1 una respuesta est\u00e1ndar si el estudiante olvida una constante de integraci\u00f3n o accidentalmente diferencia en su lugar.  Para probarlo, escriba <code>-12*(x-1)^(-5)</code>.  Si no desea que los estudiantes vean la respuesta autom\u00e1tica, seleccione la opci\u00f3n Silencio en el nodo de respuesta potencial.</p> <p>La <code>Nota de respuesta</code> de un resultado es un nombre dado a ese resultado espec\u00edfico. STACK las generar\u00e1 autom\u00e1ticamente con informaci\u00f3n sobre el \u00e1rbol de respuesta potencial, el n\u00famero de nodo y el resultado del nodo.</p>"},{"location":"AbInitio/Authoring_quick_start_3/#consideraciones","title":"Consideraciones","text":"<p>Al comprobar la respuesta de un alumno con STACK, un profesor debe preguntarse \"\u00bfCu\u00e1les son las propiedades matem\u00e1ticas que hacen que la respuesta de un alumno sea correcta/incorrecta?\" En nuestro caso, estas preguntas incluyen:</p> <ul> <li>\u00bfEs la respuesta del alumno una antiderivada simb\u00f3lica del integrando?</li> <li>\u00bfTiene el alumno una constante de integraci\u00f3n de forma adecuada?</li> </ul> <p>El test de respuesta <code>int</code> incorporado responde a estas preguntas, por lo que un profesor no tiene que escribir c\u00f3digo para hacerlo en cada pregunta de integraci\u00f3n.</p> <p>A continuaci\u00f3n, el profesor debe preguntarse: \"\u00bfQu\u00e9 podr\u00eda hacer un alumno de forma incorrecta y qu\u00e9 le dar\u00eda esto como respuesta? La respuesta puede venir de la experiencia o de las preguntas de diagn\u00f3stico. Suele ser sensato revisar las respuestas de los alumnos a las preguntas STACK al cabo de un a\u00f1o e incorporar una mejor retroalimentaci\u00f3n a la luz de las experiencias.</p>"},{"location":"AbInitio/Authoring_quick_start_3/#mejorar-aun-mas-la-retroalimentacion","title":"Mejorar a\u00fan m\u00e1s la retroalimentaci\u00f3n","text":"<p>Para cada error que pensemos que pueden cometer los alumnos, podemos crear una prueba de respuesta. Por ejemplo, podemos esperar que los alumnos dejen su respuesta en forma expandida. Por supuesto, \u00e9sta seguir\u00eda siendo una respuesta correcta, pero queremos evitar que los alumnos ampl\u00eden innecesariamente su respuesta. Creemos otro nodo que compruebe si el alumno ha dejado su respuesta final en forma factorizada. Hacemos esto a\u00f1adiendo otro nodo de respuesta potencial. </p> <p></p> <p>Vaya al \u00e1rbol de respuestas potenciales y pulse <code>[Agregar otro nodo]</code> . A continuaci\u00f3n, en la rama <code>True</code> del Nodo 1, cambie en el campo <code>Siguiente</code> por <code>Nodo 2</code>. Si entramos en el Nodo 2, sabemos que el alumno tiene la respuesta correcta y s\u00f3lo necesitamos establecer si est\u00e1 factorizada o no. Para establecer esto necesitamos usar el FacForm answer test. Este test comprueba que SAns y TAns son equivalentes y que SAns est\u00e1 factorizado. En este caso ya sabemos que la respuesta del alumno es equivalente a la respuesta del profesor (usando el algoritmo mejor adaptado de Int). Por lo tanto, podemos comprobar la respuesta del alumno contra s\u00ed misma.</p> <p>Actualiza el formulario para que el Nodo 2 tenga</p> <pre><code>Prueba = FacForm\nSAns = strip_int_const(ans1,x)\nTAns = strip_int_const(ans1,x)\nOpciones = x\n</code></pre> <p>STACK proporciona una funci\u00f3n <code>strip_int_const</code> para eliminar cualquier constante de integraci\u00f3n que el alumno haya podido utilizar. De nuevo tenemos que especificar la variable en <code>Opciones</code>.</p> <p>Aseg\u00farese de que los resultados de <code>Verdadero</code> y <code>Falso</code> no cambian la puntuaci\u00f3n. Por defecto se establecer\u00e1n en <code>+0</code> y <code>-0</code>, respectivamente. Al no cambiar la puntuaci\u00f3n, nos aseguramos de que los estudiantes no son penalizados por dar su respuesta en forma expandida.</p> <p>FacForm da feedback autom\u00e1tico, pero si quieres escribir el tuyo propio puedes poner <code>Silencio</code> en <code>S\u00ed</code> y escribir algo como lo siguiente en <code>Retroalimentaci\u00f3n rama falsa</code>:</p> <pre><code>Tu respuesta no est\u00e1 factorizada. Bien hecho por obtener la respuesta correcta, pero recuerda que no es necesario ampliar los par\u00e9ntesis.\n</code></pre> <p>Puede seguir ampliando su posible \u00e1rbol de respuestas, comprobando tantos errores comunes como desee. Consulte la documentaci\u00f3n para obtener informaci\u00f3n sobre m\u00e1s pruebas de respuesta.</p>"},{"location":"AbInitio/Authoring_quick_start_3/#anadir-un-comentario-general","title":"A\u00f1adir un comentario general","text":"<p>La <code>Retroalimentaci\u00f3n general</code> se muestra a todos los estudiantes, independientemente de si han acertado o no la pregunta. Este es un buen lugar para a\u00f1adir una soluci\u00f3n completa.</p>"},{"location":"AbInitio/Authoring_quick_start_3/#proximo-paso","title":"Pr\u00f3ximo paso","text":"<p>Ahora deber\u00eda poder crear comentarios espec\u00edficos en STACK.</p>"},{"location":"AbInitio/Authoring_quick_start_3/#la-siguiente-parte-de-la-guia-autoria-inicio-rapido-se-centra-en-la-aleatorizacion","title":"La siguiente parte de la gu\u00eda Autor\u00eda inicio r\u00e1pido se centra en la aleatorizaci\u00f3n.","text":""},{"location":"AbInitio/Authoring_quick_start_4/","title":"Autor\u00eda inicio r\u00e1pido 4: aleatorizaci\u00f3n","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>Esta parte de la gu\u00eda r\u00e1pida de creaci\u00f3n trata de la aleatorizaci\u00f3n. El siguiente v\u00eddeo explica el proceso:</p>"},{"location":"AbInitio/Authoring_quick_start_4/#introduccion","title":"Introducci\u00f3n","text":"<p>En la \u00faltima parte, trabajamos con un problema sobre la integraci\u00f3n de  con respecto a x. Sin embargo, no queremos que todos los estudiantes reciban exactamente la misma pregunta, \u00a1ya que eso les permitir\u00eda compartir respuestas! Para resolver este problema, tenemos que aleatorizar la pregunta.</p>"},{"location":"AbInitio/Authoring_quick_start_4/#preguntas-aleatorias","title":"Preguntas aleatorias","text":"<p>Veamos de nuevo las variables de pregunta que hemos declarado:</p> <pre><code>exp: 3*(x-1)^(-4);\nta: int(exp,x)+c;\n</code></pre> <p>Definimos dos variables locales <code>exp</code> y <code>ta</code>, y utilizamos estos valores en otros lugares como el texto de la pregunta, la entrada y el \u00e1rbol de posibles respuestas. </p> <p>Ahora estamos en condiciones de generar una pregunta aleatoria. Para ello, modificamos las variables de la pregunta para que sean</p> <pre><code>a1 : 1+rand(6);\na2 : 1+rand(6);\nnn : 1+rand(4);\nexp : a1*(x-a2)^(-nn);\nta: int(exp, x)+c;\n</code></pre> <p>En esta nueva pregunta estamos pidiendo al alumno que encuentre la antiderivada de una pregunta con forma definida . <code>a1</code>, <code>a2</code> y <code>nn</code> son variables a las que se asignan n\u00fameros enteros aleatorios positivos.  Estos se utilizan para definir la variable <code>exp</code>, que se utiliza en la propia pregunta. Tambi\u00e9n tenemos el CAS integrar la expresi\u00f3n <code>exp</code> y almacenar el resultado en la variable <code>ta</code>. Es una buena pr\u00e1ctica utilizar nombres de variables con m\u00e1s de un car\u00e1cter, ya que las variables de un solo car\u00e1cter, como <code>x</code>, est\u00e1n pensadas para ser introducidas por los alumnos.</p> <p>Recuerde que al generar preguntas aleatorias en STACK hablamos de n\u00fameros aleatorios cuando en realidad queremos decir n\u00fameros pseudoaleatorios. Para llevar la cuenta de qu\u00e9 n\u00fameros aleatorios se generan para cada usuario, existe un comando especial <code>rand</code> en STACK, que deber\u00eda usar en lugar del comando random de Maxima. El comando <code>rand</code> es un generador general de \"cosas aleatorias\", vea la p\u00e1gina sobre random generation para m\u00e1s detalles. <code>rand</code> puede usarse para generar n\u00fameros aleatorios y tambi\u00e9n para hacer selecciones de una lista. rand(n)<code>seleccionar\u00e1 un n\u00famero entero aleatorio desde 0 hasta, **y sin incluir**,</code>n<code>. As\u00ed,</code>rand(3)<code>seleccionar\u00e1 un n\u00famero aleatorio de la lista</code>[0,1,2]` .</p>"},{"location":"AbInitio/Authoring_quick_start_4/#nota-de-la-pregunta","title":"Nota de la pregunta","text":"<p>Ahora que nuestra pregunta contiene n\u00fameros aleatorios, necesitamos registrar la variante real de la pregunta vista por un estudiante en particular. En cuanto usamos la funci\u00f3n <code>rand</code>, STACK nos obliga a a\u00f1adir una Nota de pregunta.  Rellena la nota de pregunta como</p> <pre><code>\\[ \\int {@exp@} \\mathrm{d}x = {@ta@}.\\]\n</code></pre> <p>Dos variantes de pregunta se consideran iguales si y s\u00f3lo si la nota de la pregunta es la misma. Es responsabilidad del profesor crear notas adecuadas.</p>"},{"location":"AbInitio/Authoring_quick_start_4/#desplegar-variantes-aleatorias","title":"Desplegar variantes aleatorias","text":"<p>Antes de que un estudiante vea las preguntas, es aconsejable desplegar variantes aleatorias.  Esto controla exactamente qu\u00e9 variantes se muestran a un estudiante y le permite comprobar que la aleatoriedad es razonable. Despl\u00e1cese hasta la parte superior de su pregunta y haga clic en el enlace \"A\u00fan no se han desplegado variantes de esta pregunta\". Este enlace puede decir \"Pruebas de preguntas y variantes desplegadas\" en versiones anteriores de STACK, y una vez que haya desplegado algunas variantes.</p> <p>Para pedir a STACK que genere un n\u00famero de variantes de preguntas, necesita <code>Intentar desplegar autom\u00e1ticamente el siguiente n\u00famero de variantes:</code>. Seleccione, por ejemplo, <code>10</code> y pulse <code>Ir</code>.  A continuaci\u00f3n deber\u00eda ver 10 variantes aleatorias de la pregunta. Ahora a los alumnos s\u00f3lo se les mostrar\u00e1 una de ellas.</p> <p>Tambi\u00e9n tiene la opci\u00f3n de eliminar las variantes que no le gusten. Por ejemplo, puede que no le gusten las variantes en las que nn=1, ya que tienen respuestas que implican logaritmos. Por lo tanto, podr\u00eda tachar todas estas variantes. Tal vez una mejor soluci\u00f3n es volver a su <code>Variables de la pregunta</code> y cambiar <code>nn</code> a <code>2+rand(4)</code>. Cuando guarde y vuelva a \"Test de preguntas y variantes desplegadas\", ver\u00e1 que sus variantes han cambiado. Esto ilustra un uso clave de las variantes desplegadas: la comprobaci\u00f3n de consecuencias no intencionadas de la aleatorizaci\u00f3n.</p>"},{"location":"AbInitio/Authoring_quick_start_4/#opciones-de-previsualizacion","title":"Opciones de previsualizaci\u00f3n","text":"<p>Pruebe a previsualizar su pregunta. Como se mencion\u00f3 anteriormente (en la parte 1 del tutorial de Inicio R\u00e1pido), en <code>Opciones de intento</code> (u <code>Opciones de previsualizaci\u00f3n</code>), tiene la opci\u00f3n de cambiar el comportamiento de la pregunta. El \"modo adaptativo\" es el m\u00e1s \u00fatil para la comprobaci\u00f3n de preguntas, ya que le permite \"revisar\" las preguntas repetidamente. Hablaremos de los comportamientos de las preguntas con m\u00e1s detalle m\u00e1s adelante. </p> <p>Sin embargo, f\u00edjese tambi\u00e9n en que puede elegir qu\u00e9 variante de pregunta desplegada est\u00e1 respondiendo. Esto es \u00fatil si quieres probar una variante espec\u00edfica.</p>"},{"location":"AbInitio/Authoring_quick_start_4/#proximo-paso","title":"Pr\u00f3ximo paso","text":"<p>Ahora deber\u00edas ser capaz de hacer y desplegar preguntas aleatorias en STACK.</p>"},{"location":"AbInitio/Authoring_quick_start_4/#la-siguiente-parte-de-la-guia-de-inicio-rapido-de-autoria-se-ocupa-de-los-test-de-preguntas","title":"La siguiente parte de la gu\u00eda de inicio r\u00e1pido de autor\u00eda se ocupa de los test de preguntas.","text":""},{"location":"AbInitio/Authoring_quick_start_5/","title":"Autor\u00eda inicio r\u00e1pido 5: test de preguntas","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>Esta parte de la gu\u00eda r\u00e1pida de creaci\u00f3n trata sobre el uso de los test de preguntas. El siguiente v\u00eddeo explica el proceso:</p>"},{"location":"AbInitio/Authoring_quick_start_5/#introduccion","title":"Introducci\u00f3n","text":"<p>En las dos \u00faltimas partes, hemos estado trabajando con una pregunta de integraci\u00f3n simple. Antes de continuar, confirma que las variables de tu pregunta est\u00e1n configuradas como sigue:</p> <pre><code>a1 : 1+rand(6);\na2 : 1+rand(6);\nnn : 2+rand(4);\nexp : a1*(x-a2)^(-nn);\nta: int(exp, x)+c;\n</code></pre> <p>Probar las preguntas lleva mucho tiempo y es tedioso, pero es importante para asegurarse de que las preguntas funcionan.  Para ayudar en este proceso, STACK permite a los profesores definir \" test de preguntas\".  El principio es el mismo que el de las \"pruebas unitarias\" en ingenier\u00eda de software.</p>"},{"location":"AbInitio/Authoring_quick_start_5/#comprobacion-de-preguntas","title":"Comprobaci\u00f3n de preguntas","text":"<p>Despl\u00e1cese hasta la parte superior de su pregunta en la ventana de vista previa y haga clic en <code>Pruebas de preguntas y variantes desplegadas</code>. En la \u00faltima parte utilizamos esta ventana para desplegar variantes aleatorias.</p> <p>Haga clic en <code>A\u00f1adir un caso de prueba</code> para a\u00f1adir una prueba a su pregunta. Un caso de prueba toma una entrada del estudiante. A continuaci\u00f3n, especifique cu\u00e1l es el resultado esperado para esa entrada, es decir, la puntuaci\u00f3n, la penalizaci\u00f3n y la nota de respuesta que espera obtener. Recuerde de la \u00faltima parte que la <code>nota de respuesta</code> es el nombre de un resultado espec\u00edfico en un \u00e1rbol de respuestas potenciales.</p> <p>La penalizaci\u00f3n es un n\u00famero que se deduce de la nota total por cada intento incorrecto del alumno. Por defecto, est\u00e1 fijada en 0.1. Puede cambiar la penalizaci\u00f3n en la <code>Secci\u00f3n General</code> en <code>Penalizaci\u00f3n</code>. Tenga en cuenta que esta caracter\u00edstica s\u00f3lo se utiliza en los comportamientos de pregunta <code>Interactivo con m\u00faltiples intentos</code> y <code>Modo adaptativo</code>, ya que son los \u00fanicos que permiten m\u00faltiples intentos. Hablaremos de los comportamientos de las preguntas m\u00e1s adelante. </p> <p>Rellena la siguiente informaci\u00f3n para tu primer caso de prueba:</p> <pre><code>ans1 = ta\npuntuaci\u00f3n = 1\npenalizaci\u00f3n = 0\nnota de respuesta = prt1-2-T\n</code></pre> <p>Es decir, si el alumno pone la respuesta modelo deber\u00eda pasar el primer nodo (comprueba si ha integrado correctamente) y pasar el segundo nodo (comprueba que su respuesta est\u00e1 factorizada) y terminar con una puntuaci\u00f3n de 1 y ninguna penalizaci\u00f3n. </p> <p>Tenga en cuenta que la entrada se eval\u00faa antes de realizar la prueba. Los estudiantes no pueden introducir la variable <code>ta</code> porque es una variable definida por el profesor, sin embargo la forma evaluada, fx.  <code>1*(x-1)^(-3)+c</code>, es una entrada permitida. Para cada caso de prueba, puede ver la entrada no evaluada en <code>Entrada de prueba</code>, y la entrada real probada en <code>Valor introducido</code>. </p> <p>Puede ejecutar la prueba en todas las versiones desplegadas haciendo clic en <code>Ejecutar todas las pruebas en todas las variantes desplegadas</code>.</p> <p>Puedes a\u00f1adir tantas pruebas como creas necesarias, y suele ser una buena idea a\u00f1adir una por cada caso que preveas.  A\u00f1ada otro caso de prueba para</p> <pre><code>ans1 = int(exp,x)\npuntuaci\u00f3n = 0\npenalizaci\u00f3n = 0.1\nnota de respuesta = prt1-1-F\n</code></pre> <p>Aqu\u00ed creamos un caso de prueba sin constante de integraci\u00f3n. En este caso, STACK no deber\u00eda puntuar a los alumnos, \u00a1lo que indica que la prueba ha sido superada!</p> <p>Tambi\u00e9n deber\u00eda utilizar pruebas de preguntas para comprobar que la resoluci\u00f3n de cada variante requiere las competencias que usted desea. Por ejemplo, en esta pregunta queremos que los alumnos sepan (1) aumentar la potencia en 1 y (2) dividir por la nueva potencia. No deber\u00edan poder salirse con la suya, por ejemplo, aumentando la potencia y multiplicando por la nueva potencia. A\u00f1adamos un caso de prueba para comprobarlo.</p> <pre><code>ans1 = (a1*(-nn+1))*(x-a2)^(-nn+1)+c\npuntuaci\u00f3n = 0\npenalizaci\u00f3n = 0.1\nnota de respuesta = prt1-F\n</code></pre> <p>Estamos probando que si multiplicamos por  en lugar de dividir, se nos deber\u00eda dar una puntuaci\u00f3n de 0. Si a los alumnos se les exige este conocimiento para todas las variantes, entonces todas las variantes deber\u00edan pasar esta prueba. Haga clic en <code>Ejecutar todas las pruebas en todas las variantes desplegadas</code> para comprobarlo. </p> <p>Ver\u00e1 que no todas las versiones desplegadas pasan todas las pruebas, y si hace clic en una variante que ha fallado una prueba, \u00a1ver\u00e1 por qu\u00e9! Esencialmente, cuando ,  la multiplicaci\u00f3n y la divisi\u00f3n son equivalentes. Esencialmente, estas variantes aleatorias son \"m\u00e1s f\u00e1ciles\" que las otras. Esto ilustra otro uso clave de los tests de preguntas: garantizar que todas las variantes tengan la misma dificultad y pongan a prueba los conocimientos que se supone que deben poner a prueba. A la luz de esto, es posible que desee cambiar <code>nn</code> de nuevo a <code>3+rand(4)</code> . Ahora todas las variantes deber\u00edan superar las pruebas de todas las preguntas.</p> <p>El control de calidad es esencial, y encontrar\u00e1 m\u00e1s informaci\u00f3n en la p\u00e1gina sobre testing.</p>"},{"location":"AbInitio/Authoring_quick_start_5/#aparte-palabras-prohibidas","title":"Aparte: palabras prohibidas","text":"<p>STACK permite a los estudiantes utilizar funciones matem\u00e1ticas est\u00e1ndar, como <code>sin</code>, <code>cos</code>, etc. Sorprendentemente, tambi\u00e9n permite usar <code>int</code>. As\u00ed que, en teor\u00eda, los estudiantes podr\u00edan introducir <code>int(...)+c</code>, \u00a1y el sistema lo marcar\u00eda como correcto!</p> <p>Para evitarlo, vaya a \"Entrada: ans1\" y en \"palabras prohibidas\" introduzca <code>int</code>. Las palabras prohibidas har\u00e1n que las palabras que normalmente est\u00e1n permitidas no sean v\u00e1lidas.</p> <p>Este ejemplo ilustra muy bien c\u00f3mo se puede utilizar la validez para ayudar a los alumnos.  Una respuesta <code>int(p,x)+c</code> es una respuesta correcta a la pregunta, pero no es v\u00e1lida.  En este ejemplo queremos que realicen la integraci\u00f3n, \u00a1no que lo haga el CAS!</p>"},{"location":"AbInitio/Authoring_quick_start_5/#proximo-paso","title":"Pr\u00f3ximo paso","text":"<p>Ahora deber\u00eda ser capaz de utilizar los tests de preguntas en STACK.</p>"},{"location":"AbInitio/Authoring_quick_start_5/#la-siguiente-parte-de-la-guia-de-inicio-rapido-de-autoria-trata-sobre-preguntas-de-varias-partes","title":"La siguiente parte de la gu\u00eda de inicio r\u00e1pido de autor\u00eda trata sobre preguntas de varias partes.","text":""},{"location":"AbInitio/Authoring_quick_start_6/","title":"Autor\u00eda inicio r\u00e1pido 6: preguntas de varias partes","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>Esta parte de la gu\u00eda r\u00e1pida de creaci\u00f3n trata de la creaci\u00f3n de preguntas de varias partes. El siguiente v\u00eddeo explica el proceso:</p> <p>Considere los siguientes ejemplos:</p>"},{"location":"AbInitio/Authoring_quick_start_6/#ejemplo-1","title":"Ejemplo 1","text":"<p>Halla la ecuaci\u00f3n de la recta tangente a  en el punto .</p> <ol> <li>Derivar  con respecto a .</li> <li>Eval\u00fae su derivada en .</li> <li>A partir de aqu\u00ed, halla la ecuaci\u00f3n de la recta tangente.  </li> </ol> <p>Dado que las tres partes se refieren a un polinomio, si se utilizan preguntas generadas aleatoriamente, cada una de estas partes debe hacer referencia a una \u00fanica ecuaci\u00f3n generada aleatoriamente. Por tanto, las partes 1.-3. forman realmente un elemento.  Observe que la parte 1. es independiente de las dem\u00e1s. La parte 2 requiere tanto la primera como la segunda entrada. La parte 3. puede calificarse f\u00e1cilmente de forma independiente o teniendo en cuenta las partes 1 y 2. F\u00edjese tambi\u00e9n en que el profesor puede optar por puntuar \"a continuaci\u00f3n\".</p>"},{"location":"AbInitio/Authoring_quick_start_6/#ejemplo-2","title":"Ejemplo 2","text":"<p>Considere la siguiente pregunta, formulada a alumnos relativamente j\u00f3venes.</p> <p>Expanda .</p> <p>En el contexto en que se va a utilizar, es conveniente dar a los alumnos la posibilidad de \"rellenar los espacios en blanco\" de la siguiente ecuaci\u00f3n:</p> <pre><code>(x+1)(x+2) = [?] x2 + [?] x + [?].\n</code></pre> <p>En nuestra opini\u00f3n, se trata en realidad de \"una pregunta\" con \"tres entradas\". Adem\u00e1s, es probable que el profesor quiera que el alumno complete todas las casillas antes de asignar cualquier respuesta, incluso si se genera una respuesta separada para cada entrada ( i.e. los coeficientes). Este feedback debe agruparse en un solo lugar de la pantalla. Adem\u00e1s, para identificar las posibles causas de los errores algebraicos, un procedimiento autom\u00e1tico de calificaci\u00f3n requerir\u00e1 todos los coeficientes simult\u00e1neamente. No es satisfactorio disponer de  tres procedimientos de calificaci\u00f3n totalmente independientes.</p> <p>Estos dos ejemplos ilustran dos posiciones extremas.</p> <ol> <li>Todas las entradas de un mismo \u00edtem de varias partes pueden evaluarse independientemente.</li> <li>Todas las entradas de un \u00fanico \u00edtem multiparte deben completarse antes de que el \u00edtem pueda puntuarse.</li> </ol> <p>La elaboraci\u00f3n de preguntas multiparte que satisfagan estas dos posiciones extremas ser\u00eda relativamente sencilla. Sin embargo, es m\u00e1s frecuente que las preguntas multiparte se sit\u00faen entre estos extremos, como en el caso de nuestro primer ejemplo.</p>"},{"location":"AbInitio/Authoring_quick_start_6/#creacion-de-una-pregunta-multiparte","title":"Creaci\u00f3n de una pregunta multiparte","text":"<p>Inicie una nueva pregunta STACK y as\u00edgnele un nombre, por ejemplo \"L\u00edneas tangentes\".  Esta pregunta tendr\u00e1 tres partes.  Comience copiando las variables de la pregunta y el texto de la pregunta como se indica a continuaci\u00f3n.  Observe que no hemos incluido ning\u00fan tipo de aleatorizaci\u00f3n, pero hemos utilizado nombres de variables al principio para facilitar esta tarea m\u00e1s adelante.</p> <p>Variables de la pregunta</p> <pre><code> exp:x^3-2*x^2+x;\n pt:2;\n ta1:diff(exp,x);\n ta2:subst(x=pt,ta1);\n ta3: remainder(exp,(x-pt)^2);\n</code></pre> <p>Texto de la pregunta</p> <p>Copia el siguiente texto en el editor.</p> <pre><code>Halla la ecuaci\u00f3n de la recta tangente a {@exp@} en el punto \\(x={@pt@}\\).\n1. Derivar {@exp@} con respecto a \\(x\\). [input:ans1]] [[validation:ans1]] [feedback:prt1]]\n2. Eval\u00fae su derivada en \\(x={@pt@}\\). [input:ans2]] [[validation:ans2]] [[feedback:prt2]]\n3. A partir de aqu\u00ed, halla la ecuaci\u00f3n de la recta tangente. \\(y=\\)[[input:ans3]] [[validation:ans3]] [[feedback:prt3]]\n</code></pre> <p>Rellena la respuesta para <code>ans1</code> (que existe por defecto) y elimina la etiqueta <code>feedback</code> de la secci\u00f3n \" retroalimentaci\u00f3n espec\u00edfica\".  Hemos optado por incrustar los comentarios dentro de las partes de esta pregunta, de modo que los comentarios relevantes se muestren directamente debajo de la parte correspondiente. Observe que hay un \u00e1rbol de respuestas potenciales para cada \"parte\".</p> <p>Actualice el formulario guardando los cambios y aseg\u00farese de que las respuestas modelo se rellenan como <code>ta1</code>, <code>ta2</code> y <code>ta3</code>.</p> <p>STACK crea tres \u00e1rboles de respuestas potenciales detectando las etiquetas de respuesta autom\u00e1ticamente.  A continuaci\u00f3n necesitamos editar los \u00e1rboles de respuestas potenciales.  Estos establecer\u00e1n las propiedades de las respuestas de los estudiantes.</p>"},{"location":"AbInitio/Authoring_quick_start_6/#etapa-1-un-arbol-de-respuestas-potenciales-de-trabajo","title":"Etapa 1: un \u00e1rbol de respuestas potenciales de trabajo","text":"<p>La primera etapa consiste en incluir los \u00e1rboles de respuestas potenciales m\u00e1s sencillos.  \u00c9stos simplemente garantizar\u00e1n que las respuestas son \"correctas\".  En cada \u00e1rbol de respuesta potencial, aseg\u00farese de probar que  es algebraicamente equivalente a , para .  En este punto tenemos una pregunta de trabajo.  Gu\u00e1rdela y previsualice la pregunta.  Como referencia, las respuestas correctas son</p> <pre><code> ta1 = 3*x^2-4*x+1\n ta2 = 5\n ta3 = 5*x-8\n</code></pre>"},{"location":"AbInitio/Authoring_quick_start_6/#etapa-2-marcado-de-seguimiento","title":"Etapa 2: marcado de seguimiento","text":"<p>A continuaci\u00f3n vamos a poner en pr\u00e1ctica un sencillo marcado de seguimiento.</p> <p>F\u00edjese bien en la parte 2.  En ella no se pide la \"respuesta correcta\", s\u00f3lo que el alumno haya evaluado correctamente la expresi\u00f3n de la parte 1 en el punto correcto.  As\u00ed que la primera tarea es establecer esta propiedad mediante la evaluaci\u00f3n de la respuesta dada en la primera parte, y compar\u00e1ndola con la segunda parte.  Actualiza el nodo 1 de <code>prt2</code> a lo siguiente:</p> <pre><code>Prueba de respuesta: AlgEquiv\nSAns: ans2\nTAns: subst(x=pt,ans1)\n</code></pre> <p>A continuaci\u00f3n, a\u00f1ade un \u00fanico nodo (a <code>prt2</code>) con lo siguiente:</p> <pre><code>Prueba de respuesta: AlgEquiv\nSAns: ans1\nTAns: ta1\n</code></pre> <p>Ahora enlazamos la rama verdadera del nodo 1 con el nodo 2 (de <code>prt2</code>).  Esto nos da tres resultados.</p> <p>Nodo 1: \u00bfevaluaron correctamente su expresi\u00f3n en la parte 1? Si la respuesta es \"s\u00ed\", se pasa al nodo 2; si es \"no\", se sale sin puntuaci\u00f3n.</p> <p>Nodo 2: \u00bfhan acertado la parte 1? si la respuesta es \"s\u00ed\", esta es la situaci\u00f3n ideal, puntuaci\u00f3n m\u00e1xima.  Si la respuesta es \"no\", elija la puntuaci\u00f3n que m\u00e1s le convenga en esta situaci\u00f3n y a\u00f1ada alg\u00fan comentario como el siguiente:</p> <pre><code>Ha evaluado correctamente su respuesta a la parte 1 en el punto dado, pero su respuesta a la parte 1 es incorrecta. Por favor, int\u00e9ntelo de nuevo con ambas partes.\n</code></pre>"},{"location":"AbInitio/Authoring_quick_start_6/#proximo-paso","title":"Pr\u00f3ximo paso","text":"<p>Ahora deber\u00eda ser capaz de hacer una pregunta multiparte en STACK. Si has seguido esta gu\u00eda de inicio r\u00e1pido, ya deber\u00edas conocer algunos pasos que puedes seguir para mejorar esta pregunta. Por ejemplo, puedes a\u00f1adir feedback m\u00e1s espec\u00edfico, aleatorizar tu pregunta y a\u00f1adir los tests de la pregunta.</p>"},{"location":"AbInitio/Authoring_quick_start_6/#la-siguiente-parte-de-la-guia-de-inicio-rapido-de-creacion-trata-sobre-desactivar-la-simplificacion","title":"La siguiente parte de la gu\u00eda de inicio r\u00e1pido de creaci\u00f3n trata sobre desactivar la simplificaci\u00f3n.","text":""},{"location":"AbInitio/Authoring_quick_start_7/","title":"Autor\u00eda inicio r\u00e1pido 7: desactivar la simplificaci\u00f3n","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>Esta parte de la gu\u00eda de inicio r\u00e1pido de creaci\u00f3n trata de la desactivaci\u00f3n de la simplificaci\u00f3n. El siguiente v\u00eddeo explica el proceso:</p>"},{"location":"AbInitio/Authoring_quick_start_7/#ejemplo-de-pregunta","title":"Ejemplo de pregunta","text":"<p>Dado un n\u00famero complejo , determinar .</p> <p>Donde ,  y  son n\u00fameros generados aleatoriamente.</p>"},{"location":"AbInitio/Authoring_quick_start_7/#simplificacion-desactivada","title":"Simplificaci\u00f3n desactivada","text":"<p>Resulta tentador, al escribir preguntas como \u00e9sta, operar a nivel de visualizaci\u00f3n. Podr\u00edamos generar aleatoriamente ,  y  e insertarlos en el texto de la pregunta.  Por ejemplo:</p> <pre><code> \\(({@aa@}e^{{@bb@} i})^{@nn@}\\)\n</code></pre> <p>Lo que estamos haciendo aqu\u00ed es tratar cada variable por separado en lugar de crear un \u00fanico objeto CAS para el n\u00famero complejo.  Esto est\u00e1 bien, pero causa problemas y es dif\u00edcil de leer porque mezcla CAS y LaTeX.</p> <p>Por lo tanto, preferir\u00edamos tenerlo todo en un \u00fanico objeto CAS que no est\u00e9 simplificado. La siguiente es una expresi\u00f3n Maxima simple:</p> <pre><code> {@(aa*%e^(bb*%i))^nn@}\n</code></pre> <p>(Observe que estamos utilizando nombres de variables con m\u00e1s de un car\u00e1cter. Es una buena pr\u00e1ctica, ya que las variables de un solo car\u00e1cter est\u00e1n pensadas para que las introduzcan los alumnos. Observe tambi\u00e9n que precedemos las variables matem\u00e1ticas est\u00e1ndar con <code>%</code> cuando escribimos en Maxima. Esto no es obligatorio, pero se considera una buena pr\u00e1ctica).</p> <p>Por supuesto, no queremos que Maxima calcule realmente la potencia s\u00f3lo que la represente. Para ver la diferencia, copie las siguientes variables de una pregunta STACK:</p> <pre><code>simp:true;\na1: (3*%e^(%i*%pi/2))^4;\nsimp:false;\na2: (3*%e^(%i*%pi/2))^4;\n</code></pre> <p>Entonces escribe <code>Simplificado: {@a1@} No simplificado: {@a2@}</code> en alg\u00fan lugar del texto de la pregunta. Previsualice para ver la diferencia.</p> <p>A menudo es mejor resolver los problemas a nivel del CAS que a nivel de la pantalla. Para decirle a STACK que establezca <code>simp:false</code> en toda la pregunta, despl\u00e1cese hacia la parte inferior del formulario y en <code>Opciones</code>, establezca <code>Simplificar a nivel de pregunta</code> en <code>No</code>. Ahora Maxima no simplificar\u00e1 las expresiones antes de mostrarlas, por lo que <code>{@2+5@}</code> se mostrar\u00e1 como <code>2+5</code> en lugar de <code>7</code>.</p> <p>Esto tiene algunos inconvenientes. Despu\u00e9s de haber desactivado toda la simplificaci\u00f3n, ahora tenemos que volver a activarla de forma selectiva. Hay dos formas de hacerlo. En primer lugar, podemos utilizar comandos del tipo siguiente:</p> <pre><code>aa : ev(2+rand(10),simp);\n</code></pre> <p>En particular, podemos definir las variables de la pregunta de la siguiente manera.</p> <pre><code>aa : ev(2+rand(10),simp);\nbb : ev(2+rand(10),simp);\nnn : ev(2+rand(5),simp);\nqq : (aa*%e^(bb*%i))^nn;\n</code></pre> <p>Una alternativa, cuando hay que simplificar muchas expresiones consecutivas, es la siguiente:</p> <pre><code>simp : true;\naa : 2+rand(10);\nbb : 2+rand(10);\nnn : 2+rand(5);\nsimp : false;\nqq : (aa*%e^(bb*%i))^nn;\n</code></pre>"},{"location":"AbInitio/Authoring_quick_start_7/#unario-menos","title":"Unario menos","text":"<p>Las circunstancias particulares dictar\u00e1n si es mejor tener muchas variables y usar la visualizaci\u00f3n, o si es mejor activar <code>simp:false</code> y trabajar con esto.  Un problema com\u00fan surge con el menos unario. Considere un texto de pregunta como <code>Encuentra {@aa@}+{@bb@}</code>. Si <code>bb</code>&lt;0, la expresi\u00f3n se mostrar\u00e1 como , por ejemplo.  Si bien la simplificaci\u00f3n est\u00e1 \"desactivada\", las rutinas de visualizaci\u00f3n en Maxima (a menudo) hacen frente al signo menos unario de una manera adecuada.</p>"},{"location":"AbInitio/Authoring_quick_start_7/#proximo-paso","title":"Pr\u00f3ximo paso","text":"<p>Ahora deber\u00edas ser capaz de determinar cu\u00e1ndo es conveniente desactivar la simplificaci\u00f3n. Si has estado siguiendo esta gu\u00eda r\u00e1pida, ya deber\u00edas conocer algunos pasos que puedes dar para mejorar esta cuesti\u00f3n. Por ejemplo, podr\u00edas a\u00f1adir comentarios m\u00e1s espec\u00edficos, aleatorizar tu pregunta y a\u00f1adir pruebas de la pregunta.</p>"},{"location":"AbInitio/Authoring_quick_start_7/#la-siguiente-parte-de-la-guia-de-inicio-rapido-de-creacion-se-centra-en-configurar-un-cuestionario","title":"La siguiente parte de la gu\u00eda de inicio r\u00e1pido de creaci\u00f3n se centra en configurar un cuestionario.","text":""},{"location":"AbInitio/Authoring_quick_start_8/","title":"Autor\u00eda inicio r\u00e1pido 8: crear un cuestionario","text":"<p>1 - Primera pregunta | 2 - Variables de pregunta | 3 - Retroalimentaci\u00f3n | 4 - Aleatorizaci\u00f3n | 5 - Test de preguntas | 6 - Preguntas de varias partes | 7 - Simplificaci\u00f3n | 8 - Cuestionarios</p> <p>Esta parte de la gu\u00eda de inicio r\u00e1pido de creaci\u00f3n trata sobre la configuraci\u00f3n de un cuestionario Moodle. El siguiente v\u00eddeo explica el proceso:</p>"},{"location":"AbInitio/Authoring_quick_start_8/#introduccion","title":"Introducci\u00f3n","text":"<p>Una vez que haya creado las preguntas, querr\u00e1 incluirlas en un cuestionario.  Tambi\u00e9n puede configurar un cuestionario utilizando las preguntas de ejemplo.  </p> <p>El prop\u00f3sito de este documento es proporcionar una gu\u00eda, desde el punto de vista de un principiante, de algunos de los pasos necesarios para configurar preguntas de matem\u00e1ticas en un cuestionario Moodle, utilizando el paquete de evaluaci\u00f3n asistida por ordenador STACK. Tenga en cuenta que esta gu\u00eda corre el riesgo de duplicar la documentaci\u00f3n del cuestionario de Moodle, que tambi\u00e9n deber\u00eda consultarse.</p>"},{"location":"AbInitio/Authoring_quick_start_8/#encontrar-preguntas","title":"Encontrar preguntas","text":"<p>Es necesario empezar por identificar las preguntas para el cuestionario y la forma m\u00e1s f\u00e1cil de hacerlo es comenzar con una pregunta que ya est\u00e1 escrita y modificarla para satisfacer sus necesidades.  </p> <p>Si ha seguido la gu\u00eda de inicio r\u00e1pido hasta ahora, tambi\u00e9n deber\u00eda saber c\u00f3mo escribir su propia pregunta desde cero.</p>"},{"location":"AbInitio/Authoring_quick_start_8/#importar-preguntas-de-un-servidor-existente","title":"Importar preguntas de un servidor existente","text":"<p>Veamos c\u00f3mo importar preguntas de un servidor existente a tu servidor.</p> <p>Primero, debe exportar las preguntas existentes:</p> <ol> <li>Inicie sesi\u00f3n en el m\u00f3dulo del servidor Moodle desde el que desea exportar las preguntas, y haga clic en <code>Banco de preguntas</code> en el bloque Administraci\u00f3n. A continuaci\u00f3n, haga clic en <code>Exportar</code>,  </li> <li>Haga clic en <code>Formato XML de Moodle</code>, luego elija la categor\u00eda que desea exportar.  Moodle s\u00f3lo permite exportar categor\u00edas individuales. </li> <li>Haga clic en <code>Exportar preguntas a archivo</code>. Esto descargar\u00e1 un archivo con todas las preguntas de esa categor\u00eda.</li> </ol> <p>Para importar estas preguntas a su curso</p> <ol> <li>Acceda a su m\u00f3dulo en el servidor Moodle y haga clic en <code>Banco de preguntas</code> en el bloque Administraci\u00f3n,</li> <li>Haga clic en <code>Importar</code>,</li> <li>Haga clic en <code>Moodle XML format</code> y arrastre y suelte el archivo <code>.xml</code> de su carpeta de Descargas en su escritorio, y haga clic en <code>Importar</code> y luego en <code>Continuar</code>. Una copia de las preguntas aparecer\u00e1 en el banco de preguntas de tu m\u00f3dulo y podr\u00e1s modificarlas a tu gusto.</li> </ol>"},{"location":"AbInitio/Authoring_quick_start_8/#construir-un-cuestionario-moodle","title":"Construir un cuestionario Moodle","text":"<p>Una vez que haya construido un banco de preguntas (ya sea import\u00e1ndolas o escribi\u00e9ndolas usted mismo) puede ponerlas en un cuestionario Moodle. </p> <p>Dentro de los materiales de muestra de STACK se incluye un \"Cuestionario\", y se recomienda que ponga una copia del mismo en su propia p\u00e1gina. Esto permite a los estudiantes practicar la sintaxis de c\u00f3mo introducir respuestas en un cuestionario STACK antes de que intenten un cuestionario espec\u00edfico para su m\u00f3dulo, y tambi\u00e9n comprueba que pueden leer las matem\u00e1ticas en su m\u00e1quina.</p>"},{"location":"AbInitio/Authoring_quick_start_8/#comportamientos-de-las-preguntas","title":"Comportamientos de las preguntas","text":"<p>Los comportamientos de las preguntas dictan cu\u00e1ntos intentos se dan a los estudiantes y c\u00f3mo se distribuyen las penalizaciones. Hay varios comportamientos de pregunta disponibles para un cuestionario de Moodle. Los m\u00e1s importantes son:</p> <p>Retroalimentaci\u00f3n inmediata, que s\u00f3lo permite a los estudiantes un intento en cada pregunta, pero da retroalimentaci\u00f3n inmediatamente despu\u00e9s de contestar una pregunta, o s\u00f3lo cuando todas las preguntas han sido contestadas y enviadas. Esto es \u00fatil para cuestionarios formativos/sumativos est\u00e1ndar.</p> <p>Retroalimentaci\u00f3n diferida, que s\u00f3lo permite a los estudiantes un intento en cada pregunta, y no da retroalimentaci\u00f3n hasta despu\u00e9s de una fecha determinada. Esto es \u00fatil para ex\u00e1menes y pruebas de trabajo de curso donde no desea que los estudiantes compartan soluciones trabajadas. </p> <p>Interactivo con m\u00faltiples intentos, que permite a los estudiantes tener un n\u00famero finito de intentos para resolver la pregunta, con una pista que se muestra despu\u00e9s de cada uno. Deduce una nota de penalizaci\u00f3n por cada intento incorrecto. Esto es \u00fatil para cuestionarios formativos en los que desea dar pistas. Tenga en cuenta que el n\u00famero de intentos es uno m\u00e1s que el n\u00famero de \"Pistas\" dadas en cada pregunta. Las <code>Pistas</code> se encuentran en la secci\u00f3n <code>Opciones</code> al editar una pregunta.  </p> <p>Adaptativa, que permite al alumno tantos intentos como quiera, pero deduce una penalizaci\u00f3n de la puntuaci\u00f3n total de la pregunta por cada vez que el alumno se equivoca en la respuesta. Esto es \u00fatil para preguntas de prueba y para cuestionarios de pr\u00e1ctica informales.</p>"},{"location":"AbInitio/Authoring_quick_start_8/#configuracion-del-cuestionario","title":"Configuraci\u00f3n del cuestionario","text":"<ol> <li>Vaya a la p\u00e1gina de Moodle y haga clic en <code>Activar edici\u00f3n</code>.  </li> <li>Vaya al bloque donde quiere poner el cuestionario o a\u00f1ada un bloque adicional y haga clic en <code>A\u00f1adir una actividad o recurso</code>, haga clic en <code>Cuestionario</code> y despu\u00e9s en <code>A\u00f1adir</code>.  </li> <li>Asigne un nombre al cuestionario y escriba la descripci\u00f3n que desee en la casilla Descripci\u00f3n.  Si lo desea, puede utilizar LaTeX.  </li> <li>Haga clic en <code>Tiempo</code> y fije las horas de apertura y cierre.  </li> <li>Haga clic en \"Calificaci\u00f3n\" y fije los <code>Intentos permitidos</code>.  Por ejemplo, puede utilizar <code>Ilimitado</code> para un cuestionario de pr\u00e1ctica y <code>1</code> para un cuestionario del curso.  </li> <li>Haga clic en <code>Comportamiento de las preguntas</code> y elija el comportamiento de las preguntas que desee, tal y como se ha explicado anteriormente.</li> <li>En <code>Opciones de revisi\u00f3n</code>, puede elegir lo que los estudiantes pueden ver durante o despu\u00e9s del cuestionario. Esto incluye opciones como si su respuesta es correcta, su nota y comentarios. Recomendamos desactivar la opci\u00f3n <code>Respuesta correcta</code> tanto para los cuestionarios de pr\u00e1ctica como para los de trabajo de curso, y permitir que la opci\u00f3n <code>Retroalimentaci\u00f3n general</code> (soluci\u00f3n trabajada) est\u00e9 activada para los cuestionarios de pr\u00e1ctica, pero desactivada para los cuestionarios de trabajo de curso.</li> <li>Termine haciendo clic en <code>Guardar y volver al curso</code>.  </li> </ol> <p>Puede alternar si los estudiantes pueden ver el cuestionario/tema haciendo clic en <code>Editar</code> y <code>Mostrar</code>.</p> <p>Tenga en cuenta que el banco de preguntas de Moodle crear\u00e1 autom\u00e1ticamente una categor\u00eda para el cuestionario.  A veces es conveniente poner todas las preguntas utilizadas en el cuestionario en esta categor\u00eda, pero tenga en cuenta que s\u00f3lo ver\u00e1 la categor\u00eda si ha navegado previamente al cuestionario.</p>"},{"location":"AbInitio/Authoring_quick_start_8/#anadir-preguntas","title":"A\u00f1adir preguntas","text":"<ol> <li>Haga clic en el cuestionario, y luego en <code>Editar cuestionario</code>.  </li> <li>Haga clic en <code>A\u00f1adir</code> y despu\u00e9s en <code>Del banco de preguntas</code>, seleccione una categor\u00eda y despu\u00e9s una o m\u00e1s de las preguntas STACK que haya creado.</li> <li>Haga clic en <code>A\u00f1adir las preguntas seleccionadas al cuestionario</code>, luego en <code>Guardar</code> y vuelva a la p\u00e1gina principal del m\u00f3dulo.  </li> </ol> <p>Para previsualizar el cuestionario, haga clic en \u00e9l y luego en <code>Previsualizar cuestionario ahora</code>.</p>"},{"location":"AbInitio/Authoring_quick_start_8/#tiempo-extra","title":"Tiempo extra","text":"<p>Si tiene estudiantes que necesitan tiempo extra, necesita crear <code>Grupos</code> con estos estudiantes. Aqu\u00ed tiene un ejemplo para un grupo de estudiantes que necesitan un 25% de tiempo extra.  </p> <ol> <li>En <code>Administraci\u00f3n del curso</code>, haga clic en <code>Usuarios</code>, luego <code>Grupos</code>, luego <code>Crear grupo</code>.  </li> <li>D\u00e9 un nombre al grupo, por ejemplo, \"25% de tiempo extra\".  Puedes poner m\u00e1s detalles sobre a qui\u00e9n va dirigido el grupo en la casilla <code>Descripci\u00f3n del grupo</code>.  Haga clic en \"Guardar cambios\". </li> <li>Haga clic en <code>Agregar/eliminar usuarios</code>, luego haga clic en el ID de un estudiante en particular para este grupo y haga clic en <code>Agregar</code> para incluirlo en el grupo.  Repita para cada estudiante que necesite estar en este grupo.  </li> <li>Vuelva atr\u00e1s y haga clic en el cuestionario de Moodle. En la <code>Administraci\u00f3n del cuestionario</code>, haga clic en <code>Anulaciones de grupo</code>, despu\u00e9s haga clic en <code>A\u00f1adir anulaci\u00f3n de grupo</code>, elija el grupo relevante, establezca el <code>L\u00edmite de tiempo</code> apropiado para el cuestionario para ese grupo y haga clic en <code>Guardar</code>. </li> </ol>"},{"location":"AbInitio/Authoring_quick_start_8/#ver-resultados","title":"Ver resultados","text":"<p>Para ver los resultados de los estudiantes en un cuestionario en particular, vaya al cuestionario, luego en <code>Administraci\u00f3n del cuestionario</code> haga clic en <code>Resultados</code> y luego en <code>Calificaciones</code>. Esto le permitir\u00e1 ver todos los intentos, con la nota global y la nota de cada pregunta. Tambi\u00e9n puede descargar los resultados en Excel aqu\u00ed.</p>"},{"location":"AbInitio/Authoring_quick_start_8/#proximos-pasos","title":"Pr\u00f3ximos pasos","text":"<p>Ahora deber\u00eda ser capaz de trabajar con cuestionarios en Moodle.</p> <p>Esto concluye la gu\u00eda de inicio r\u00e1pido de autor\u00eda. La documentaci\u00f3n de STACK es muy completa, y hay muchas cosas que quiz\u00e1s quieras ver a continuaci\u00f3n. Por ejemplo, puede</p> <ul> <li>aprender m\u00e1s sobre tipos de entrada,</li> <li>aprender sobre m\u00e1s tests de respuesta,</li> <li>a\u00f1ade plots a tus campos CASText,</li> <li>a\u00f1adir soporte para m\u00faltiples idiomas,</li> <li>aprender sobre el uso de razonamiento de equivalencia,</li> <li>leer sobre gr\u00e1fica de curvas.</li> <li>mire m\u00e1s informaci\u00f3n sobre Maxima, en particular la documentaci\u00f3n de Maxima si no est\u00e1 muy familiarizado con la sintaxis y los nombres de las funciones de Maxima. Una interfaz gr\u00e1fica de Maxima como wxMaxima tambi\u00e9n puede ser muy \u00fatil para encontrar f\u00e1cilmente los comandos apropiados de Maxima.</li> </ul>"},{"location":"About/","title":"Acerca del proyecto STACK","text":"<p>STACK es un sistema de evaluaci\u00f3n para matem\u00e1ticas, ciencias y disciplinas afines, dise\u00f1ado para que los estudiantes puedan responder a preguntas con una expresi\u00f3n matem\u00e1tica, como un polinomio.  STACK utiliza un sistema de \u00e1lgebra computacional y los estudiantes no est\u00e1n limitados a la opci\u00f3n m\u00faltiple.</p> <p>Existe una amplia y creciente comunidad de usuarios de STACK en muchos idiomas.</p> <ul> <li>El sitio web principal de la comunidad STACK es https://stack-assessment.org/</li> <li>La discusi\u00f3n general de la comunidad tiene lugar en https://stack-assessment.zulipchat.com/</li> <li>Para plataformas espec\u00edficas</li> <li>Usuarios de ILIAS ver https://docu.ilias.de/goto_docu_cat_4119.html.</li> <li>Los usuarios de Moodle pueden consultar el foro the Mathematics tools.</li> <li>Un servidor de demostraci\u00f3n est\u00e1 disponible en Edimburgo:  https://stack-demo.maths.ed.ac.uk/demo/</li> </ul> <p>El c\u00f3digo fuente, y discusi\u00f3n de desarrollo, est\u00e1 en github, con un sitio adicional ILIAS.</p>"},{"location":"About/#caracteristicas-principales-de-stack","title":"Caracter\u00edsticas principales de STACK","text":""},{"location":"About/#respuestas-equivalentes-de-la-forma-correcta","title":"Respuestas equivalentes de la forma correcta","text":"<p>STACK puede aceptar expresiones equivalentes, por ejemplo . STACK tambi\u00e9n puede establecer la forma de una respuesta, por ejemplo si est\u00e1 factorizada.  STACK est\u00e1 dise\u00f1ado para permitir a los profesores especificar propiedades independientes requeridas en una respuesta.</p>"},{"location":"About/#pedir-ejemplos","title":"Pedir ejemplos","text":"<p>El sistema puede marcar las preguntas que piden al alumno que proporcione un ejemplo.</p> <pre><code>Ponga un ejemplo de una funci\u00f3n f(x) con un m\u00ednimo en x=0 y un m\u00e1ximo en x=2.\n</code></pre> <p>En lugar de comparar la respuesta del alumno con la del profesor, STACK comprueba que la respuesta tiene las propiedades requeridas.  Dar ejemplos es una habilidad de orden superior imposible de evaluar con los sistemas convencionales de evaluaci\u00f3n asistida por ordenador (\"Computer Aided Assessment\", CAA).</p>"},{"location":"About/#aleatorizacion-inteligente","title":"Aleatorizaci\u00f3n inteligente","text":"<p>La aleatorizaci\u00f3n de las preguntas tiene un valor incalculable para garantizar que los alumnos puedan practicar y reducir el intercambio de respuestas. El truco consiste en aplicar ingenier\u00eda inversa a la pregunta aleatoria a partir de una respuesta aleatoria. El \u00e1lgebra computacional es de gran ayuda en este proceso.</p>"},{"location":"About/#dar-retroalimentacion-y-credito-parcial","title":"Dar retroalimentaci\u00f3n y cr\u00e9dito parcial","text":"<p>Considera una pregunta como:</p> <p>D\u00e9 un ejemplo de un polinomio c\u00fabico con las siguientes propiedades:   * ,   *  en  y en .</p> <p>Aqu\u00ed, STACK puede comprobar cada condici\u00f3n por separado en la respuesta del alumno y asignar un cr\u00e9dito parcial en consecuencia. Si el alumno diera la respuesta  por ejemplo, entonces STACK podr\u00eda responder: Tu respuesta tiene ceros en los puntos requeridos pero su valor en cero no es igual a 1. Has recibido 2 de 3 puntos. Por favor, int\u00e9ntelo de nuevo. Hay una variedad de maneras en las que se puede dar retroalimentaci\u00f3n, incluyendo graficar la respuesta de los estudiantes contra la respuesta del profesor.</p>"},{"location":"About/#preguntas-con-varias-partes","title":"Preguntas con varias partes","text":"<p>STACK soporta preguntas multiparte, como las siguientes:</p> <p>(a) diferenciar  con respecto a x.   (b) sustituir  en su respuesta.</p> <p>Se pueden marcar situaciones en las que, por ejemplo, el alumno introduce una expresi\u00f3n incorrecta en la parte (a), pero sustituye correctamente los valores en su expresi\u00f3n en la parte (b). En este caso, STACK puede reconocer el trabajo realizado por el alumno en la parte (b), aunque su respuesta sea diferente de la respuesta \"correcta\".</p>"},{"location":"About/#soporte-para-muchos-tipos-de-preguntas","title":"Soporte para muchos tipos de preguntas","text":"<p>STACK dispone de un gran n\u00famero de entradas y tests de respuesta para satisfacer las diversas necesidades de los usuarios de matem\u00e1ticas y ciencias. Esto incluye preguntas sobre precisi\u00f3n num\u00e9rica, cifras significativas y unidades cient\u00edficas. Tambi\u00e9n puede evaluar la capacidad de los alumnos para razonar l\u00ednea por l\u00ednea con razonamiento por equivalencia. </p>"},{"location":"About/#mas-informacion","title":"M\u00e1s informaci\u00f3n","text":"<ul> <li>El sitio web principal de la comunidad https://stack-assessment.org/</li> <li>La filosof\u00eda de STACK.</li> <li>Publicaciones asociadas.</li> <li>Las matem\u00e1ticas detr\u00e1s del logotipo de STACK.</li> </ul>"},{"location":"About/Credits/","title":"Contributors to the STACK Project","text":"<p>More details of our development history are given in the development track.</p> <ul> <li>Chris Sangwin of the University of Edinburgh. STACK is the brainchild of Chris Sangwin.</li> <li>Tim Hunt and Tim Lowe of the Open University.</li> <li>Matti Harjula of Aalto University, Finland.</li> </ul> <p>Previous developers have included</p> <ul> <li>John Beedell</li> <li>Simon Hammond</li> <li>Jonathan Hart</li> <li>Ben Holmes</li> <li>Maksim Kraev</li> <li>Mikael Kurula</li> <li>Matti Pauna</li> <li>Malthe Sporring</li> <li>Dan Williams</li> </ul> <p>STACK is an open source project and many others have made contributions of various sizes.</p>"},{"location":"About/Credits/#translation-of-the-stack-project","title":"Translation of the STACK Project","text":"<p>STACK is designed to support the straightforward addition of other language packs. If you have translated STACK into other languages - or would be interested in doing so - please let us know! Likewise, if you would really like to see STACK in another language please contact us.  Details of how to add language packs, translate STACK, and forthcoming translations, are given on the Language packs developers page.</p> <p>STACK is released in many languages, using Moodle's ATOS language system.</p> <ul> <li>EN: English (British), by Chris Sangwin (and others)</li> <li>FI: Finnish, by Matti Pauna</li> <li>SV: Swedish, by Mikael Kurula</li> <li>DA: Danish, by Malthe Sporring</li> <li>ES: Spanish, by Victor Hugo Huerta </li> <li>JA: Japanese, by Yasuyuki Nakamura and Takahiro Nakahara  </li> </ul> <p>German documentation was added in Jan 2019 by Eva Mix and Mario Josupeit of University of Cologne, Germany.</p>"},{"location":"About/Credits/#other-implementations-and-projects","title":"Other implementations and projects","text":"<p>STACK has been ported to the plugin assStackQuestion for the Learning Management System ILIAS  by:</p> <ul> <li>Jesus Copado</li> <li>Fred Neumann</li> </ul> <p>This project received a lot of moral support from the ILIAS association and its product manager Matthias Kunkel, as well as funding from various institutions:</p> <ul> <li>Duale Hochschule Baden W\u00fcrttemberg</li> <li>Hochschule Bremen</li> <li>Helmut-Schmidt-Universit\u00e4t Hamburg</li> <li>Fachhochschule Aachen</li> <li>Hochschule Karlsruhe</li> <li>Fachhochschule M\u00fcnster</li> <li>Universit\u00e4t Freiburg</li> <li>Universit\u00e4t Erlangen-N\u00fcrnberg</li> <li>Universit\u00e4t zu K\u00f6ln</li> </ul>"},{"location":"About/Credits/#user-list","title":"User list","text":"<p>The following institutions made use of previous versions of STACK.  If you are actively using STACK and would like to be listed below then please contact the developers.</p> <p>School of Mathematics, The University of Edinburgh : The home of STACK. Contact Chris Sangwin.</p> <p>School of Mathematics and Statistics, The Open University, : Contact Tim Hunt and Tim Lowe</p> <p>School of Science, Aalto University, Helsinki, Finland : Contact Matti Harjula and Antti Rasila</p> <p>Department of Mathematics Education, Loughborough University : Contact Ian Jones</p> <p>School of Informatics and Sciences, Nagoya University, Japan : Contact Yasuyuki Nakamura</p> <p>Ja STACK Community : Contact Ja STACK.org</p> <p>Polytechnic Institute of Leiria, Leiria, Portugal : Contact Rui Paiva</p> <p>School of Computing, Information and Mathematical Sciences, The University of the South Pacific : Contact Dhiraj Bhartu</p> <p>Gymnasium Himmelsth\u00fcr, Hildesheim, Deutschland : Contact Frank Sch\u00fctte</p> <p>Universidad Michoacana de San Nicolas de Hidalgo : Contact Victor Hugo Huerta</p> <p>e-MAIO project, Coimbra Institute of Engineering, Portugal : Contact e_MAIO@isec.pt</p> <p>Maseno University, Kenya : Contact Michael Oyengo</p> <p>IDEMS International : Contact Santiago Borio</p> <p>ETH Z\u00fcrich, Switzerland : Contact Meike Akveld, George Ionita, Andreas Steiger</p>"},{"location":"About/Logo/","title":"The mathematics of the STACK logo","text":"<p>The STACK logo is based on the following problem.</p> <p>If you stack identical blocks one on top of the other, how far can it lean before it falls over?   You have a potentially unlimited supply of blocks.</p> <p>The answer is that there is no limit to how far it can lean!  A physical model is shown below.</p> <p></p> <p>Model made by Dr John Bryant.</p>"},{"location":"About/Logo/#the-mathematics-of-this-problem","title":"The mathematics of this problem","text":"<p>To see why the STACK of blocks doesn't fall over assume that the width of each domino is  \"units\". Our strategy is this: at each stage we consider an existing balancing stack of  dominoes which has its centre of mass a distance  from its left-hand edge.</p> <p>Obviously  for all  as the centre of mass is to be above the bottom domino! We then place this stack on top of a new domino a distance  from the left of the domino. There will clearly be no toppling if</p> <p> </p> <p>That is to say we maintain balance if we don't displace the top stack so far that the displacement plus the distance of the centre of mass from the left pushes the centre of mass over the edge of the bottom domino - which has width . The new centre of mass of the whole stack of  dominoes will be  from the left of the bottom domino where</p> <p> </p> <p>Using the first inequality the maximum displacement without toppling is . Combining this with the formula for  and solving for  gives</p> <p> </p> <p>So that for all , .</p>"},{"location":"About/Logo/#how-big-does-the-displacement-become","title":"How big does the displacement become?","text":"<p>The question becomes, what is the value of</p> <p> </p> <p>for large N? If , this is a particularly famous infinite series - the harmonic series. Actually, this diverges. That is to say it is possible to make the sum as large as one would wish. To see this, we group the terms as follows,</p> <p> </p> <p> </p> <p> </p> <p>which shows that the series keeps getting larger as we continue to add terms. That is to say it does not converge.</p> <p>In terms of the domino problem: we can choose displacements  so that (i) the stack does not topple over, and (ii) we can produce an arbitrarily large horizontal displacement. Bizarre indeed!</p>"},{"location":"About/Publications/","title":"Publications","text":"<p>STACK is a very popular online assessment system, used by many groups in a variety of languages.  STACK has been the subject of research, and has itself enabled research projects to take place. This page contains a selection of publications.  </p>"},{"location":"About/Publications/#publicity-materials","title":"Publicity materials.","text":"<p>We have a booklet of case studies, and a PDF flyer about the STACK project.</p> <p>We have a \"Getting started with STACK\" guide (Spanish).</p>"},{"location":"About/Publications/#computer-aided-assessment-of-mathematics","title":"Computer aided assessment of mathematics","text":"<p>Computer Aided Assessment of Mathematics, Chris Sangwin, Oxford University Press, 2013.</p> <p>This book provides an Introduction to Computer Aided Assessment using STACK as the main working example.</p>"},{"location":"About/Publications/#nakamura-2010","title":"Nakamura (2010)","text":"<p>Y. Nakamura, The STACK e-Learning and Assessment System for mathematics, science and engineering education through Moodle, Tokyo Denki University Press, 2010, (In Japanese) ISBN 978-4-501-54820-9.</p>"},{"location":"About/Publications/#papers-about-stack","title":"Papers about STACK","text":"<p>Proceedings of the 1st International STACK Conference can be found can be found on the open access publication server Zenodo here: https://zenodo.org/communities/stack</p> <p>These recent papers about STACK are a good place to start:</p> <ul> <li>C. J. Sangwin, R. Bickerton, R. (2023). Practical Online Assessment of Mathematical Proof, International Journal of Mathematical Education in Science and Technology, 53(10) doi:10.1080/0020739X.2021.1896813.  </li> <li>C. J. Sangwin and I. Jones (2017). Asymmetry in student achievement on multiple choice and constructed response items in reversible mathematics processes. Educational Studies in Mathematics, 94:205-222.</li> <li>C. J. Sangwin and N. Kocher (2016). Automation of mathematics examinations. Computers and Education, 94:215-227.</li> </ul> <p>A comprehensive bibliography is available here: STACK bibliography, with the entries in BiBTeX format.</p>"},{"location":"About/The_philosophy_of_STACK/","title":"Philosophy of STACK","text":"<p>One of the key advantages over traditional hand-marking is that, when done correctly, online assessment can effectively assess and give feedback to a large number of students. This frees up marking time and resources that would normally have to be spent by several tutors. Additionally, it can be frustrating for students when their tutors are not consistent in how they mark.</p> <p>The traditional form of CAA is teacher-provided answer questions. In these questions, a student makes a selection from, or interacts with, potential answers which the teacher has selected. Examples include multiple choice questions and multiple response questions. These types of questions have a number of limitations, including:</p> <ol> <li>Only finite answers are possible. The teacher can put in \"dummy responses\" for common mistakes and give feedback based on those mistakes, but it is impossible to give feedback on student errors outside the given examples.</li> <li>You can only assess lower-order skills. \"Give an example of...\" type questions are impossible.</li> <li>It encourages strategic learning, i.e. instead of solving the problem, students will think about how to \"trick the system\" and find the right answer.</li> <li>Question distortion is especially problematic in mathematics. You may ask students to integrate a complicated function, and then give a list of potential answers. Differentiating the answers to get the original expression is a much easier process, and sensible students are likely to take the easier route, which is not what we wanted the student to practice.</li> </ol> <p>The alternative is to focus on student-provided answer questions. In these questions, the student's answer contains the content. For example, a student could be asked to input an algebraic expression, like a polynomial. This system is harder to implement, but responds to all the shortcomings of teacher-provided answer questions listed above. STACK was designed to be such a system.</p>"},{"location":"About/The_philosophy_of_STACK/#design-choices","title":"Design choices","text":"<p>STACK is not the first CAA system to focus on student-provided answer questions. However, STACK has a number of key design choices that make it stand out.</p>"},{"location":"About/The_philosophy_of_STACK/#teachers-should-be-able-to-write-their-own-questions-with-minimal-coding-skill","title":"Teachers should be able to write their own questions, with minimal coding skill","text":"<p>Teachers should take responsibility for their assessments. When assessing students' answers, STACK asks teachers to focus on the properties of students' answers, such as \"algebraically equivalent to the teacher's answer\", \"factorised\", etc. </p> <ul> <li>Focusing on mathematical properties, such as equivalence, is a unique design feature of STACK.</li> </ul> <p>Teachers can then pick suitable answer tests in a potential response tree and give marks and feedback accordingly.  STACK does not require teachers to learn a coding language and assess students' answers by writing code such as :</p> <pre><code>If\n simplify(student_answer - teacher_answer) = 0\nthen\n  mark = 1,\nelse\n  mark = 0.\n</code></pre>"},{"location":"About/The_philosophy_of_STACK/#students-should-not-be-penalised-for-poor-computer-skills","title":"Students should not be penalised for poor computer skills","text":"<p>Online assessment should assess mathematics skills, not how well students know the specific syntax. For example, penalising a student for answering <code>sinx</code> instead of <code>sin(x)</code> is not fair.</p> <ul> <li>Separating validity from assessment is a key design feature pioneered by STACK.</li> </ul> <p>To ensure that students are marked for mathematical skills instead of computer skills, STACK separates \"validity\" and \"correctness\". When a student types an answer, it is interpreted by the CAS and a \"validation box\" is shown displaying how the student's answer is interpreted. This gives the student a chance to fix any syntax errors before their answer is marked.</p>"},{"location":"About/The_philosophy_of_STACK/#multipart-questions-should-be-possible","title":"Multipart questions should be possible","text":"<p>Multipart questions can be very helpful for students, for example to help guide a student through a new topic.</p> <ul> <li>STACK completely separates input and assessment with a unique and flexible design.</li> </ul> <p>A question can have unlimited input boxes, and unlimited potential response trees to handle the assessment. Each tree is not limited to a particular input, but instead has access to all the student's inputs. Hence, a tree assessing the correctness of part (b) of a question can use the student's answer to part (a) in its algorithm. This allows for follow-through marking, where a student be penalised for a wrong expression in part (a) but given credit for correctly substituting in values in part (b).</p>"},{"location":"About/The_philosophy_of_STACK/#stack-is-rich-in-features","title":"STACK is rich in features","text":"<p>STACK is designed to cover the needs of a large variety of users across mathematics and science.</p> <ul> <li>Questions can be randomised to ensure different students see different variants of a question.</li> <li>There are many different kinds of inputs. These are, for example, where the student enters a mathematical expression, or makes a true/false selection.</li> <li>Partial credit is possible when an expression only satisfies some of the required properties.</li> <li>Plots can be dynamically generated and included within any part of the question, including feedback in the form of a plot of the student's expression.</li> <li>Students can work line by line reasoning by equivalence until they have a final answer in the correct form. </li> <li>STACK supports working with significant figures and scientific units.</li> </ul>"},{"location":"About/The_philosophy_of_STACK/#stack-is-open-source","title":"STACK is open source","text":"<p>The problems faced by teachers, particularly in University, are the same the world over.  The developers of STACK wanted to make sure students do not have to pay for access codes to published books and that institutions are not locked into an expensive system.  At the same time, they wanted a system that encourages other developers to collaborate on improving STACK.  </p> <ul> <li>STACK is the leading open souce online assessment system for mathematics and STEM.</li> </ul> <p>The business model for STACK relies on institutions collaborating on the infrustricture, remaining free to use the resulting system as the please, including in commercially as needed.  Many design decisions for STACK are a direct result of choosing the GPL license for the codebase, for example the choice of Maxima as its Computer Algebra System (CAS), Moodle and ILIAS to take care of identity management, LaTeX/MathJax to filter and display mathematics.  The documentation for STACK is available under the  Creative Commons Attribution-ShareAlike 4.0 International License .</p>"},{"location":"Authoring/","title":"Autor\u00eda","text":"<p>La documentaci\u00f3n de creaci\u00f3n proporciona informaci\u00f3n sobre temas de creaci\u00f3n comunes.</p>"},{"location":"Authoring/#estructura-de-pregunta-en-stack","title":"Estructura de pregunta en STACK","text":"<p>Una <code>PreguntaStack</code> es el objeto b\u00e1sico del sistema. La siguiente tabla muestra los campos que componen una pregunta, con enlaces a la documentaci\u00f3n de cada uno.</p> Nombre Detalles Nombre de Pregunta Nombra una pregunta Variables de Pregunta Estas son variables potencialmente aleatorias que pueden usarse para generar una pregunta. Texto de Pregunta Esta es la pregunta que realmente ve el estudiante. Retroalimentaci\u00f3n general La soluci\u00f3n trabajada solo est\u00e1 disponible despu\u00e9s de cerrar un elemento. Nota de pregunta Dos variantes de preguntas generadas aleatoriamente son diferentes si y s\u00f3lo si la nota de la pregunta es diferente. Utilice este campo para almacenar informaci\u00f3n \u00fatil que distinga variantes. Entradas Las entradas son las cosas, como los cuadros de formulario, con las que el estudiante realmente interact\u00faa. \u00c1rboles de respuesta potencial Estos son los algoritmos que establecen las propiedades matem\u00e1ticas de las respuestas de los estudiantes y generan retroalimentaci\u00f3n. Opciones Se pueden cambiar muchos comportamientos con las opciones."},{"location":"Authoring/#otros-temas-de-autoria","title":"Otros temas de autor\u00eda","text":"<p>La documentaci\u00f3n de creaci\u00f3n tambi\u00e9n cubre temas sobre:</p>"},{"location":"Authoring/#castext","title":"CASText","text":"<ul> <li>Hojas de Hechos Conocidos,</li> <li>Bloques de preguntas,</li> <li>Usando JSXGraph.</li> </ul>"},{"location":"Authoring/#tipos-de-entrada","title":"Tipos de entrada","text":"<ul> <li>Entrada num\u00e9rica,</li> <li>Unidades en entrada,</li> <li>Razonamiento de equivalencia,</li> <li>Preguntas de respuestas m\u00faltiples,</li> </ul>"},{"location":"Authoring/#dar-retroalimentacion-con-arboles-de-respuesta-potencial","title":"Dar retroalimentaci\u00f3n con \u00e1rboles de respuesta potencial","text":"<ul> <li>Informaci\u00f3n sobre los tipos de retroalimentaci\u00f3n en STACK,</li> <li>Usando Responder pruebas.</li> </ul>"},{"location":"Authoring/#test-e-informes","title":"Test e informes","text":"<ul> <li>Crear Test de Preguntas,</li> <li>Implementaci\u00f3n de variantes,</li> <li>Informes,</li> <li>Garantizar que las preguntas funcionen en el futuro.</li> </ul>"},{"location":"Authoring/#temas-de-matematicas","title":"Temas de matematicas","text":"<ul> <li>Demostraciones</li> <li>Dibujo de curvas.</li> </ul>"},{"location":"Authoring/#otros","title":"Otros","text":"<ul> <li>Creando preguntas multilenguajes.</li> <li>\u00bfD\u00f3nde encontrar preguntas de ejemplo?.</li> <li>Preguntas frecuentes.</li> </ul>"},{"location":"Authoring/#tambien-ver","title":"Tambi\u00e9n ver","text":"<p>Si no puede encontrar documentaci\u00f3n sobre el tema que est\u00e1 buscando, es posible que la encuentre en la secci\u00f3n CAS de la documentaci\u00f3n. Esto incluye documentaci\u00f3n sobre c\u00f3mo trabajar con Maxima en una pregunta y, por lo tanto, cubre temas como</p> <ul> <li>Desigualdades,</li> <li>Aleatorizaci\u00f3n,</li> <li>Trazar gr\u00e1ficos,</li> <li>Simplificaci\u00f3n.</li> </ul>"},{"location":"Authoring/Author_FAQ/","title":"Author FAQ","text":""},{"location":"Authoring/Author_FAQ/#which-version-of-stack-do-i-have","title":"Which version of STACK do I have?","text":"<p>If you navigate to the front page of the STACK documentation on your server then you can find the version number of the STACK plugin at the bottom of the page.  If your site is <code>https://maths.assessment/site</code> then the URL of the STACK documentation is probably <code>https://maths.assessment/site/question/type/stack/doc/doc.php</code>.  We distribute the documentation with the source code so you can check the STACK features you have available on your site by referring to this version of the documentation (rather than the docs on https://docs.stack-assessment.org/ which documents the latest release.).</p> <p>The version number is given in the form used by all Moodle plugins, e.g. <code>2022052300</code> which is basically a release date of the plugin you are using.</p>"},{"location":"Authoring/Author_FAQ/#how-can-i-report-a-bug-or-make-a-suggestion","title":"How can I report a bug or make a suggestion?","text":"<p>General community discussion takes place on https://stack-assessment.zulipchat.com/</p> <p>The source code, and development discussion, is on github, with an additional ILIAS site.</p>"},{"location":"Authoring/Author_FAQ/#can-i-write-questions-in-multiple-languages","title":"Can I write questions in multiple languages?","text":"<p>Yes, see support for multiple languages.</p>"},{"location":"Authoring/Author_FAQ/#what-is-latex-where-can-i-get-help-learning-latex","title":"What is LaTeX? Where can I get help learning LaTeX?","text":"<p>LaTeX is a document preparation system. For STACK questions we only need some simple LaTeX, so please do not be put off. In particular STACK only really makes use of LaTeX for mathematical markup, and does not use the document structure tags.</p> <ul> <li>An introduction for those totally new to LaTeX is found here.</li> <li>The mathematics environment is described here.</li> <li>Details about LaTeX are available from http://www.latex-project.org/guides/.</li> </ul> <p>Note that some of the more complex examples will not work on STACK. Just keep things simple.</p>"},{"location":"Authoring/Author_FAQ/#can-i-add-html-to-cas-enabled-text","title":"Can I add HTML to CAS-enabled text?","text":"<p>Yes.  You can use HTML tags as usual.  For example, you can use these tags to insert references to images etc. It's even possible to embed question values within image tags to allow calls to third-party dynamic graph generators.</p> <p>The Simple Venn sample question demonstrates using the Google charts API:</p> <p></p>"},{"location":"Authoring/Author_FAQ/#how-can-i-test-out-stack-specific-functions-in-a-maxima-session","title":"How can I test out STACK specific functions in a Maxima session?","text":"<p>Details of how to load STACK functions into a command line Maxima session are given in the STACK-Maxima sandbox.</p>"},{"location":"Authoring/Author_FAQ/#why-does-a-maxima-function-not-work-in-stack","title":"Why does a Maxima function not work in STACK?","text":"<p>Not all Maxima functions are enabled by STACK, for obvious security reasons. It may be that your function belongs to a library which STACK does not load by default. Do you need to use Maxima's load command to use it? If so, you will need to ask your system administrator or the developers to add a load command so that this library becomes available.</p> <p>Some libraries are optional and may not be included by your local installation.</p> <p>You should also be aware that there are also a number of functions defined by STACK which are not standard Maxima functions. The command you need may well not be enabled since you should use one STACK provides instead.</p>"},{"location":"Authoring/Author_FAQ/#how-can-i-change-which-maxima-functions-stack-allows","title":"How can I change which Maxima functions STACK allows?","text":"<p>This is a job for a developer.  Please contact us.</p>"},{"location":"Authoring/Author_FAQ/#how-can-i-use-subscripts-in-stack","title":"How can I use subscripts in STACK","text":"<p>More information on subscripts is given in the atoms and subscripts section of the more general Maxima documentation.  Also see the inputs extra option consolidatesubscripts.</p>"},{"location":"Authoring/Author_FAQ/#how-can-i-confirm-my-students-answer-is-fully-simplified","title":"How can I confirm my student's answer is fully simplified?","text":"<p>The philosophy of STACK is to establish properties of the student's answer.  \"Simplify\" is an ambiguous notion. For example,  is simpler than  but  is probably simpler than writing the integer it represents in decimals.  Everyone would agree that  is simpler than , but we might argue that the first expression below is simpler.</p> <p> </p> <p>Simplify is often taken implicitly to mean \"the shortest equivalent expression\", but this issue is often not discussed.</p> <p>To avoid these problems, STACK expects teachers to specify the properties they want.  For example, if you want the factored form you should test for this, not describe it as \"simplified\".</p> <p>In STACK a very useful test is equivalence up to associativity and commutativity of the basic arithmetic operations of addition and multiplication.  This is often what teachers need in this case.</p>"},{"location":"Authoring/Author_FAQ/#why-doesnt-maxima-give-int1xxlogabsx","title":"Why doesn't Maxima give <code>int(1/x,x)=log(abs(x))</code>?","text":"<p>Because  is OK on either the negative or positive real axis, but it is not OK in the complex plane. There is a switch that controls this, however.</p> <pre><code>(%i199) integrate(1/x,x);\n(%o199) log(x)\n\n(%i200) integrate(1/x,x), logabs : true;\n(%o200) log(abs(x))\n</code></pre> <p>Furthermore, the integration answer test will allow teachers to accept either <code>log(x)</code> or <code>log(abs(x))</code> (or both) from a student.</p>"},{"location":"Authoring/Author_FAQ/#why-dont-i-get-anything-back-from-the-cas","title":"Why don't I get anything back from the CAS?","text":"<p>Debugging questions can be difficult.  We have not written a full parser, so we cannot trap all the errors.  If all else fails, you may need to examine exactly the expression which is being sent to Maxima.</p> <p>To do this go to</p> <pre><code>Site administration -&gt; Plugins -&gt; Question types -&gt; STACK\n</code></pre> <p>Ensure that <code>CAS debugging</code> is checked.</p> <p>Then, you should get error reporting.  As an example navigate to</p> <pre><code>Site administration -&gt; Plugins -&gt; Question types -&gt; STACK -&gt; Healthcheck\n</code></pre> <p>There you can see an example of an expression sent to Maxima.  Expressions such as this can be copied into the STACK-Maxima sandbox and evaluated.  The errors returned here might help track down the problem.</p> <p>The issue is normally that you have tried to create a syntactically invalid maxima command.  For example <code>[a,,b]</code> will crash Maxima.  Since we have not created a full parser, all syntax errors like this are not yet trapped.</p>"},{"location":"Authoring/Authoring_quick_start/","title":"Inicio r\u00e1pido de creaci\u00f3n","text":"<p>STACK proporciona una gu\u00eda de inicio r\u00e1pido del autor estructurada para los nuevos usuarios.</p> <p>Esta gu\u00eda ha sido utilizada por muchas personas, pero aceptamos que la autor\u00eda de preguntas es un proceso complejo.  Desarrollar experiencia en la autor\u00eda de preguntas STACK requerir\u00e1 cierto compromiso.</p>"},{"location":"Authoring/CASText/","title":"CASText","text":""},{"location":"Authoring/CASText/#introduction","title":"Introduction","text":"<p>CASText is CAS-enabled text.  CASText is simply HTML into which LaTeX mathematics and CAS commands can be embedded. These CAS commands are executed before the question is displayed to the user. Use only simple LaTeX mathematics structures. Only a small part of core LaTeX is supported.</p> <p>Many of the fields in a STACK question, such as the question text, are of this type.</p> <p>Information about Basic HTML is available elsewhere.</p> <p>Currently STACK does not process the LaTeX itself.  It is displayed on the user's browser in a variety of ways, such as using MathJax.   If you do not know how to use LaTeX, some simple examples are given in the author FAQ.</p> <ul> <li>Anything enclosed between <code>\\( .... \\)</code> symbols is treated as an inline equation, as is the case with normal LaTeX.</li> <li>Anything enclosed between matching <code>\\[</code> and <code>\\]</code> is treated as a displayed equation, in the centre of a new line.</li> <li>We do not support the use of dollar symbols such as <code>$...$</code> and <code>$$...$$</code> for denoting LaTeX mathematics environments.  See the notes on currency below and also the page on MathJax for more information.</li> <li>Don't use LaTeX text formatting features such as <code>\\\\</code>, instead use the HTML versions.</li> <li>Anything enclosed between <code>{@</code> and <code>@}</code> delimiters is evaluated by the CAS and replaced by the LaTeX representing the result.  Some notes.</li> <li>By default this is displayed as an inline equation.  This is analogous to using LaTeX symbols. Note however, that you don't need to use <code>\\({@ stuff @}\\)</code>, and that <code>{@ stuff @}</code> is sufficient.</li> <li>To get a displayed equation centred on a line of its own, you must use <code>\\[{@ stuff @}\\]</code>, as in LaTeX.</li> <li>The outer <code>{}</code> characters of <code>{@ stuff @}</code> will be left in the output to ensure that the output is considered as a single group by LaTeX.</li> <li>Anything enclosed between <code>{#</code> and <code>#}</code> delimiters is evaluated by the CAS and replaced by the Maxima representing the result. Basically, raw values usable in other tools or examples on how to input the value.</li> <li>If the Maxima variable <code>x</code> is a string then <code>{@x@}</code> produces the string contents without quote marks or LaTeX environment, while <code>{#x#}</code> produces the string contents enclosed by quote marks.</li> <li>If you want comma separated values without the list brackets then use <code>{@stack_disp_comma_separate( list )@}</code>.  This function turns a list into a string representation of its arguments, without braces.</li> <li>Multiple CAS expressions may appear in a single LaTeX equation, as needed.  For example <code>\\[  \\frac{@p@}{@q@} \\]</code>.  Note that many problems are best solved at the level of the CAS, e.g. by defining a variable <code>p/q</code> in the CAS, not at the level of display.  This is a design decision which needs experience to resolve efficiently in each case.  For an example of this, see the example showing working.</li> </ul> <p>Here is an example</p> <pre><code>The derivative of {@sin(1/(1+x^2))@} is\n\\[ \\frac{\\mathrm{d}}{\\mathrm{d}x} \\sin \\left( \\frac{1}{x^2+1} \\right) = {@diff(sin(1/(1+x^2)),x)@} \\]\nYou can input this as &lt;code&gt;{#diff(sin(1/(1+x^2)),x)#}&lt;/code&gt;\n</code></pre>"},{"location":"Authoring/CASText/#variables-variables","title":"Variables ##   {#Variables}","text":"<p>CASText may depend on variables previously defined in the question variables field.</p> <p>Where the CASText appears in the fields of a potential response trees, the variables in the feedback variables may also be included.</p> <p>To control whether or not the CAS expressions are simplified, see the details about selective simplification.</p>"},{"location":"Authoring/CASText/#question-text-question_text","title":"Question text {#question_text}","text":"<p>The question text what the student actually sees.  This was called \"question text\" in previous versions.</p> <p>It is a slightly modified form of CAS text.  To allow a student to answer a question you must include an inputs in the question text. For example, students need a box into which their answer will be put.</p> <p>To place an input into the question enclose the name of the Maxima variable to which the student's answer is assigned between inside the following tag.  If the student's answer is going to be assigned to the variable <code>ans1</code> then use the tag <code>[[input:ans1]]</code>.  You will also be required to place a corresponding tag to indicate the position of any validation feedback (whether or not this is shown to the student): <code>[[validation:ans1]]</code>.  You can use any legitimate variable name.</p> <ul> <li>When the question is created this is replaced with the appropriate input.</li> <li>When the student answers, this variable name is available to each potential response trees.</li> <li>Inputs are created and deleted by adding appropriate tags to the question text.  Therefore, beware if you delete the tags as this will also delete the input from the question.</li> </ul> <p>To place another potential response tree in the question just choose a sensible name and add in a tag <code>[[feedback:prt1]]</code>.  </p> <ul> <li>These tags are replaced by appropriate feedback as necessary.  Note, if you add the feedback to the question text this will always be shown by the STACK question, regardless of the quiz settings.  You may prefer to place the tags in the \"specific feedback\" block of the editing form.  Availability of the specific feedback is controlled by the Moodle quiz settings.  There is some compromise here between the ability to position the feedback tags anywhere in the question text (e.g. next to a particular input) and control over when it is shown.  This is most difficult in questions with many parts.  For a single part question we recommend you use the specific feedback block.</li> <li>Tags can be moved anywhere within the question text.</li> <li>Do not place feedback tags within LaTeX equations!</li> <li>PRTs are created and deleted by adding appropriate tags to the question text.  Therefore, beware if you delete the tags as this will also delete the PRT from the question, which may result in lost work.</li> <li>Some sites use a database which is not case sensitive (!), so please ensure tags differ by more than case sensitivity.  E.g. avoid <code>[[input:ans_m]]</code> and <code>[[input:ans_M]]</code> in questions.  Similarly with feedback tags.  Because most databases are case sensitive we do not check for this issue.</li> </ul>"},{"location":"Authoring/CASText/#general-feedbackworked-solution-general_feedback","title":"General feedback/Worked solution {#general_feedback}","text":"<p>General feedback (called \"worked solution\" in previous versions) is shown to the student after they have attempted the question. Unlike feedback, which depends on the response the student gave, the same general feedback text is shown to all students.</p> <p>The general feedback may depend on any question variables, but may not depend on any of the inputs. While this design decision is restrictive, it is a deliberate separation of feedback which should be done via potential response trees, from a model solution to this problem which can be written before a question is deployed.</p>"},{"location":"Authoring/CASText/#castext-and-currency-currency","title":"CASText and currency {#currency}","text":"<p>It is common to want to use the dollar sign for currency.  However, this conflicts with the use of the dollar sign for delimiters for mathematics.  For this reason we discourage the use of dollars to delimit mathematics in STACK.</p> <ul> <li>If you are using dollars for currency then you must protect them with a backslash, i.e. <code>\\$</code>, otherwise the CASText validation will fail.</li> </ul>"},{"location":"Authoring/CASText/#facts","title":"Facts","text":"<p>STACK has an in-built formula sheet.  This used to be called a \"hints\" system, but the word hint is used elsewhere in Moodle so this is now called \"facts\".  Parts of this can be added to CASText using the fact sheet</p>"},{"location":"Authoring/CASText/#reference-materials","title":"Reference materials","text":"<p>HTML and LaTeX are needed for authoring STACK questions, and some basic reference materials is give elsewhere.</p> <ul> <li>Some basic HTML examples.</li> <li>Some basic LaTeX examples.</li> <li>There is a specific page for actuarial notation.</li> </ul>"},{"location":"Authoring/CASText/#castext-generating-functions","title":"CASText generating functions","text":"<p>If a CASText area is to include several copies of repeatative content, for instance several versions of some text (or a SVG graphic) containing  different parameters, it is possible to define a CASText generating function within the Question variables using the STACK function <code>castext</code>.</p> <p>For example, within the Question variables section, define</p> <pre><code>explanation(x,y):=castext(\"Substituting {@x@} into the expression gives {@y@}.\");\n</code></pre> <p>This can then be used several times within any CASText area:</p> <pre><code>[[ comment ]] Generated text [[/ comment ]]\n{@explanation(a,b)@}\n{@explanation(c,d)@}\n</code></pre>"},{"location":"Authoring/CASText/#notes","title":"Notes","text":"<ul> <li>The argument of castext must be a single atomic string, not a reference to one but a static string value.</li> <li>Since Maxima does not require new lines to be escaped, new lines can be started within the <code>castext</code> string argument.</li> <li>Care needs to be taken with any quotation marks within the castext argument. For HTML attributes within such text, use <code>'...'</code> .</li> <li>Two castext objects can be joined with <code>castext_concat()</code></li> </ul>"},{"location":"Authoring/CASText/#google-charts","title":"Google Charts","text":"<p>The Google charts API can be used to create a URL based on the random variables.</p> <p></p>"},{"location":"Authoring/Deploying/","title":"Deploying","text":"<p>Questions in STACK can contain randomly generated elements.  A student will be given a random variant of a question generated by a pseudo-random seed.</p> <p>It is best if questions are not randomly generated on the fly.  Instead the teacher is strongly advised to pre-generate and \"deploy\" variants of a question.  When a student attempts the question they will be given a random selection from the deployed variants.</p> <p>We have chosen to add the extra deploy step, instead of generating on the fly, for a number of reasons.</p> <ol> <li>STACK runs all the question tests on each deployed variant to establish each variant of the question is working. This aids quality control. By using question tests it is unlikely a student will be given a random variant which does not work correctly.</li> <li>The teacher can decide if each deployed variant appears to be of equal difficulty.  The teacher can easily delete variants they do not like.  Experience suggests there are unanticipated consequences of randomly generating questions.  Really only statistics generated by real use can establish fairness amongst variants.</li> <li>The pre-generation combined with a cache helps minimise server load during the start of a large class which aids robustness of the whole experience.  This helps STACK to optimize its use of the CAS for efficiency and reliability via a dynamic cache.</li> </ol> <p>Notes:</p> <ol> <li>If an author does not deploy any variants (not advised!) then the student gets any random variant.</li> <li>Questions that don't use randomization cannot be deployed explicitly.  STACK automatically detects randomization.</li> <li>Variants are different if and only if the evaluated question note is different. Any number of instances can be requested and deployed but only one instance of each question note can be deployed.  It is possible to deploy  variants in one go, but the system will give up if too many duplicate question notes are generated.  The teacher is responsible to ensure question variants are different if and only if the question notes are different.  The deployment management also allows specific variants to be dropped.  You can also return to the question preview window and try a specific deployed variant.</li> <li>Deployment is not required for authors to test questions: an instance is generated on-the-fly.</li> <li>Once a quiz is underway it is still possible in Moodle to edit a question, and to re-grade students' attempts.  This is useful in rare cases where there is a mistake, you want to improve the worked solution, you would like to add better feedback/partial credit for a particular etc.  However, do not change anything related to the random generation of questions!  Results are unpredictable, and may well result in a situation when the modified question is different to that answered by students taking the test prior to modifications...</li> </ol>"},{"location":"Authoring/Deploying/#how-to-deploy-question-variants","title":"How to deploy question variants","text":"<p>The deployment interface can be found by editing a question and clicking on <code>question tests and deployed variants.</code> This link can also be found in the top right corner when previewing a question. This page contains the list of currently deployed variants, and links to un-deploy a variant.</p> <p>Notes:</p> <ol> <li>You can click on the seed numbers to view a particular random variant.  The testing page lists values of all the variables, displays the question and the worked solution.  The testing page is a very efficient way to look at your random variants.</li> <li>When you deploy new variants STACK will run all the question tests.  If a test fails, the generation process will stop with an error message, showing the failing test.</li> </ol>"},{"location":"Authoring/Deploying/#limitations","title":"Limitations","text":"<p>There is currently no way to loop systematically over all variants and deploy them all.</p>"},{"location":"Authoring/Equivalence_reasoning/","title":"Getting started with equivalence reasoning","text":"<p>This guide shows you how to write STACK questions using the line by line equivalence reasoning input type.</p> <p>As an example, we want the students to expand the cubic  showing their working in a stepwise fashion, line by line. The student's response to this question will allow us to test their knowledge and competency in the following:</p> <ol> <li>Expanding brackets</li> <li>Simplifying by collecting like terms</li> </ol> <p>Therefore we need them to show their working. </p>"},{"location":"Authoring/Equivalence_reasoning/#minimal-working-question","title":"Minimal working question","text":"<p>Create a new STACK question, give it a suitable name and then copy the following into the Question variables box:</p> <pre><code>p:(x+2)^3;\ntaf:ev(expand(p),simp);\nta:[(x+2)^3,stackeq((x+2)*(x+2)^2),stackeq((x+2)*(x^2+4*x+4)),stackeq(x^3+4*x^2+4*x+2*x^2+8*x+8),stackeq(taf)];\n</code></pre> <p>The first variable, <code>p</code>, is the expression in the question. The variable <code>taf</code> is the final model answer. The variable <code>ta</code> is a list containing each step we are expecting our students to express as they work towards the final answer:</p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p>Notes:</p> <ul> <li>We use the CAS functions <code>expand()</code> and <code>ev(...,simp)</code> to simply the output of <code>expand()</code>, to determine the model answer. </li> <li>The special function <code>stackeq</code> is replaced by unary equals.  Maxima expects equality to be an infix  not unary prefix , so STACK needs this special operator.  Students using the input area can just start a line with , but teachers cannot!</li> </ul> <p>In this context the teacher's answer and the student's answer is a list.  The whole answer is a single object, which we assess.</p> <p>Copy the following text into the Question text box:</p> <pre><code>Expand {@p@}, remembering to show your working.\n[[input:ans1]] [[validation:ans1]]\n</code></pre>"},{"location":"Authoring/Equivalence_reasoning/#setting-the-input-options","title":"Setting the input options","text":"<p>Under the <code>Input:ans1</code> header specify Equivalence reasoning from the Input type drop-down and <code>ta</code> as the model answer.</p> <p>We want students to work through the expansion one line at a time, so let's include a hint. Copy the following into the Syntax hint box, within the <code>Input:ans1</code> header::</p> <pre><code>[(x+2)^3,stackeq(?)]\n</code></pre> <p>This is a list, and uses <code>stackeq</code>.</p> <p>For students in this context, it is probably sensible to \"insert stars\" and provide the most forgiving input syntax available, but that is optional.</p> <p>We need to tell STACK to compare the first line of the student's working to the first line of the question. This makes sure the student \"answers the right question\". Type <code>firstline</code> into the Extra options box within the <code>Input:ans1</code> header. This ensures a student's response will be invalid if they don't have the correct first line.</p> <p><code>firstline</code> can also be used in the Syntax hint box. The first line is then already written in the answer-field when the student opens the question.</p>"},{"location":"Authoring/Equivalence_reasoning/#setting-the-potential-response-tree","title":"Setting the potential response tree","text":"<p>As a minimal potential response tree have one node, with </p> <pre><code>Answer test = EquivFirst\nSAns = ans1\nTAns = ta\nAuto-simplify = no\n</code></pre> <p>Note, the <code>Auto-simplify</code> field is not in the node of the PRT, but a PRT option.</p>"},{"location":"Authoring/Equivalence_reasoning/#setting-the-question-options","title":"Setting the question options","text":"<p>Under the options section, turn off simplification by setting</p> <pre><code>Auto-simplify = no\n</code></pre> <p>Save the question.  This should be a minimal working question, so preview it and add in at least one question test.</p>"},{"location":"Authoring/Equivalence_reasoning/#more-specific-feedback","title":"More specific feedback","text":"<p>At this point the question only checks</p> <ol> <li>Has the student started from the right expression, specifically is the first line of their argument equivalent to the first line of <code>ta</code> using <code>EqualComAss</code> test (commutativity and associativity)?</li> <li>Are all the lines in the student's answer algebraically equivalent?</li> </ol> <p>Clearly, more is needed for a complete sensible question.</p> <p>At this point please read the equivalence reasoning input type documentation.</p>"},{"location":"Authoring/Equivalence_reasoning/#getting-to-the-right-place","title":"Getting to the right place","text":"<p>We probably want the student to end up at the expression .</p> <p>To check is the student has reached this point, add another node to the PRT.  If node 1 is true (i.e. the student started in the correct place and didn't make a mistake) then connect to node 2. Node 2 should be set up as</p> <pre><code>SAns = last(ans1)\nTAns = last(ta)\nanswer test = EqualComAss\nAuto-simplify = no\n</code></pre> <p>This node adds in feedback to check the student has reached the right place.</p> <p>Note, by using <code>EqualComAss</code> both  and  will be accepted. If you really want the term order as well, as in,  then you need to use <code>CasEqual</code> as the answer test instead.</p>"},{"location":"Authoring/Equivalence_reasoning/#what-is-a-legitimate-step","title":"What is a legitimate step?","text":"<p>At this point, any expressions which are equivalent are considered to be a legitimate step.</p> <p>Clearly this is not entirely satisfactory. At this point in the development there is no concept of \"a step\" and indeed this appears to be very hard to define. In the future we will develop better tools for checking \"step size\", and any contributions in this direction are welcome.</p> <p>Teachers can check the students answer is long enough or not too long by looking at <code>length(ta)</code>.</p> <p>Teachers can check if specific expressions appear somewhere inside the student's answer.  To facilitate this search we provide the function <code>stack_equiv_find_step(ex, exl)</code>.  This looks for expression <code>ex</code> in the list <code>exl</code> using <code>ATEqualComAss</code>.  It returns the list of indices of the position.  If you just want to know if the expression is missing use the predicate <code>emptyp</code>.</p> <p>As an alternative you can check that the factored form exists somewhere in the student's answers using the following code in the feedback variables.</p> <pre><code>foundfac:sublist(ans1,lambda([ex], equationp(ex) and is(rhs(ex)=0)));\nfoundfac:ev(any_listp(lambda([ex], second(ATFacForm(lhs(ex),lhs(ex),x))), foundfac), simp);\n</code></pre> <p>At this stage there are few in-built features within STACK.  A lot is possible, but as the above example illustrates, this requires question authors to write more Maxima code than with other question types.</p> <p>This feature will be developed by use over the next few years. If you have experience, and views, on how this should work please contact the developers.</p>"},{"location":"Authoring/Error_trapping/","title":"Error trapping","text":"<p>How to I trap errors generated from a student's answer?</p> <p>Errors are generated for a number of reasons.  Mostly, they are important and should not be ignored!  Normally, students should not be penalised if a question \"does not work\" because the PRT generated an error.  Any runtime error during traversing a PRT will cause an error.  This error will stop further exectution of the tree, and students will see a runtime error message.  This will be flagged in the response summary as <code>[RUNTIME_ERROR]</code>.</p> <p>A student's answer can generate mathematical errors for a number of reasons, but the most common is evaluating a function outside its mathematical domain.  Common elementary examples are</p> <ol> <li>Division by zero.</li> <li>Evaluating  at points like .  (Try <code>tan(%pi/2)</code> in Maxima).</li> </ol> <p>Sometimes you need to trap and ignore errors like this in the student's answer, or create a \"guard clause\" to decide if part of a PRT should be executed or not.</p> <p>Sometimes these are inevitable and need to be ignored.</p> <p>If one of the feedback variables throws an error then this will not stop the PRT executing.  If there is an error, this will be flagged in the response summary as <code>[RUNTIME_FV_ERROR]</code> (fv here means feedback variables).  You can, and should use the feedback variables to trap any errors you would like to condone.  E.g. you could define the following in the feedback variables.</p> <pre><code>sa1:errcatch(tan(ans1));\n</code></pre> <p>If <code>ans1:%pi/2</code> then <code>sa1</code> will be the empty list <code>[]</code>.  Otherwise, <code>sa1</code> will be the list containg the result, and you can use <code>first(sa1)</code> in a PRT.</p> <p>To trap a runtime error, or create a guard clause, you do need extra node in your tree (e.g. is <code>sa1</code> empty) or an <code>if</code> statement in your feedback variables.  The default is to show errors, so if you choose to test for and condone errors you need extra clauses.</p>"},{"location":"Authoring/Errors/","title":"Authoring validation errors","text":"<p>This document aims to explain certain errors that may appear during authoring, specifically during validation/saving of a question.  We are constantly improving the error trapping for question  authors and so some of these errors might be new and appear during upgrades, and break, previously functional materials.</p> <p>In some cases we have good reasons for now preventing actions which may have been permitted in the past. For some situations one can do things differently to lift the suspicions of the validation system.</p> <p>Summary of advice.</p> <ol> <li>Do not attempt to redefine function names or constants which are already defined as part of Maxima.</li> <li>Avoid using the same name for functions and variables.</li> <li>Avoid complex substitutions.</li> <li>Do not attempt to redefine the variables which are the names of inputs.</li> <li>Use <code>subst</code> or <code>at</code> to do substitutions instead of <code>ev</code>.</li> </ol>"},{"location":"Authoring/Errors/#forbidden-functions-and-variables","title":"Forbidden functions and variables","text":"<p>Some functions affecting the underlying system are forbidden to protect the environment, others are forbidden due to excessive load, and finally some have been disabled due to the way they return their values. Likewise, some  variables/constants representing the state of the underlying system have been either marked as forbbiden to access or to modify. Use other names if this was just a collision of identifiers, otherwise this is just the way  it is.</p>"},{"location":"Authoring/Errors/#redefining-internal-functions","title":"Redefining internal-functions","text":"<p>Some functions are part of the core functionality and the system relies on their behaviour. For example redefining what <code>append()</code> does for lists would have significant effects around the system, this is why (re)defining functions with some specific names is forbidden. You are free to use other names for your functions. Note that not all internal functions or functions they use are blocked by this, they might get blocked in the future or some might be left as something that can be redefined to tune the logic.</p> <p>We suggest you do not attempt to redefine function names or constants which are already defined as part of Maxima.</p>"},{"location":"Authoring/Errors/#substitutions-unclear-or-otherwise","title":"Substitutions unclear or otherwise","text":"<p>Should you do substitutions of values in your code and the target of the substitution is an identifier that is later used as a function-name, things may become difficult. Avoid using the same name for functions and variables.  Also if you use complex means to construct the substitutions themselves the system may need to assume that all possible identifiers in the expression that the substitutions are applied to are being targetted by unknown values, this can be avoided by avoiding complex construction of the substs itself.</p> <p>Note, these issues are now much rarer after the security system changed in 4.4. Yo should not even see these errors with the new system.</p>"},{"location":"Authoring/Errors/#example-1","title":"Example 1","text":"<pre><code>v:1; /* particular case of rand([1,2]) */\ntrig:[sin,cos][v];\nsub:[(sin(x))^2=1-(cos(x))^2,(cos(x))^2=1-(sin(x))^2][v];\nf:(trig(x))^3;\ndf:diff(f,x);\ndf_simp:subst(sub,df);\n</code></pre> <p>This produces the error message</p> <p>The function name \"sin\" is potentially redefined in unclear substitutions. The function name \"diff\" is potentially redefined in unclear substitutions.</p> <p>The issue is that <code>sub</code> is a complicated expression here, so the validation system is not able to check that this code is not doing something suspicious.</p> <p>It may be worth trying to use <code>ev</code> rather than <code>subst</code> - for this example, the question works again if we change the final line to the following:</p> <pre><code>df_simp:ev(df, sub);\n</code></pre>"},{"location":"Authoring/Errors/#example-2","title":"Example 2","text":"<pre><code>solution : rhs(ode2(eqn,y,x));\nvars : delete(x,listofvars(solution));\n\nTAns11 : subst([vars[1]=A,vars[2]=B],solution);\nTAns12 : subst([vars[2]=A,vars[1]=B],solution);\n</code></pre> <p>Here the error messsages will claim that pretty much everything that goes into <code>solution</code> is potentially redefined in unclear substitutions. What the code above does is that it solves a differential equation with CAS and then asks the CAS for the names of the constants being used. Depending on the shape of the equation there might be more than one but in this case there are always exactly two of them. <code>%k1</code> and <code>%k2</code>, if there were only one it would probably get called <code>%c</code> so there is a reason for checking what they are.</p> <p>Why the example asks for those constants names is because the author has chosen to force the student to use <code>A</code> and <code>B</code> as the constants and constructs different correct answers for the two ways of selecting the order of the constants. The problem arises from the substitution of the constants which now finds the names of them from a list (<code>vars</code>) that is not directly visible to the validation system. There are two ways forward from this. Firstly, the question could use the SubstEquiv test that allows any names for those constants to be used and then just confirms that the correct ones were used if that matters, however then the teachers answer might look silly with those CAS-style constants so you would still need to replace them. Secondly, one can hard-code the names of the constants, in this case they are always the same so that should not be a problem:</p> <pre><code>solution : rhs(ode2(eqn,y,x));\n\nTAns11 : subst([%k1=A,%k2=B],solution);\nTAns12 : subst([%k2=A,%k1=B],solution);\n</code></pre>"},{"location":"Authoring/Errors/#use-of-the-students-answer","title":"Use of the students answer","text":"<p>Since 4.3 you have been forbidden from writing to the variable storing  the students answer, feel free to simply store whatever you wanted to  store in any other valid variable. You are now also forbidden from using the students input directly as a function-name, if you need to do so  rewrite the logic as a \"switch\", unfortunately this also applies to MCQ inputs:</p> <pre><code>/* Not like this. */\nval: ans1(4);\n\n/* Instead write it like this to restrict the set of possible names. */\nif is(ans1=sqrt) then\n val: sqrt(4)\nelse if(ans1=sin) then\n val: sin(4)\n...\n\n</code></pre>"},{"location":"Authoring/Errors/#ev-in-44","title":"<code>ev</code> in 4.4","text":"<p>The new security model of STACK 4.4 modifies the order of execution in such  a way that <code>ev</code> does not quite match the behaviour of <code>ev</code> in Maxima. For  most use cases you will not notice this but there are situations where things won't work as expected. In general, these are the situations currently  known:</p> <ol> <li>Placing <code>expand</code> inside of <code>ev</code> and doing a substitution in the same <code>ev</code>:  ```  / This might lead to the expansion happening before the substitution. /  simp:false;  tmp:ev(expand(x^3),x=x+1);</li> </ol> <p>/ Instead do the substitution before the expansion. /  tmp: ev(x^3,x=x+1);  tmp: ev(expand(tmp));  <code>``  2. Substitutions in general may happen too late if the target expression contains calls requiring security validation. The recommended method for dealing with this is to do the substitutions using</code>subst<code>or</code>at<code>and applying any evaluation related modifications with</code>ev<code>separately.  3. Use of the</code>noeval` evaluation flag might not work, in general this flag is unlikely to be useful in the context of STACK and if you believe you need it look into nounification and other means of doing similar things.</p> <p>In some cases, it is possible to simply add <code>eval</code> as an extra flag to  the <code>ev</code>-call, however this is only possible if all substitutions in the call are such that the LHS of the substitution is not present in the RHS.</p> <p>Do note that all this also applies to evaluation flags.</p> <pre><code>/* These are equivalent: */\ntmp: a+1,a=2;\ntmp: ev(a+1,a=2);\n</code></pre>"},{"location":"Authoring/Errors/#some-recomendations","title":"Some recomendations","text":"<p>The validation of certain things evaluates dependency graphs of  identifiers so if you can keep those graphs small things tend to work faster. To do so avoid redefining the same variable if at all possible and just create a new variable when needed, i.e. do not reuse some  <code>tmp</code>-var for all the calculations, if you do then the graph of that variable will become quite large and that may slow things down. Many  small graphs tend to be faster to deal with than few large ones and  a large graph may mean that features of node in the graph may block other nodes from doing certain things, e.g. being used as function identifiers.</p> <p>Likewise, avoid reusing same variable names for multiple different types of things in the question, i.e. if <code>A</code> is a matrix let it stay as such and don't turn it into a list or a function if you wish  the validation during saving and first execution after import/upgrade to be fast.</p> <p>If you are using <code>local()</code> to define local-scope variables always call it as the first thing in a <code>block</code> (if you use the list of identifiers logic then you should not use <code>local()</code> in the same block) or in a <code>lambda</code>  (after arguments). This allows the graph building to identify the point of  disconnection of the graphs and to separate the scopes. Calling <code>local</code>  after any variables have been used will confuse the logic and we do not want to invest into dealign with that special case.</p>"},{"location":"Authoring/Fact_sheets/","title":"Hints","text":"<p>STACK contains a \"formula sheet\" of useful fragments which a teacher may wish to include in a consistent way.  This is achieved through the \"hints\" system.</p> <p>Hints can be included in any CASText.</p> <p>To include a hint, use the syntax</p> <pre><code>[[facts:tag]]\n</code></pre> <p>The \"tag\" is chosen from the list below.</p>"},{"location":"Authoring/Fact_sheets/#all-supported-fact-sheets","title":"All supported fact sheets","text":""},{"location":"Authoring/Fact_sheets/#the-greek-alphabet","title":"The Greek Alphabet","text":"<p><code>[[facts:greek_alphabet]]</code></p> Upper case,  lower case,  name alpha beta gamma delta epsilon zeta eta theta kappa mu nu xi omicron pi iota rho sigma lambda tau upsilon phi chi psi omega"},{"location":"Authoring/Fact_sheets/#inequalities","title":"Inequalities","text":"<p><code>[[facts:alg_inequalities]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#the-laws-of-indices","title":"The Laws of Indices","text":"<p><code>[[facts:alg_indices]]</code></p> <p>The following laws govern index manipulation:  </p>"},{"location":"Authoring/Fact_sheets/#the-laws-of-logarithms","title":"The Laws of Logarithms","text":"<p><code>[[facts:alg_logarithms]]</code></p> <p>For any base  with :   The formula for a change of base is:  Logarithms to base , denoted  or alternatively  are called natural logarithms.  The letter  represents the exponential constant which is approximately .</p>"},{"location":"Authoring/Fact_sheets/#the-quadratic-formula","title":"The Quadratic Formula","text":"<p><code>[[facts:alg_quadratic_formula]]</code></p> <p>If we have a quadratic equation of the form:  then the solution(s) to that equation given by the quadratic formula are:  </p>"},{"location":"Authoring/Fact_sheets/#partial-fractions","title":"Partial Fractions","text":"<p><code>[[facts:alg_partial_fractions]]</code></p> <p>Proper fractions occur with  when  and  are polynomials with the degree of  less than the degree of .  This this case, we proceed as follows: write  in factored form,</p> <ul> <li>a linear factor  in the denominator produces a partial fraction of the form  </li> <li>a repeated linear factors  in the denominator produce partial fractions of the form  </li> <li>a quadratic factor  in the denominator produces a partial fraction of the form  </li> <li>Improper fractions require an additional term which is a polynomial of degree  where  is the degree of the numerator (i.e. ) and  is the degree of the denominator (i.e. ).</li> </ul>"},{"location":"Authoring/Fact_sheets/#degrees-and-radians","title":"Degrees and Radians","text":"<p><code>[[facts:trig_degrees_radians]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#standard-trigonometric-values","title":"Standard Trigonometric Values","text":"<p><code>[[facts:trig_standard_values]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#standard-trigonometric-identities","title":"Standard Trigonometric Identities","text":"<p><code>[[facts:trig_standard_identities]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#hyperbolic-functions","title":"Hyperbolic Functions","text":"<p><code>[[facts:hyp_functions]]</code></p> <p>Hyperbolic functions have similar properties to trigonometric functions but can be represented in exponential form as follows:   </p>"},{"location":"Authoring/Fact_sheets/#hyperbolic-identities","title":"Hyperbolic Identities","text":"<p><code>[[facts:hyp_identities]]</code></p> <p>The similarity between the way hyperbolic and trigonometric functions behave is apparent when observing some basic hyperbolic identities:    </p>"},{"location":"Authoring/Fact_sheets/#inverse-hyperbolic-functions","title":"Inverse Hyperbolic Functions","text":"<p><code>[[facts:hyp_inverse_functions]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#standard-derivatives","title":"Standard Derivatives","text":"<p><code>[[facts:calc_diff_standard_derivatives]]</code></p> <p>The following table displays the derivatives of some standard functions.  It is useful to learn these standard derivatives as they are used frequently in calculus.</p> , constant , any constant  <p> </p>"},{"location":"Authoring/Fact_sheets/#the-linearity-rule-for-differentiation","title":"The Linearity Rule for Differentiation","text":"<p><code>[[facts:calc_diff_linearity_rule]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#the-product-rule","title":"The Product Rule","text":"<p><code>[[facts:calc_product_rule]]</code></p> <p>The following rule allows one to differentiate functions which are multiplied together.  Assume that we wish to differentiate  with respect to .  or, using alternative notation,  </p>"},{"location":"Authoring/Fact_sheets/#the-quotient-rule","title":"The Quotient Rule","text":"<p><code>[[facts:calc_quotient_rule]]</code></p> <p>The quotient rule for differentiation states that for any two differentiable functions  and ,   </p>"},{"location":"Authoring/Fact_sheets/#the-chain-rule","title":"The Chain Rule","text":"<p><code>[[facts:calc_chain_rule]]</code></p> <p>The following rule allows one to find the derivative of a composition of two functions. Assume we have a function , then defining , the derivative with respect to  is given by:  Alternatively, we can write:  </p>"},{"location":"Authoring/Fact_sheets/#calculus-rules","title":"Calculus rules","text":"<p><code>[[facts:calc_rules]]</code></p> <p>The Product RuleThe following rule allows one to differentiate functions which are multiplied together.  Assume that we wish to differentiate  with respect to .  or, using alternative notation,  The Quotient RuleThe quotient rule for differentiation states that for any two differentiable functions  and ,  The Chain RuleThe following rule allows one to find the derivative of a composition of two functions. Assume we have a function , then defining , the derivative with respect to  is given by:  Alternatively, we can write:  </p>"},{"location":"Authoring/Fact_sheets/#standard-integrals","title":"Standard Integrals","text":"<p><code>[[facts:calc_int_standard_integrals]]</code></p> <p> </p> cot ( ("},{"location":"Authoring/Fact_sheets/#the-linearity-rule-for-integration","title":"The Linearity Rule for Integration","text":"<p><code>[[facts:calc_int_linearity_rule]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#integration-by-substitution","title":"Integration by Substitution","text":"<p><code>[[facts:calc_int_methods_substitution]]</code></p> <p> </p>"},{"location":"Authoring/Fact_sheets/#integration-by-parts","title":"Integration by Parts","text":"<p><code>[[facts:calc_int_methods_parts]]</code></p> <p>  or alternatively:  </p>"},{"location":"Authoring/Fact_sheets/#integration-by-parts_1","title":"Integration by Parts","text":"<p><code>[[facts:calc_int_methods_parts_indefinite]]</code></p> <p>  or alternatively:  </p>"},{"location":"Authoring/Feedback/","title":"Feedback","text":"<p>The purpose of STACK is to assess students' answers to mathematical questions, and on the basis of the properties we establish to assign feedback.</p> <p>This document describes the ways STACK provides feedback to students. It will not go into much depth on creating the feedback, which is documented under potential response trees.</p>"},{"location":"Authoring/Feedback/#types-of-assessment","title":"Types of assessment","text":"<ul> <li>Formative assessment is to support and inform students' learning.   Feedback here could be qualitative, e.g. written comments tailored to the student's answer and designed to help them improve their performance on the task.</li> <li>Summative assessment is to establish the achievement of the student.   In mathematics, summative feedback is most often quantitative,  either a mark or a percentage.</li> <li>Evaluative assessment is to measure the effectiveness of the teaching or the   assessment of students.  Such assessments could have quality enhancement or quality audit functions.   See reporting. The ability to automatically generate data about an individual student or   across a cohort is one particular strength of CAA, potentially enabling regular, detailed evaluative assessment.</li> </ul> <p>In STACK multi-part questions there is a complete separation between two important components.</p> <ol> <li>a list of inputs</li> <li>a list of potential response trees</li> </ol> <p>Specific feedback is associated with each input and each potential response tree.  Typically, it is placed in the <code>Specific feedback</code> section, as that gives Moodle more control over when it is shown. However, the feedback tags can be positioned anywhere within the question text.</p>"},{"location":"Authoring/Feedback/#validation","title":"Validation","text":"<p>Before an input is available to a potential response trees, it must be validated.  In particular, at each attempt, each input is assigned a status.</p> <ol> <li>NULL, which indicates the field has not been previously given a value by the student,    or the field is now empty since the student has deleted an answer.</li> <li>new, indicates an answer has not been validated or assessed, but has been changed from a previous attempt.</li> <li>invalid, which indicates that the field is not valid.</li> <li>valid, a response which is valid but not scored.</li> <li>score.  In this case, the answer is available to any potential response tree requiring it.</li> </ol> <p>Normally a student will view a displayed form of their expression and submit it again.  This default behaviour is inappropriate for multiple choice/selection interactions, and can be changed for each input using the option \"Student must verify\".  Whether the student's answer is echoed back and shown is controlled by a separate option \"Show the validation\".  Validation errors are always shown.</p> <p>Whether a string entered by the student is valid or invalid does not depend on the question. I.e. there should be a consistent mechanism for what constitutes a syntactically valid expression. However, in practice things are not quite so clean!  Some input options do affect validity, such as forbid floats.   Some symbols, e.g.  and  change meaning in different contexts, e.g.  or vector components.  See details about options.</p>"},{"location":"Authoring/Feedback/#potential-response-trees","title":"Potential response trees","text":"<p>Each potential response tree returns three outcomes:</p> <ol> <li>a numerical score,</li> <li>text for the students,</li> <li>an answer note for use by the teacher during reporting.</li> </ol> <p>These correspond approximately to summative, formative and evaluative functions of assessment respectively. The general feedback (known as worked solution in previous versions) is fixed and may not depend on the student's answers. Hence it is not considered to be feedback to the student's work in the strict sense.  However, it remains a very useful outcome for students.</p> <p>The amount of feedback available in each question is governed by the question behaviours.</p>"},{"location":"Authoring/Feedback/#numerical-score","title":"Numerical score","text":"<p>Each potential response tree calculates a numerical score between 0 and 1.  This is then multiplied by the question value for each potential response tree.  The final score for the question is the sum over all potential response trees.</p> <p>The numerical scores are assembled by traversing each potential response tree.</p> <ul> <li>Each branch of each node can add, subtract or set an absolute, score.</li> <li>The outcome at the end should be between 0 and 1.  If the score, , lies outside this range it is taken to be  to bring it within range, then it is scaled by multiplying by the question value for that potential response tree.</li> <li>A \"penalty\" may also set in the potential response tree for this attempt. Normally the penalty field in each branch of the potential response tree is empty, in which case the question level penalty value is used.  However, these fields are useful to remove any penalty for this outcome, by setting it to zero explicitly.</li> <li>After the whole tree has been traversed, if the score is 1 then the penalty is always assigned to 0.</li> </ul> <p>STACK adjusts the score for each potential response tree, based on the number of valid, different attempts.  The penalty scheme deducts from the score a small amount (default is ) for each different and valid attempt which is not completely correct.   It is designed to reward persistence and diligence when students initially get a question wrong, but they try again.</p> <p>It works in the following way. For each attempt , we let</p> <ul> <li>  be the score from the potential response tree.</li> <li>  be the \"penalty\" as follows:</li> <li>If  then , else</li> <li>If the penalty  set in the last branch traversed before exiting the potential response tree is not <code>NULL</code> then , else</li> <li>  is the penalty set in the question options, (default  ).</li> </ul> <p>The default penalty scheme takes the maximum score for each attempt, so that by accruing further penalties a student may never be worse off.</p> <p>To be specific</p> <ol> <li>Let  for  be the list of scores and penalties for a particular potential response tree, for each different valid attempt.</li> <li>The score for attempt  is defined to be</li> </ol> <p> </p> <p>Notice that this is purely a function of a list of (score, penalty) pairs.</p> <p>The score for that attempt is the sum of the marks for each potential response tree once penalties have been deducted from each tree.</p>"},{"location":"Authoring/Feedback/#text-for-the-student","title":"Text for the student","text":"<p>The text-based feedback for students is a concatenation of the following elements.</p> <ul> <li>Answer test feedback. Many of the answer tests generate feedback of their own. This can be suppressed using the quiet option. While this feedback is often not needed, it would be very difficult for the teacher to re-create this.</li> <li>Bespoke feedback. Each branch of the potential response trees generates some feedback.</li> <li>Generic feedback. Once the potential response trees has been traversed and all feedback assigned, the score is used to generate some generic feedback. If the raw score equals  then the default feedback is Incorrect answer.   If the raw score equals  then the default feedback is Correct answer, well done. Otherwise the generic feedback is Your answer is partially correct.  These strings can be modified in the options.</li> </ul>"},{"location":"Authoring/Fixing_broken_questions/","title":"I have a misbehaving STACK question in a live Moodle quiz.  What should I do?","text":"<p>You can't remove or add a question to a live Moodle quiz, but you can modify it.  If you edit a live STACK question then students will see the updates.</p> <ol> <li>Did you add any question tests to your question?  If not, add these now.  The testing page has a lot of information, including values of the question variables, and gives specific information of what is going into the answer tests and what values are returned.  This page will also show some runtime errors, not all of which are displayed to students (and so are invisible on the preview testing page).</li> <li>Duplicate the question, rather than editing a live question in a quiz.  Decide what changes need to be made before editing the broken live question.  The database has no \"undo\" so you cannot revert once the question is saved, and you can only test a saved question...</li> <li>There are \"regrade\" and \"dry-run regrade\" options in the Moodle quiz.  If you are happy with the new behaviour of the question you can regrade. You can also manually assign a mark in the Moodle quiz. </li> <li>It is ok to add nodes to an existing PRT and \"regrade\".  However, the Moodle DB caches outcomes, so unless the score changes you will not see new stats.  If you are using the basic question usage report to generate stats you might need to change the marks, regrade, change the marks back and regrade again to update the usage report stats.</li> </ol> <p>If you cannot apply a patch, then create a copy of the question and put it in a new category \"for next year\".  It is normally best to fix it now!</p> <p>It is possible to change the weight of an individual question within a live quiz and re-grade. If the live question is impossible to fix you do have the option to disregard the question by assigning it a mark of  in the quiz.</p>"},{"location":"Authoring/Fixing_broken_questions/#fixing-broken-mathjax-and-javascript","title":"Fixing broken MathJax and Javascript","text":"<p>A relatively common problem is that MathJax stops working half way through a question resulting in an equation showing up as a <code>[Math Error]</code> or similar error message, (or just showing the source).</p> <p>MathJax is a javascript library, and sometimes when it encounters malformed HTML it gives up.</p> <p>The first place to look is to check the integrity of the HTML in your question.  Do not use the WYSIWYG editors in Moodle.  The editors cut and paste all sorts of HTML formatting into LaTeX equations, e.g. \"span\" tags, which break MathJax.</p> <ol> <li>Choose the Moodle \"plain textarea\" editor from the user preferences.</li> <li>Edit your question and carefully tidy up your html.  Things to look for:</li> <li>span tags inside LaTeX equations.  Make sure your LaTeX has no HTML inside it, (entities like <code>&amp;lt;</code> are fine).</li> <li>the <code>[[input:....]]</code> and other tags should not be inside random span tags either.</li> </ol> <p>If your javascript code, e.g. JSXGraph, also stops working this is almost certainly because it has been edited with a WYSIWYG editor which has \"protected\" your code and so broken it.  Check with the plain textarea editor.</p>"},{"location":"Authoring/Fixing_broken_questions/#sorting-out-broken-random-versions","title":"Sorting out broken random versions.","text":"<p>Do not change anything which alters the randomisation of variants.</p> <p>In particular, do not add, remove or re-order <code>rand</code> statements or other statement which will increment the state of the pseudo random number generation. Students get a \"seed\" which starts the pseudo-random number generator.  If your changes change the random version, then the students' previous answers will still stand, and will now most likely be \"wrong\".  Minor typographical mistakes can be fixed, but often there is nothing you can do to fix seriously bad random versions.  This is why we have the \"deploy\" system and question tests so question variants can be checked in advance....</p> <p>Modifying the question variables in a way which does not alter random versions should be fine. E.g. adding variables for test case consturction or improving a worked solution.</p> <p>If you have a single mis-behaving random variant, you can try the following type of approach.</p> <p>Imagine your question variables are</p> <pre><code>n1:rand(10);\n</code></pre> <p>and your question says _<code>`Find a numerical approximation to {@1/n1@} to three decimal places''_.  Clearly the case</code>n1=0<code>will throw a division by zero error,</code>n1=1` will be (basically) pointless from an educational perspective and so on.  However, the other students who have already taken a live quiz will have been given, and answered, the question you intended.  It is tempting to change the question variables to</p> <pre><code>n1:2+rand(8);\n</code></pre> <p>but of course this will change the question for everyone.  Instead you could just change the question variables to the following.</p> <pre><code>n1:rand(10);\nn1:if is(n1&lt;2) then 3 else n1;\n</code></pre> <p>This will fix the broken variants, without changing all the others. Of course, you still have to deal with students who originally got a broken variant (grant an extra attempt at the quiz using the user override feature of the quiz?) and your <code>n1=3</code> version will be three times as likely to occur.  If you use</p> <pre><code>n1:if is(n1&lt;2) then (2+rand(8)) else n1;\n</code></pre> <p>then any subsequent random number generation will be changed as well.  Indeed, since the pseudo-random number generation is not really random then the second <code>rand</code> statement will only return a single value anyway because random variants are seeded from a single seed.  To generate a second random number you would need to have</p> <pre><code>n1:rand(10);\nn2:2+rand(8);\nn1:if is(n1&lt;2) then n2 else n1;\n</code></pre> <p>and make the question note include both <code>n1</code> and <code>n2</code> to show there are distinct random versions including both <code>n1</code> and <code>n2</code> as random variables.</p> <p>Of course, if the question author has created question tests in the first place, and deployed random variants to check in advance, this problem would never have occured!</p>"},{"location":"Authoring/Fixing_broken_questions/#i-forgot-to-deploy-random-variants","title":"I forgot to deploy random variants.","text":"<p>Moodle creates a random integer to seed the random number generation for each question.  The seed is stored in the question-attempt and it is picked at the initiation of the quiz either from deployed ones or, if no variants have been deployed, is chosen freely.</p> <p>Students will therefore have their seed picked at the moment they start their quiz.  The seed remains unchanged regardless of whether any variants are subsequenetly deployed, removed etc.  Hence, deploying or undeploying variants will have no effect on students who already started the quiz.</p>"},{"location":"Authoring/Future_proof/","title":"Guidelines for ensuring that a question works in the future","text":"<p>Creating a great STACK question takes effort and often people worry about how updating STACK or Moodle or other components running those questions might affect their questions. While there are no guarantees you can increase the ongoing reliability of your questions by taking the following things into account. </p> <p>In some parts of this document we mention \"Abacus\". The Abacus project is a STACK material sharing organisation that seeks to develop high-quality materials to be implemented following these guidelines. This document ends with additional guidelines adopted by Abacus.  This is both good practice, and will be relevant if you ever intend to join Abacus.</p> <p>The most important things are listed here. More detail is below.</p> <ol> <li>Build questions so that it is possible to detect changes in the platform. All questions must have \"question tests\", which allow unit testing of each question variant.</li> <li>Use simple correct HTML with all closing tags, avoiding explicit style of your own.</li> <li>Use only simple core LaTeX Maths environments/commands, with only <code>\\(...\\)</code> and <code>\\[...\\]</code> as the maths delimiters.</li> <li>Avoid linking to externally hosted content, such as pictures and applets.</li> <li>End Maxima commands with a semi-colon <code>;</code>.</li> <li>Add comments to your Maxima code.</li> </ol>"},{"location":"Authoring/Future_proof/#writing-castext","title":"Writing CASText","text":"<p>CASText is the definition of the visible parts of the question, the bit where you pose the problem to the student lay out the equations and inputs and possibly draw fancy graphics. Technically, CASText is an HTML-document fragment with inline LaTeX equations and possible logic in the form of CASText blocks.</p> <p>To ease parsing of CASText you should ensure that you are writing valid (X)HTML i.e. make sure that all the tags get closed and that you are not placing block level elements in places where they do not belong. <code>&lt;span&gt;&lt;div&gt;...&lt;/div&gt;&lt;/span&gt;</code> is bad while <code>&lt;div&gt;&lt;span&gt;...&lt;/span&gt;&lt;/div&gt;</code> might be less bad. In the case of LaTeX using <code>\\(...\\)</code> instead of <code>$...$</code> and <code>\\[...\\]</code> instead of <code>$$...$$</code>, in Abacus <code>$</code>-delimiters for LaTeX are strictly forbidden.  (There is a simplistic auto-convert to help with a one-time conversion.)</p> <p>To ensure consistent presentation you should avoid using inline CSS styles in your CASText, as the styles of the surrounding system may change and cause conflicts. In general all styles are bad with the sole exception being <code>text-align</code> in the context of table cells. Otherwise:</p> <ul> <li>If at all possible remove all styles and the <code>&lt;span&gt;</code> tags related to them from the CASText. Most WYSIWYG editors have some clear formatting feature to do just that. You cannot have block level HTML elements inside a span tag, which is an inline element.</li> <li>You should not define <code>font-size</code> anywhere. If you need a heading with big text then use the <code>&lt;hX&gt;...&lt;/hX&gt;</code> tags, but not with too small or large values of X. In Abacus <code>&lt;h3&gt;</code> and <code>&lt;h4&gt;</code> are recommended especially in model solutions.</li> <li>Likewise all other font stylings should be left to the surrounding system but feel free to use <code>&lt;i&gt;</code>, <code>&lt;b&gt;</code>, <code>&lt;em&gt;</code>, and <code>&lt;strong&gt;</code> if you need and assume that the surrounding system handles them correctly.</li> <li>You can use the <code>&lt;code&gt;</code> tag to explain how to type in answers.</li> <li>The top level of your CASText document should consist of <code>&lt;p&gt;</code>, <code>&lt;table&gt;</code>, <code>&lt;div&gt;</code>, or CASText block elements not of raw text. For the PRT be careful about using <code>&lt;p&gt;</code> tags (which editors hide).  If you use the compact PRT style then STACK then puts this into span tags, and you cannot have block level HTML elements such as <code>&lt;p&gt;</code> inside a span tag.</li> <li>In the case of tables and images you may use a bit of styling, e.g. borders, paddings, margins, and sizes, but you should always use relative units when describing those sizes. Scale to match the current font-size or maybe to the width of the viewport or even to the maximum dimension of the display not to pixels as pixels have very different actual sizes on different screens and we cannot assume that the software displaying things will make the same scaling assumptions for them in the future.</li> <li>STACK now uses SVG, and this is preferred if you can embed this within the CASText.</li> <li>Only use supported JavaScript libraries, like JSXGraph.</li> <li>Avoid complex LaTeX constructions where you inject values into multiple places, instead try to tune Maxima LaTeX generation to meet your needs, e.g. showing working, using <code>texput</code>, or changing other features of Maxima constructs.</li> </ul> <p>If your CASText document contains scripts like JSXGraph content definitions you should ensure that if they require some external files to be evaluated you include those files with the question as links to external files will be broken at some point or the external files themselves change. In the case of JSXGraph use the <code>jsxgraph</code> CASText block which will handle the scripts at STACK level.</p> <p>All external files/links are bad! If you have images or other documents related to the question they should be included in the question. Avoid embedded frames, applets and other interactive content. To test inclusion you should be able to export the question and import it to a freshly installed raw system on a computer not connected to the internet and those questions should work. There is nothing wrong with internal files of any type, as long as they come with the question. Use of the include feature from 4.4 is also a bad thing, but you can make it less bad if the included file is present on a public server and if it is versioned so that one can link to a version that never changes.</p>"},{"location":"Authoring/Future_proof/#writing-cas-code","title":"Writing CAS code","text":"<p>The CAS code (internally keyvals and CASStrings) consists of Maxima assignment statements. Occasionally, Maxima's behaviour changes, and occasionally there are changes in the STACK provided Maxima functions. Changes cannot be avoided, but you can try to develop your questions based on as new as possible Maxima version to give them longer life. Otherwise there are some details that should be noted:</p> <ul> <li>End your statements with semicolons (<code>;</code>) this will ease your life if you ever need to copy code to Maxima for testing. In the future semicolons may become mandatory, automatic conversion will however handle that change.</li> <li>Avoid interesting chars in your variable names e.g. <code>_</code> has meaning and it is reasonable to assume that other chars might have new meanings in the future.</li> <li>Never write to a variable sharing a name with an input!</li> </ul> <p>You should also heed to these general guidelines:</p> <ul> <li>Teachers answers are generally stored in variables named <code>tAns</code>, <code>tans1</code>, or maybe <code>TAns3</code> this is a pretty widely spread convention and should be followed, in general the question variables should end with a listing of assignments defining the teachers answers for each input.</li> <li>Should there be need to process the students answer it might make sense to store it to <code>sAns...</code>.</li> <li><code>texput</code> instead of manual string construction when generating LaTeX representations will keep your code readable.</li> <li>Write comments! More complex code is more likely to break at some point and someone, probably you, will need to understand it and provide a replacement logic for it. Especially, long oneliners have tendency to mystically break.</li> </ul>"},{"location":"Authoring/Future_proof/#question-tests-teachers-answers","title":"Question tests &amp; teacher's answers","text":"<p>To detect broken questions we need to be able to test them and the only reasonable way to that is through the question tests. You must define some tests: at least one for each PRT in your question. Preferably provide one correct answer test for each PRT, tests for each branch in the PRTs, and some nonsense inputs to check for 'false positive' style failures.</p> <p>For manual testing it is important to provide each input with the correct teacher's answer and that teacher's answer must be in a form that matches input requirements.  For example, if you require a floating-point number with a specific number of significant figures then do not specify the teacher's answer as a rational number!  Note that you will need to do the same output formatting for the question tests if your question cares about the formatting of the answer.</p> <p>Please note that the system administrator has access to a \"bulk test\" script which runs all the tests on a category. You can use this when you upgrade your site.</p>"},{"location":"Authoring/Future_proof/#things-that-have-broken-or-will-break","title":"Things that have broken or will break","text":"<p>There have been some changes, which have created broken questions between versions.</p> <ul> <li>List instantiation in Maxima is now required by Maxima and writing to an uninstantiated list gives errors like 'ARRSTORE: use_fast_arrays=false; allocate a new property hash table'. Basically, this means that you cannot say <code>TAns[1]:x;</code> without first saying <code>TAns:[];</code>. So do not assume that Maxima knows you want to create a list by simply assigning to an index on an undefined variable.</li> <li>Maxima has its own <code>addrow</code> command, that differs from STACKs version. Please check any questions using <code>addrow</code>. Eventually, a conversion will be made that will switch the arguments of function calls in old questions using the old STACK version of that function but the change process will be long.</li> </ul>"},{"location":"Authoring/Future_proof/#abacus-guidelines","title":"Abacus guidelines","text":"<p>Abacus materials are assumed to take into account the future proofing related comments above. In addition to this there are some other rules:</p>"},{"location":"Authoring/Future_proof/#naming-of-questions","title":"Naming of questions","text":"<p>The question names are to be in English and the question name is then suffixed with the language codes of the localisations present in the question e.g. 'Eigenvalues and eigenvectors [FI,SV]'. While uniqueness of the naming of questions might be desirable it makes more sense to name the collection (category for those dealing with Moodle) of questions uniquely and keep the individual question names short.</p> <p>As a special rule if your question contains scripting inside CASText section that would suffer from being opened and saved with a helpful WYSIWYG editor do note that in the name. Maybe a suffix of '[NO WYSIWYG]' or a prefix if you fear that it would not be displayed in the question list due to a long question name.</p> <p>Use lexicographical ordering to your advantage, so questions are listed in an order which might be helpful when using them in a quiz or a course.</p>"},{"location":"Authoring/Future_proof/#keywords-author-attribution","title":"Keywords &amp; author attribution","text":"<p>'Tags' i.e. keywords can be connected to questions and you are encouraged to use them. You may try to gain access to a listing of most common ones and see if your ideas about them might have been typed slightly differently over there but worry not about creating a new one.</p> <p>Author attribution in Abacus happens through keys/tags. Your questions should have a tag referencing your home organisation and one for your name. As some platforms do not support spaces in their keywords you may want to play it safe by writing the author tag as 'LastnameFirstname'. If you are significantly modifying an existing question feel free to add your author tag there but do not remove the existing ones.</p>"},{"location":"Authoring/Future_proof/#html","title":"HTML","text":"<p>All HTML needs to be valid XHTML. Empty <code>&lt;p&gt;&lt;/p&gt;</code>-tags and <code>&lt;br/&gt;</code>-tags are to be eliminated on sight. All content should go through clear formatting. Editing using the plain text area editor is strongly recommended, at the minimum authors should take a look at the source code view of their WYSIWYG editor and prune every now and then.</p>"},{"location":"Authoring/Future_proof/#model-solution","title":"Model solution","text":"<p>Abacus materials are expected to contain model solutions in the 'general feedback'-field and that solution is expected to apply to the random variables present in the student's question. Feel free to use conditional rendering available through CASText blocks to handle differences in the solution process if the random variables require it. However, in general questions should aim to have the same solution process for all values of the parameters to avoid differences in difficulty. Naturally, questions with wildly different solutions are also useful.</p>"},{"location":"Authoring/Future_proof/#question-note","title":"Question note","text":"<p>The question note must be filled correctly, i.e. all random variables must be present in it. It is also recommended that the note provides a summary of the question and answer, if multiple differing solution processes are possible the note should tell which of those is required in the variant. Question notes are used if one selects specific variants for use and all that information will help then.</p>"},{"location":"Authoring/Future_proof/#localisation","title":"Localisation","text":"<p>Questions are to be localised within the question i.e. there must not exist more than one instance of the same question only differing by the language of the CASText portions. Currently, the localisation is to be done with the multilang filter of Moodle; once better or higher-level solutions are made possible we will automatically convert to them.</p>"},{"location":"Authoring/Future_proof/#prt-feedback","title":"PRT feedback","text":"<p>It is perfectly acceptable to place the PRT-feedback marker within the question text, as opposed to the specific feedback field in Moodle, and it is recommended when dealing with questions with multiple PRTs and inputs. Try to place the feedback near to the things it applies to e.g. feedback for part A at the end of part A before part B starts.</p>"},{"location":"Authoring/Future_proof/#cas-code-input-and-prt-naming","title":"CAS Code &amp; input and PRT naming","text":"<p>Abacus materials should aim to use English names for the CAS variables, inputs and PRTs to ease debugging by other members. Realistically, when generating new localisations for an existing question the variables should be renamed at the same time unless they are already in English. </p> <p>If a variable name could cause confusion you should describe the variable in inline comments. You should use verbose internal variable names but not too verbose, try to aim for less than 10 characters. PascalCase/camelCase is the recommended way of dealing with multi word verbose names.</p> <p>Naming of PRTs is highly recommended, even <code>partA</code> and <code>partB</code> will be more descriptive names than <code>prt1</code> and <code>prt2</code>, naming of PRTs happens when you create them i.e. when you create that PRT-feedback marker.</p>"},{"location":"Authoring/Inclusions/","title":"Inclusions","text":"<p>This is an expert level topic, please avoid this feature unless you feel that you  understand the implications and concecuences of it. Note that using this feature goes against the self-contained material principle present in  the guidelines.</p> <p>That being said, a common request on the wish-list has been to provide some means of sharing code between questions. The inclusion-feature is the first step towards such a feature, however, it is not perfect nor do we expect it to be the solution  that will finally be selected. But we provide it now that the backend has the tools to provide it, for those adventurous enough.</p> <p>Technical note: Currently, inclusions within inclusions are not supportted, due to loop detection and security validation reasons.</p>"},{"location":"Authoring/Inclusions/#inclusions-life-cycle","title":"Inclusions life-cycle","text":"<p>For all current types of inclusions the inclusion happens at the time of compilation, which means that the source will be fetched when the question gets compiled and will stay in the cached compilation product. Compilation happens during the first use of the question after it has been saved or the cache has been purged.</p> <p>The logic will not track changes to the source material, if one wants to fetch it again one must re-compile the question, either by purging the caches or by editing the question.</p> <p>Note that in the current solution during export we export only the source address  and the exported material will only work if the address is accessible at the end  that imports it.</p>"},{"location":"Authoring/Inclusions/#inclusions-within-text","title":"Inclusions within text","text":"<p>The simpler inclusion type is the CASText2 include-block, which will simply place CASText2-code from a given address at the blocks location. Note that one may need to be careful with the format of the context and included code, the include logic assumes that the code is of the same format as the context, so if your included  content is in Markdown-format including it directly to HTML-context may cause  trouble.</p> <p>Typical use case would be to have a JSXGraph plotting logic that expect that certain variables contain parameters for plotting and one would then simply make sure that one would populate those parameters before inclusion of the plotting  logic for example like this:</p> <pre><code>First plot the first plot with the values defined earlier.\n[[include src=\"http://example.com/fragments/myplot.txt\"/]]\n\nThen include the same plotting logic but change the parameters to plot something else.\n[[define plot_fun=\"theotherfun\" plot_param1=\"something\"/]]\n[[include src=\"http://example.com/fragments/myplot.txt\"/]]\n\n</code></pre> <p>As the included content can be of a different format (Markdown etc.) than  the context into which it gets included it is recommended that the included content defines its own format. For example, wrapping itself in one of  the new format controlling blocks <code>[[moodleformat]]</code>, <code>[[htmlformat]]</code> or <code>[[markdownformat]]</code>, thus allowing whatever format content to be included within another formats content. Note, that at this time identification of  math-mode is not quite ready to understand all of these context switches.</p>"},{"location":"Authoring/Inclusions/#inclusions-within-cas-logic","title":"Inclusions within CAS-logic","text":"<p>You can also include code into keyvals, i.e. question-variables or into feedback-variables. This type of an inclusion will again act just as if written directly by the question author at that place in the code. If one writes this type of an inclusion within an if-statement it will simply get written open within  an if-statement, the <code>if</code> will only decide if it executes, but it will still take that space and bandwidth.</p> <p>The included material must follow all the rules of normal STACK keyvals.</p> <ol> <li>Large amounts of code will affect performance.  The internal Maxima code is pre-compiled but question variables are interpreted at runtime.  </li> <li>All the identifiers bound in included code will subject to checks just as if you typed them in.</li> <li>Identifiers in your code will be marked as forbidden-words for the students. So particular care should be taken when choosing identifiers in such shared logic between questions.  Do not use names a student might need to type in another, un-related, question!</li> <li>Code is loaded when you save the question, not when a student uses the question.  Hence code is cached in the question.  Updates to an external library will therefore not affect existing questions.  That cache will not invalidate unless you (a) update the STACK plugin (which clears all cached/compiled questions), (b) save the question (which again downloads the code).</li> </ol> <p>Note that we do not do \"tree-shaking\" at this point to remove unnecessary code.  If you include a massive library of functions that you do not use the question will still have to load those functions into the CAS and that may take some time.  If you have libraries, used in many questions, please consider contibuting these to the core of STACK.</p> <p>To include external CAS code call the <code>stack_include()</code>-function with a string  argument.  The argument must be a raw string, containing the URL of the code.  You cannot reference a variable containing such a string. For example,</p> <pre><code>a: rand(3)+2;\n/* Load logic to tune the presentation. */\nstack_include(\"http://example.com/fragments/mytexputrules.txt\");\n/* Load some special randomisation functions. */\nstack_include(\"http://example.com/fragments/mymatrixrand.txt\");\nm: mymatrix_rand_integer_invertible(a);\n</code></pre> <p>You may not use evaluation flags with <code>stack_include()</code> while the code included may have them the inclusion call cannot be used to apply flags to all the included content.</p> <p>The function <code>stack_include_contrib()</code> will load the files contained in the  STACK maxima contrib folder in the master branch in github. In particular the argument of <code>stack_include_contrib()</code> has this URL prepended:  <code>https://raw.githubusercontent.com/maths/moodle-qtype_stack/master/stack/maxima/contrib/</code></p> <p>Hence, the following are completely equivalent</p> <pre><code>stack_include(\"https://raw.githubusercontent.com/maths/moodle-qtype_stack/master/stack/maxima/contrib/validators.mac\");\nstack_include_contrib(\"validators.mac\");\n</code></pre> <p>Notes.</p> <ol> <li>We will try to keep files in the contrib folder small, and stable.  </li> <li>We intend to move commonly used contributed code into the core in due course.  At that point we will localise language strings for automatic translation.</li> <li>Please contact the developers about naming conventions.  For example, external validators should start the function name with <code>validator_</code>.</li> </ol>"},{"location":"Authoring/Inclusions/#sandbox-testing","title":"Sandbox testing","text":"<p>Note, that <code>stack_include()</code> and has no Maxima-side equivalent so you cannot simply copy-paste  your question-variables into Maxima to debug things. You will need to manually do that inclusion.</p> <p><code>stack_include_contrib()</code> will load the packages from the local STACK files, when you set up the sandbox. Make sure you have the latest code in your sandbox as you may have stale versions of contributed (and other core) files on your local machine.</p>"},{"location":"Authoring/Inputs/","title":"Inputs","text":"<p>Inputs are the points at which the student interacts with the question. The default (and prototype) is an HTML input box into which a student is expected to type an algebraic expression.</p> <ul> <li>Only the question text may have inputs.</li> <li>Inputs are not required. Hence it is possible for the teacher to make a statement which asks for no response from the student, i.e. a rhetorical question.</li> <li>A question may have as many inputs as needed.</li> <li>Inputs can be positioned anywhere within the question text. MathJax does not currently support the inclusion of inputs within equations.</li> <li>All inputs return a Maxima expression.  This might be just the student's answer (in the case of an algebraic input).  MCQ inputs also return a valid Maxima expression.</li> <li>In a multi-part question avoid having inputs which differ only by case sensitivity.  E.g. do not have <code>[[input:a]]</code> and <code>[[input:A]]</code> in the same question.  (Some database defaults have case insensitive unique keys (!) and in that case this will cause a database error.  See the installation instructions).</li> </ul> <p>The position of an input in the question text is denoted by</p> <pre><code>[[input:ans1]]\n</code></pre> <p>Here <code>ans1</code> is the name of a Maxima variable to which the student's answer is to be assigned. This must only be letters followed (optionally) by numbers, as in this example. No special characters are permitted. The input name cannot be more than 18 characters long.</p> <p>Feedback as to the syntactic validity of a response is positioned using a corresponding tag</p> <pre><code>[[validation:ans1]]\n</code></pre> <p>This tag must be included even if validation is suppressed with an option (see below) and is automatically generated after the input if it does not exist.</p> <p>We expose the exact behaviour of the validation by giving registered users access to STACK's test suite validation of student's answers.  This can be found on a live server at <code>https://stack-demo.maths.ed.ac.uk/demo/question/type/stack/adminui/studentinputs.php</code></p> <p>Each input may have a number of options and this is potentially complex area with a large range of possibilities.</p> <p>The basic idea is to reject things as \"invalid\" to stop students being penalized on a technicality.  This might be requiring an equation, or making floating-point numbers within an expression forbidden.</p>"},{"location":"Authoring/Inputs/#basic-options","title":"Basic options","text":""},{"location":"Authoring/Inputs/#students-answer-key-answer_key","title":"Student's Answer Key ###  {#Answer_Key}","text":"<p>Every input must have a unique answer key.  This is set in the Question text using the following tag, where <code>ans1</code> is the variable name to which the student's answer is assigned.</p> <pre><code>[[input:ans1]]\n</code></pre> <p>Internally you can refer to the student's answer using the variable name <code>ans1</code> in the potential response tree, feedback variables and feedback text. The worked solution (general feedback) may not depend on the inputs.</p>"},{"location":"Authoring/Inputs/#model-answer-model_answer","title":"Model answer ###  {#model_answer}","text":"<p>This field is compulsory. Every input must have an answer, although this answer is not necessarily the unique correct answer, or even \"correct\"!  This value be displayed to the student as the correct answer.  We recommend you use a question variable for this field so it can be used in the other parts of the question, e.g. the potential response trees.</p>"},{"location":"Authoring/Inputs/#input-type","title":"Input type","text":"<p>Currently STACK supports the following kinds of inputs.  These have a variety of options, as explained below.</p>"},{"location":"Authoring/Inputs/#algebraic-input","title":"Algebraic input","text":"<p>The default: a form box into which a student is expected to type an algebraic expression.</p>"},{"location":"Authoring/Inputs/#numerical","title":"Numerical","text":"<p>This input type requires the student to type in a number of some kind.  Any expression with a variable will be rejected as invalid.</p> <p>Note, some things (like forbid floats) can be applied to any numbers in an algebraic input; other tests (like require n decimal places) cannot and can only be applied to a single number in this input type.</p> <p>See the specific documentation for more information:  Numerical input.</p>"},{"location":"Authoring/Inputs/#scientific-units","title":"Scientific units","text":"<p>The support for scientific units includes an input type which enables teachers to check units as valid/invalid. See the separate documentation for units.</p>"},{"location":"Authoring/Inputs/#matrix","title":"Matrix","text":"<p>The size of the matrix is inferred from the model answer. STACK then adds an appropriate grid of boxes (of size Box Size) for the student to fill in. This is easier than typing in Maxima's matrix command, but does give the game away about the size of the required matrix.</p> <p>The student may not fill in part of a matrix.  If they do so, the remaining entries will be completed with <code>?</code> characters which render the attempt invalid. STACK cannot cope with empty boxes here.</p> <p>We cannot use the <code>EMPTYANSWER</code> tag for the teacher's answer with the matrix input, because the size of the matrix is inferred from the model answer.  If a teacher really wants a correct answer to be empty inputs then they must use a correctly formatted matrix with <code>null</code> values</p> <pre><code>ta:transpose(matrix([null,null,null]));\n</code></pre>"},{"location":"Authoring/Inputs/#text-area","title":"Text area","text":"<p>This input allows the user to type in multiple lines, where each line must be a valid algebraic expression.  STACK passes the result to Maxima as a list. Note, the teacher's answer and any syntax hint must be a list, of valid Maxima exprssions!  If you just pass in an expression strange behaviour may result.</p> <p>If the <code>allowempty</code> tag is used the student's answer will be <code>[EMPTYANSWER]</code> to ensure the type of the student's answer is always a list.</p>"},{"location":"Authoring/Inputs/#equivalence-reasoning-input","title":"Equivalence reasoning input","text":"<p>The purpose of this input type is to enable students to work line by line and reason by equivalence.  See the specific documentation for more information:  Equivalence reasoning. Note, the teacher's answer and any syntax hint must be a list!  If you just pass in an expression strange behaviour may result.</p> <p>If the <code>allowempty</code> tag is used the student's answer will be <code>[EMPTYANSWER]</code> to ensure the type of the student's answer is always a list.</p>"},{"location":"Authoring/Inputs/#truefalse","title":"True/False","text":"<p>Simple drop down. A Boolean value is assigned to the variable name.</p> <p>If the teacher's correct answer should leave this blank (e.g. not answered at all) then use the tag <code>EMPTYANSWER</code>. (There are some edge cases where only some inputs are used in the correct answer to a question, so not answering is correct here).  If you use the extra option <code>allowempty</code> then empty answers are considered valid, and the value of this input is <code>EMPTYANSWER</code>.</p>"},{"location":"Authoring/Inputs/#dropdowncheckboxradio","title":"Dropdown/Checkbox/Radio","text":"<p>The dropdown, checkbox and radio input types enable teachers to create multiple-choice questions.  See the separate documentation.</p>"},{"location":"Authoring/Inputs/#string-input","title":"String input","text":"<p>This is a normal input into which students may type whatever they choose.  It is always converted into a Maxima string internally. Notes</p> <ol> <li>There is no way whatsoever to parse the student's string into a Maxima expression.  If you accept a string, then it will always remain a string! You can't later check for algebraic equivalence. The only tests available will be simple string matches, etc.</li> <li>An empty answer will be blank unless you use the <code>allowempty</code> option in which case the answer will be interpreted as an empty string, i.e. <code>\"\"</code> rather than <code>EMPTYANSWER</code> as would be the case with other inputs.</li> <li>STACK does some sanitation on students' input within strings to stop students typing in HTML code.  For example, you may find that a string <code>\"a&lt;b\"</code> actually ends up in Maxima with the less-than sign inside the string changed into an html entity <code>&amp;lt;</code>, so your string inside Maxima becomes <code>\"a&amp;lt;b\"</code>.  In cases where string matches unexpectedly fail, look at the testing page to see what is actually being compared within the PRT and re-build the teacher's answer to match.</li> </ol>"},{"location":"Authoring/Inputs/#notes-input","title":"Notes input","text":"<p>This input is a text area into which students may type whatever they choose.  It can be used to gather their notes or \"working\".  However, this input is always considered as \"invalid\", so that any potential response tree which relies on this input will never get evaluated!</p> <p>This input type can be used for</p> <ol> <li>surveys;</li> <li>answers which are not automatically marked, contributing to semi-automatic marking.</li> </ol> <p>The notes input has a special extra option <code>manualgraded</code>, and the default option value is <code>manualgraded:false</code>.  If you specify <code>manualgraded:true</code> then the whole STACK quesion will require manual grading!</p>"},{"location":"Authoring/Inputs/#single-character","title":"Single Character","text":"<p>A single letter can be entered.  This is useful for creating multiple-choice questions, but is not used regularly.</p>"},{"location":"Authoring/Inputs/#options","title":"Options","text":""},{"location":"Authoring/Inputs/#input-box-size-box_size","title":"Input Box Size ### {#Box_Size}","text":"<p>The width of the input box.</p>"},{"location":"Authoring/Inputs/#insert-stars-insert_stars","title":"Insert Stars ### {#Insert_Stars}","text":"<p>Insert Stars affect the way STACK treats the validation of CAS strings.</p> <p>Some patterns must always be wrong.  For example  <code>)(</code> must be missing a star, and so this pattern is always included.</p> <p>There are six options.</p> <ul> <li>Don't insert stars:  This does not insert <code>*</code> characters automatically.  If there are any pattern identified the result will be an invalid expression.</li> <li>Insert <code>*</code>s for implied multiplication.  If any patterns are identified as needing <code>*</code>s then they will automatically be inserted into the expression quietly.</li> <li>Insert <code>*</code>s assuming single character variable names.  In many situations we know that a student will only have single character variable names.  Identify variables in the student's answer made up of more than one character then replace these with the product of the letters.</li> <li>Note, the student's formula is interpreted and variables identified, so  will not end up as <code>s*i*n*(a*x)</code> but as <code>sin(a*x)</code>.</li> <li>Note, in interpreting the student's formula we build an internal tree in order to identify variable names and function names.  Hence  is interpreted as .  We then identify the variable name <code>xe</code> and replace this as <code>x*e</code>.  Hence, using this option we have <code>xe^x</code> is interpreted as <code>(x*e)^x</code> NOT as <code>x*e^x</code> which you might expect.  </li> </ul> <p>There are also additional options to insert multiplication signs for spaces.</p> <ul> <li>Insert stars for spaces only</li> <li>Insert stars for implied multiplication and for spaces</li> <li>Insert stars assuming single-character variable names and for spaces</li> </ul> <p>If a space is taken for multiplication what should we do with ?  Currently this is transformed to  and then rejected as invalid as you can't multiply the function name by its argument.  Use these latter options with caution: in the long run students are likely to need to use a strict syntax with machines, and letting them use spaces now might be a disservice.</p> <p>It is often very important to have some on-screen representation of multiplication, e.g. as a dot, so the student can see at the validation that <code>xe^x</code> is interpreted </p> <ol> <li>as  if we assume single character variable names, and</li> <li>as  if we just \"Insert <code>*</code>s for implied multiplication\".  The absence of the dot here is key.</li> </ol>"},{"location":"Authoring/Inputs/#syntax-hint-syntax_hint","title":"Syntax Hint {#Syntax_Hint}","text":"<p>A syntax hint allows the teacher to give the student a pro-forma in the input box. This can include '?' characters. The syntax hint will appear in the answer box whenever this is left blank by the student. For example, rather than having to type</p> <pre><code>matrix([1,2],[3,4])\n</code></pre> <p>the teacher may want to provide an answer box which already contains the string</p> <pre><code>matrix([?,?],[?,?])\n</code></pre> <p>instead. The student then need only to edit this, to replace ?s with their values. This helps reduce syntax error problems with more difficult syntax issues. The ? may also be used to give partial credit. Of course it could also be used for general expressions such as:</p> <pre><code>x^2+?*x+1\n</code></pre>"},{"location":"Authoring/Inputs/#forbidden-words-forbidden_words","title":"Forbidden words ### {#Forbidden_Words}","text":"<p>This is a comma-separated list of text strings which are forbidden in a student's answer.  If one of these strings is present then the student's attempt will be considered invalid, and no penalties will be given. This is an unsophisticated string match.</p> <p>Note, any question variable names used in the question variables are automatically forbidden (otherwise the student could potentially use the variable name you have defined, which might be the correct answer).  If you want to allow question variables, you must explicitly use the allowed words field, see below.</p> <p>Note that the string <code>*</code> is literally taken as <code>*</code> and is not a wild card.  Teachers may ask a student to calculate <code>2*3</code> and hence need to forbid multiplication in an answer.</p> <p>If you wish to forbid commas, then escape it with a backslash.</p> <p>There are groups of common keywords which you can forbid simply as</p> <ul> <li><code>[[BASIC-ALGEBRA]]</code> common algebraic operations such as <code>simplify</code>, <code>factor</code>, <code>expand</code>, <code>solve</code>, etc.</li> <li><code>[[BASIC-CALCULUS]]</code> common calculus operations such as <code>int</code>, <code>diff</code>, <code>taylor</code>, etc.</li> <li><code>[[BASIC-MATRIX]]</code> common matrix operations such as <code>transpose</code>, <code>invert</code>, <code>charpoly</code>, etc.</li> </ul> <p>If you have suggestions for more lists, or additional operations which should be added to the existing lists, please contact the developers.</p>"},{"location":"Authoring/Inputs/#allowed-words-allowed_words","title":"Allowed words ### {#Allowed_Words}","text":"<p>By default, arbitrary function or variable names of more than two characters in length are not permitted.  This is a comma-separated list of function or variable names which are permitted in a student's answer.</p> <p>Note the allowed words permit the teacher to override some (but not all) of the strings which are considered to be invalid by default for student input.  For example, <code>Sin</code> (capital \"S\") has specific feedback.  If you need this in a question you have to allow it here.  Similarly <code>In</code> (\"India November\") is mistakenly used by students for the natural logarithm rather than <code>ln</code> (\"Lima November\").  Hence by default this triggers specific feedback.  You can allow <code>In</code> here.</p>"},{"location":"Authoring/Inputs/#forbid-floats-forbid_floats","title":"Forbid Floats ### {#Forbid_Floats}","text":"<p>If set to <code>yes</code>, then any answer of the student which has a floating-point number will be rejected as invalid. Students sometimes use floating-point numbers when they should use fractions. This option prevents problems with approximations being used.</p>"},{"location":"Authoring/Inputs/#require-lowest-terms-require_lowest_terms","title":"Require lowest terms ### {#Require_lowest_terms}","text":"<p>When this option is set to <code>yes</code>, any coefficients or other rational numbers in an expression, must be written in lowest terms.  Otherwise the answer is rejected as \"invalid\". This enables the teacher to reject answers, and not consider them further.  Note that at most one number can have a minus sign and two unary minus signs are considered to be something which should be cancelled.</p>"},{"location":"Authoring/Inputs/#check-students-answers-type-check_type","title":"Check Students answer's type ### {#Check_Type}","text":"<p>If this option is set to <code>yes</code> then unless the student's expression is the same Maxima as the teacher's correct answer, then the attempt will be rejected as invalid.</p> <p>Type checking here is very simple, basically checking the student's answer is an equation, inequality, list, set, matrix to match that of the teacher.  The intention is not to be completely comprehensive, but to avoid obvious type mismatch.  E.g. this is very useful for ensuring the student has typed in an \"equation\", such as  and not an expression such as .  Remember, you can't compare an expression with an equation!</p> <p>Another useful way of avoiding this problem is to put a LaTeX string such as  just before the input.  E.g.</p> <pre><code>\\(y=\\)[[input:ans1]].\n</code></pre>"},{"location":"Authoring/Inputs/#student-must-verify-student_must_verify","title":"Student must verify ### {#Student_must_verify}","text":"<p>Specifies whether the student's input is presented back to them before scoring as part of a two-step validation process. Typically the student's mathematical expression is displayed in traditional form. This is useful for complex algebraic expressions but not needed for constrained input like <code>yes</code>/<code>no</code>.</p> <p>Experience strongly supports the use of this two-step verification process. Errors will always be displayed and expressions with errors rejected as invalid.  Potential response trees will not execute with invalid input.</p> <p>The next option controls how the validation feedback is displayed.  Note, it is not possible to require a two-step validation but not show some validation feedback.</p>"},{"location":"Authoring/Inputs/#show-validation-show_validation","title":"Show validation ### {#Show_validation}","text":"<p>Feedback to students is in two forms.</p> <ul> <li>feedback tied to inputs, in particular if the answer is invalid.</li> <li>feedback tied to each potential response tree.</li> </ul> <p>Setting this option displays any feedback from this input, including echoing back their expression in traditional two-dimensional notation.  Generally, feedback and verification are used in conjunction.  Errors will always be displayed.  In addition to simply displaying the student's expression, the teacher can display the list of variables which occurs in the expression.  From experience, this is helpful in letting students understand the idea of variable and to spot case insensitivity or wrong variable problems.</p> <p>The \"compact\" version removes most of the styling.  This is needed when the answer is part of a table.</p>"},{"location":"Authoring/Inputs/#extra-option-hideanswer","title":"Extra option: hideanswer","text":"<p>Users are increasingly using inputs to store state, which makes no sense for a user to see.  For example, when using JSXGraph users transfer the configuration of the diagram into an input via JavaScript.  In many situations, it makes no sense for the student to see anything about this input.  The validation can be switched off with the regular \"show validation\" option, the input box itself can be hidden with JavaScript/CSS.  Putting <code>hideanswer</code> in the extra options stops displaying the \"teacher's answer\", e.g. at the end of the process.</p> <p>All input types should support this extra option.</p> <p>Do not use this option in questions in place of the normal quiz settings.</p>"},{"location":"Authoring/Inputs/#extra-option-allowempty","title":"Extra option: allowempty","text":"<p>Normally a blank, i.e. empty, answer has a special status and are not considered \"valid\".  Hence, a PRT relying on an input left blank will not be traversed.  Answers consisting only of whitespace are also considered as empty.  The extra option <code>allowempty</code> allows the input to be empty.  Internally an empty answer will be replaced by the Maxima atom <code>EMPTYANSWER</code>.  Internally it is essential that the variable name of the input, (e.g. <code>ans1</code>) is really assigned a specific value. The teacher will need to deal with <code>EMPTYANSWER</code> tags in the PRT.</p> <p>We strongly recommend (with many years of experience) that teachers do not use this option without very careful thought!</p> <p>For example, if you don't want to give away how many answers you expect, then ask the student to provide a set of answers.  Another option is to use the \"TextArea\" input type.  Each line of the TextArea is validated separately, and the resulting mathematical expression is a list.  The student is therefore free to choose how many expressions to type in, as the circumstances require, without a pre-defined number of input boxes.  By design, it is better to use these methods than trying to combine separate inputs, some of which are empty, in the PRT later.</p> <p>Our experience strongly suggests this option should only be used for edge cases, and not for routine use.</p> <p>If you use this option when students navigate away from a page the system will \"validate\" the inputs, and hence any empty boxes will be considered an active empty choice by the student and will be assessed.  If you use this option there is no way to distinguish between an active empty answer choice, and a student who deletes their answer.  (The same problem occurs with radio buttons....)</p> <p>There are (unfortunately) some edge cases where it is useful to permit the execution of a PRT without all the inputs containing significant content.  </p> <p>Assume you have three inputs <code>ans1</code>, <code>ans2</code>, <code>ans3</code> contributing to a PRT, all of which have the <code>allowempty</code> option set because you don't want to tell the student which might be empty.  Assume the correct answer has at least one entry non-empty.  Then, make the first node of the PRT check</p> <pre><code>ATAlgEquiv({ans1,ans2,ans3},{EMPTYANSWER})\n</code></pre> <p>This checks if all inputs are empty, so if true set the score and the penalty to be zero and stop.  This prevents the student accruing a penalty if they navigate away with all the boxes empty, but the PRT will still execute an \"attempt\".</p> <p>If a teacher has three inputs <code>ans1</code>, <code>ans2</code>, <code>ans3</code>, then they can define a set in the feedback variables as follows</p> <pre><code>sa:setdifference({ans1,ans2,ans3},{EMPTYANSWER})\n</code></pre> <p>The variable <code>sa</code> will be a set containing the non-empty answers (if any).  </p> <p>The teacher can use the <code>EMPTYANSWER</code> tag as a \"correct answer\".</p>"},{"location":"Authoring/Inputs/#extra-option-simp","title":"Extra option: simp","text":"<p>Actually simplify the student's answer during the validation process.  This will allow students to type in something like</p> <pre><code>makelist(k^2,k,1,8)\n</code></pre> <p>If teacher's want this kind of thing, then a syntax hint is probably in order as well.</p> <p>You may need to <code>ev(ans1,simp)</code> explicitly in any potential response tree.</p> <p>It makes no sense to simplify the equivalence reasoning input type, so this has been omitted.</p>"},{"location":"Authoring/Inputs/#extra-option-align","title":"Extra option: align","text":"<p>Controls if the student's answer is aligned 'left' or 'right' within the input box.</p>"},{"location":"Authoring/Inputs/#extra-option-nounits","title":"Extra option: nounits","text":"<p>As of STACK 4.3, if units are declared in a question then the whole question will use a units context for parsing inputs.  For example, in a multi-part question you may use a matrix input.  If you do so, and use variable names, then these will be parsed expecting them to be usits.  To prevent this in a particular input, use the <code>nounits</code> option</p>"},{"location":"Authoring/Inputs/#extra-option-consolidatesubscripts","title":"Extra option: consolidatesubscripts","text":"<p>As of STACK 4.3.10, there is an option to \"consolidate subscripts\".</p> <p>There is a subtle (and perhaps confusing) difference between atoms in Maxima.  The strings <code>a1</code> and <code>a_1</code> are both atoms in Maxima, and are different.  Hence, the atoms <code>a1</code> and <code>a_1</code> are not considered to be algebraically equivalent. To avoid penalising students on a technicality, if you include the extra option <code>consolidatesubscripts</code> or <code>consolidatesubscripts:true</code> then students' input will be converted to the form without the underscore.</p> <ol> <li>In students' input <code>M_1</code> is converted to <code>M1</code>.</li> <li>Teachers are expected to use the correct pattern <code>M1</code> in the correct answer and in PRTs.</li> <li>We only filter a very limited pattern, namely <code>^[a-zA-Z]+_[0-9]+$</code> which is an atom starting with one or more letters, then an underscore <code>_</code> then one or more digits.  This is the only pattern currently replaced.  Specifically double subscripts or non-numeric subscripts are ignored.</li> </ol> <p>(If you have genuine use for more patterns please contact the developers with examples!)</p> <p>More information on subscripts is given in the atoms and subscripts section of the more general Maxima documentation.</p>"},{"location":"Authoring/Inputs/#extra-option-checkvars","title":"Extra option: checkvars","text":"<p>As of STACK 4.4.0, there is an option to check, or allow comparison between, variables which occur in the student's answer and the teacher's answer.</p> <p>This option takes the form of <code>checkvars:n</code>, where <code>n</code> is an integer. Ommiting this option is equivalent to setting <code>n=0</code>.</p> <p>The binary bits are used to set this options.</p> <ol> <li>If the 1st binary bit of <code>n</code> is 1 (i.e. <code>n</code> is odd) then we flag up spurious variables.</li> <li>If the 2nd binary bit of <code>n</code> is 1 then we flag up missing variables.</li> </ol> <p>So, to check both set <code>checkvars:3</code>.</p> <p>The numerical argument provides potential for future-proofing features (e.g. case sensitivity).</p>"},{"location":"Authoring/Inputs/#extra-option-validator","title":"Extra option: validator","text":"<p>This allows an input to add additional bespoke validation, based on a function defined by the question author.  For example, you can define a function which checks if the student's answer is a list of exactly three floating point numbers.  See the validator documetation for more details.</p> <p>Writing bespoke validators is an advanced feature, but offers two significant benefits.</p> <ol> <li>Students are less likely to be penalised on a technicality, especially in high-stakes situations;</li> <li>Potential response tree authoring becomes much easier and more reliable because the validation acts as a \"guard clause\" only allowing correctly structured information through to the PRT.  This means type-checking need not be done in the PRT before assessment.</li> </ol>"},{"location":"Authoring/Inputs/#extra-options","title":"Extra options","text":"<p>In the future we are likely to add additional functionality via the extra options fields.  This is because the form-based support becomes ever more complex, intimidating and difficult to navigate.</p>"},{"location":"Authoring/Inputs/#input-tips-and-tricks","title":"Input tips and tricks","text":"<p>It is often sensible to use a prefix just in front of the form box.  For example</p> <pre><code>\\(f(x)=\\) [[input:ans1]].\n</code></pre> <p>This avoids all kinds of problems with students also trying to enter the prefix themselves. You could also specify units afterwards, but you might also want the student to type these in!</p> <p>In Maxima the input <code>(a,b,c)</code> is a programmatic block element (see Maxima's manual for <code>block</code>).  Hence we cannot use this directly for the input of coordinates.  Instead, have the students type in an unnamed function like</p> <pre><code>P(x,y)\n</code></pre> <p>This technique can be used to enter a set of points</p> <pre><code>{A(1,2), B(2,3)}\n</code></pre> <p>as an answer.  The <code>op</code> command can be used to filter out a particular point, and the <code>args</code> command becomes a list of coordinates.</p>"},{"location":"Authoring/Inputs/#options-summary-table","title":"Options summary table","text":"<p>This table lists all options, and which inputs use/respect them.  The <code>.</code> means the option is ignored.</p> Options Alg Num Units Matrix Check Radio Drop T/F TextArea Equiv String Notes Box size Y Y Y Y . . . . Y Y Y Y Strict Syn Y (1) (1) Y . . . . Y Y . . Insert stars Y Y Y Y . . . . Y Y . . Syntax hint Y Y Y Y . . . . Y Y Y Y Hint att Y Y Y Y . . . . Y Y Y Y Forbidden words Y Y Y Y . . . . Y Y . . Allowed words Y Y Y Y . . . . Y Y . . Forbid float Y Y Y Y . . . . Y Y . . Lowest terms Y Y Y Y . . . . Y Y . . Check type Y Y Y Y . . . . . . . . Must verify Y Y Y Y Y Y Y Y Y Y Y . Show validation Y Y Y Y Y Y Y Y Y Y Y . Extra options: <code>rationalize</code> Y Y . . . . . . . . . . min/max sf/dp . Y Y . . . . . . . . . <code>floatnum</code> . Y . . . . . . . . . . <code>intnum</code> . Y . . . . . . . . . . <code>rationalnum</code> . Y . . . . . . . . . . <code>consolidatesubscripts</code> Y . Y Y . . . . . . . . <code>negpow</code> . . Y . . . . . . . . . <code>simp</code> Y Y Y Y . . . . Y . . . <code>align</code> Y Y Y . . . . . . . . . <code>nounits</code> Y Y Y Y Y Y Y . . Y . . <code>checkvars</code> Y . . Y . . . . . Y . . <code>validator</code> Y Y Y Y . . . . . . Y . <p>For documentation about the various options not documented on this page look at the pages for the specific inputs in which each option is used.</p> <p>Notes:</p> <ol> <li>The numerical and units input type ignore the strict syntax option and always assume strict syntax is \"true\". Otherwise patterns for scientific numbers such as <code>2.23e4</code> will have multiplication characters inserted.</li> </ol>"},{"location":"Authoring/Inputs/#other-input-types","title":"Other input types","text":"<p>Adding new inputs, or options for existing inputs, is a job for the developers. The only essential requirement is that the result is a valid CAS expression, which includes of course a string data type, or a list.</p>"},{"location":"Authoring/JSXGraph/","title":"JSXGraph","text":"<p>This page documents use of JSXGraph to display visuals. This is a somewhat advanced topic. For basic plots and visuals you may prefer to use Maxima to plot graphs. </p> <p>STACK supports inclusion of dynamic graphs using JSXGraph: http://jsxgraph.uni-bayreuth.de/wiki/.</p> <p>Note, we strongly recommend you do not use an HTML-aware editor when using JSXGraph questions.  Instead turn off the editor within Moodle and edit the raw HTML.</p> <pre><code>Site administration &gt; Plugins &gt; Text editors &gt; Manage editors\n</code></pre> <p>Individual users can also set their editor preferences:</p> <pre><code>User Dashboard &gt; Preferences &gt; Editor preferences &gt; Manage editors\n</code></pre>"},{"location":"Authoring/JSXGraph/#include-basic-plots","title":"Include basic plots","text":"<p>This example is based on the documentation for curve and the even simpler function plotter example.</p> <p>To include a basic dynamically-generated sketch into a STACK question, first define the expression of the graph to be plotted in the question variables.  For example</p> <pre><code>a:rand(6)-3;\nfx:sin(x)+a;\n</code></pre> <p>Then include the following question text, which includes a simple <code>[[jsxgraph]]</code> block.  In particular note the lack of <code>&lt;script&gt;</code> tags which you might expect to include.</p> <pre><code>&lt;p&gt;Type in an algebraic expression which has the graph shown below.&lt;/p&gt;\n[[jsxgraph]]\n  // boundingbox:[left, top, right, bottom]\n  var board = JXG.JSXGraph.initBoard(divid, {boundingbox: [-10, 5, 10, -5], axis: true, showCopyright: false});\n  var f = board.jc.snippet('{#fx#}', true, 'x', true);\n  board.create('functiongraph', [f,-10,10]);\n[[/jsxgraph]]\n&lt;p&gt;\\(f(x)=\\) [[input:ans1]] [[validation:ans1]]&lt;/p&gt;\n</code></pre> <p>Note the code <code>board.jc.snippet('{#fx#}', true, 'x', true);</code> which turns a reasonable expression for a function into the JavaScript function.  You cannot just plot the <code>functiongraph</code> on its own.</p> <p>To make a working question, you will then need to add in <code>fx</code> as the model answer to input <code>ans1</code>, a question note (e.g. <code>\\({@fx@}\\)</code>) and an appropriate potential response tree.</p>"},{"location":"Authoring/JSXGraph/#block-options","title":"Block options","text":"<p>You can control the size of the JSXGraph board with the <code>width</code> and <code>height</code> options.  E.g. </p> <pre><code>[[jsxgraph width=\"200px\" height=\"200px\"]]\n</code></pre> <p>The option <code>aspect-ratio</code> combinet with the ability to use relative dimensions allows for graphs to resize and maintain its shape if the viewport changes. When using <code>aspect-ratio</code> it is necessary to define one and only one of the above lengths.</p> <pre><code>[[jsxgraph width=\"80%\" aspect-ratio=\"3/2\"]]\n</code></pre> <p>If no size is defined the default is to have <code>width=\"500px\" height=\"400px\"</code> and these are also the dimensions used if values are missing and no <code>aspect-ratio</code> has been defined.</p>"},{"location":"Authoring/JSXGraph/#automatic-identifier-for-the-div-element","title":"Automatic identifier for the div-element","text":"<p>As initialisation of the JSXGraph board requires you to give it a reference to the div-element that will contain the graph you will need to know what that id is. With the JSXGraph-block that identifier is present in a variable named <code>divid</code>. Since, 4.3.3 we also provide that same identifier in a variable named <code>BOARDID</code> to match the behaviour of the JSXGraph Moodle filter. We generate that identifier automatically to allow one to have multiple plots even multiple copies of the same question on the same page without anyone having to worry about accidental identifier clashing.</p>"},{"location":"Authoring/JSXGraph/#interactive-elements","title":"Interactive elements","text":"<p>In this example define the question variables as</p> <pre><code>fx:int(expand((x-1)*(x+1)*(x-2)),x);\n</code></pre> <p>This question contains an interactive sliding element.</p> <pre><code>&lt;p&gt;A graph, together with the tangent line and its slope, are shown below.  Find an algebraic expression for the graph shown below.&lt;/p&gt;\n[[jsxgraph]]\n  // boundingbox:[left, top, right, bottom]\n  var board = JXG.JSXGraph.initBoard(divid, {boundingbox: [-5, 10, 5, -10], axis: true, showCopyright: false});\n  var f = board.jc.snippet('{#fx#}', true, 'x', true);\n  var curve = board.create('functiongraph', [f,-10,10], {strokeWidth:2});\n  var dcurve = board.create('functiongraph', [JXG.Math.Numerics.D(f),-10,10], {strokeColor:'#ff0000', strokeWidth:1, dash:2});\n  var p = board.create('glider',[1,0,curve], {name:'Drag me'});\n  board.create('tangent',[p], {name:'Drag me'});\n  var q = board.create('point', [function(){return p.X();}, function(){return JXG.Math.Numerics.D(f)(p.X());} ], {withLabel:false});\n  board.unsuspendUpdate();\n[[/jsxgraph]]\n&lt;p&gt;\\(f(x)=\\) [[input:ans1]] [[validation:ans1]]&lt;/p&gt;\n</code></pre> <p>In this example the student can interact with a dynamic diagram to help them understand what is going on.</p>"},{"location":"Authoring/JSXGraph/#an-example-with-a-slider","title":"An example with a slider","text":"<p>In this example we provide a simple slider.  Notice in this example we use the JavaScript notation <code>a**x</code> for  and not Maxima's <code>a^x</code>.</p> <pre><code>[[jsxgraph]]\n  // boundingbox:[left, top, right, bottom]\n  var board = JXG.JSXGraph.initBoard(divid, {boundingbox: [-5, 10, 5, -10], axis: true, showCopyright: false});\n  var a = board.create('slider',[[-3,6],[2,6],[0,2,6]],{name:'a'}); \n  var curve = board.create('functiongraph', [function(x) {return a.Value()**x}], {strokeWidth:2});\n  board.unsuspendUpdate();\n[[/jsxgraph]]\n</code></pre>"},{"location":"Authoring/JSXGraph/#general-considerations-when-building-interactive-graphs","title":"General considerations when building interactive graphs","text":"<p>In general you should pay attention on how your graph reacts to the student returning to the page/question later. For example, will your graph  reset to display the original situation or will it at least move all movable things to the positions the student last left them? If  the student can do things that are not actually considered as part of the answer, e.g. zoom out or pan the view, do you also remember  those actions? If your graph is not used for inputting answers then this is not a major issue but if it is then you will need to solve  this issue. Basically, storing the state of the interactive graph is a key thing that the author of that graph needs to deal with.</p> <p>The basic structure of such graph logic is as follows:</p> <ol> <li>Load existing state or if not found initialise with defaults.</li> <li>Draw the graph based on that state.</li> <li>Attach listeners to everything that can be changed in the graph and store those changes into the state in those listeners.</li> </ol> <p>The simplest solution for storing state is to add a <code>string</code> type input field to the question. </p> <ol> <li>Create and hide an input with CSS, e.g. <code>&lt;p style=\"display:none\"&gt;[[input:stateStore]] [[validation:stateStore]]&lt;/p&gt;</code> (but probably not while you develop the question!)</li> <li>Make the input a \"string\" type.</li> <li>Turn off the validation and verification of the field. </li> <li>Use the extra option <code>hideanswer</code> to make sure the teacher's answer is not shown to students.</li> <li>That input field should not be connected to any PRTs.</li> <li>You can use the syntax hint feature to pass in a default value but only if that is not parametric (currently the syntax hint is not CASText: see the todo list).</li> </ol> <p>You can use that input field to store the state of the graph as a string, for example as a JSON-encoded structure. For example, assuming the name of the String input is named <code>stateStore</code>, we can store the position of a point as follows:</p> <pre><code>[[jsxgraph input-ref-stateStore=\"stateRef\"]]\n  // Note that the input-ref-X attribute above will store the element identifier of the input X in \n  // a variable named in the attribute, you can have multiple references to multiple inputs.\n\n  // Create a normal board.\n  var board = JXG.JSXGraph.initBoard(divid, {axis: true, showCopyright: false});\n\n  // State represented as a JS-object, first define default then try loading the stored values.\n  var state = {'x':4, 'y':3};\n  var stateInput = document.getElementById(stateRef);\n  if (stateInput.value &amp;&amp; stateInput.value != '') {\n    state = JSON.parse(stateInput.value);\n  }\n\n  // Then make the graph represent the state\n  var p = board.create('point',[state['x'],state['y']]);\n\n  // And finally the most important thing, update the stored state when things change.\n  p.on('drag', function() {\n    var newState = {'x':p.X(), 'y':p.Y()};\n    // Encode the state as JSON for storage and store it\n    stateInput.value = JSON.stringify(newState);\n    // Since the STACK-JS system one needs to also remember to tell others\n    // about the changed value. Do this by dispatching an event.\n    stateInput.dispatchEvent(new Event('change'));\n  });\n\n  // As a side note, you typically do not want the state storing input to be directly visible to the user\n  // although it may be handy during development to see what happens in it. You might hide it like this:\n  stateInput.style.display = 'none';\n[[/jsxgraph]]\n</code></pre> <p>Note, in the above example in <code>[[jsxgraph input-ref-stateStore=\"stateRef\"]]</code> the <code>stateStore</code> part of this tag directly relates to, and must match, the name of the input.</p> <p>In that trivial example you only have one point that you can drag around but the position of that point will be stored and it will be where  you left it when you return to the page. However, the position has been stored in a String encoded in JSON format and cannot directly be  used in STACK-side logic. The JSON format is however very handy if you create objects to store dynamically and want to represent things  of more complex nature, but in this example we could have just as well have had two separate Numeric inputs storing just the raw 'x'  and 'y' coordinates separately as raw numbers and in that case we could have used them directly in STACK's grading logic.</p> <p>If needed, JSON is not impossible to parse in STACK, but it is not easy (as in JavaScript) because Maxima has no map  data-structures and is not object oriented. In any case, the JSON string generated in the previous example would look like this:</p> <pre><code>stateStore:\"{\\\"x\\\":4,\\\"y\\\":3}\";\n</code></pre> <p>To parse and manipulate it you can use STACK's custom JSON parsing functions:</p> <pre><code>tmp:stackjson_parse(stateStore); /* This returns a STACK-map: [\"stack_map\", [\"x\", 4], [\"y\", 3]] */\nx:stackmap_get(tmp,\"x\");         /* 4 */\ny:stackmap_get(tmp,\"y\");         /* 3 */\ntmp:stackmap_set(tmp,\"z\",x*y);   /* [\"stack_map\", [\"x\", 4], [\"y\", 3], [\"z\", 12]] */\njson:stackjson_stringify(tmp);   /* \"{\\\"x\\\":4,\\\"y\\\":3,\\\"z\\\":12}\" */\n</code></pre>"},{"location":"Authoring/JSXGraph/#convenience-tools-for-building-graphs","title":"Convenience tools for building graphs","text":"<p>The previous section covered the general case of storing the state of the graph and acting on it. Typically, you only need to handle a few points and maybe some sliders and for this task we provide ready-made functions that bind those primitive objects to STACK input fields. As these binding functions only deal with singular sliders and points they will also use simpler forms of passing around the values.</p> <p>The example in the previous section about moving the point around and storing the points position as an JSON object can be redone with the convenience functions in much simpler form. The only major differences being that the value is stored as a raw list of float values, and the input field should not be of the String type instead we can store it as Algebraic input and directly access the values, just make sure you allow float values in that input.</p> <pre><code>[[jsxgraph input-ref-stateStore=\"stateRef\"]]\n  // Create a board like normal.\n  var board = JXG.JSXGraph.initBoard(divid, {axis: true, showCopyright: false});\n\n  // Create a point, its initial position will be the default position if no state is present.\n  var p = board.create('point', [4, 3]);\n\n  // Bind it to the input and state stored in it.\n  stack_jxg.bind_point(stateRef, p);\n\n  // As a side note, you typically do not want the state storing input to be directly visible to the user\n  // although it may be handy during development to see what happens in it. You might hide it like this:\n  var stateInput = document.getElementById(stateRef);\n  stateInput.style.display = 'none';\n[[/jsxgraph]]\n</code></pre> <p>For sliders you use the function <code>stack_jxg.bind_slider(inputRef, slider)</code> and it stores the sliders value as a raw float. Sliders will however require that you call <code>board.update()</code> after binding to them, otherwise the graph may not display the stored state after reload.</p> <p>You should check the sample questions about JSXGraph binding for examples of these functions in action.</p> <p>Starting from version 4.3 there are three functions for dealing with pairs of points. Basically, if you want to represent vectors, lines or circles or anything that can be defined with just two points. <code>stack_jxg.bind_point_dual(inputRef, point1, point2)</code> will store the positions of the points into a single input as a list of lists, <code>stack_jxg.bind_point_relative(inputRef, point1, point2)</code> will also generate a list but in it the second point is represented relative to the first, and finally <code>stack_jxg.bind_point_direction(inputRef, point1, point2)</code> will provide the first point as coordinates and the second point as an angle and distance from the first.</p> <p>Starting from 4.4 there is only one new bind function <code>stack_jxg.bind_list_of(inputRef, list)</code> which takes a list of points and/or sliders and stores it into a single input. It only works if he size or order of the list does not change during page loads, however the list can change its shape for variants of the question. The primary use target for this are the vertices of polygons, but one can probably come up with something else as well, it does work as a quick and dirty way of storing the whole graph state if the graph can be defined just by points and sliders.</p> <p>There are also two new functions realted to dealing with groups of objects and matching inputs. For situations where the answer consists of multiple elements and it is possible that not all get moved one can use <code>stack_jxg.define_group(list)</code> which takes a list of points and/or sliders and makes it so that touching any one of them will trigger them all to be considered as touched and thus generates inputs. There is also <code>stack_jxg.starts_moved(object)</code> which takes a point or a slider and marks it as touched from the start, this may be of use if the graph is an optional part and the actual grading depends of other parts or if one wants to use PRT feedback as a way for describing the status of the graph and needs the objects to be transferred onto the CAS side without interaction from the student.</p>"},{"location":"Authoring/JSXGraph/#convenience-tools-for-generating-lists-of-values","title":"Convenience tools for generating lists of values.","text":"<p>If you want to output a list of values without Maxima's normal bracket symbols you can use</p> <pre><code>stack_disp_comma_separate([a,b,sin(pi)]);\n</code></pre> <p>This function turns a list into a string representation of its arguments, without braces. Internally, it applies <code>string</code> to the list of values (not TeX!).  However, you might still get things like <code>%pi</code> in the output.</p> <p>You can use this with mathematical input: <code>{@stack_disp_comma_separate([a,b,sin(pi)])@}</code> and you will get the result <code>a, b, sin(%pi/7)</code> (without the string quotes) because when a Maxima variable is a string we strip off the outside quotes and don't typeset this in maths mode.</p>"},{"location":"Authoring/JSXGraph/#discrete-mathematics-and-graph-theory","title":"Discrete mathematics and graph theory.","text":"<p>A graph can be displayed with JSXGraph, see discrete mathematics for examples.</p>"},{"location":"Authoring/Languages/","title":"Producing multilingual content","text":"<p>There are many ways for, the multilang-filter that comes with Moodle is often preferred as it is available. But people do seem to prefer multilang2 when dealign with richer content that needs to work with scripting and other syntax. As dealing with the localisation can also affect the way STACK does some special things we have added yet another way as a built-in alternative for those cases where the language needs to be passed into places that traditional Moodle-filters do not see.</p>"},{"location":"Authoring/Languages/#using-the-built-in-castext-block-in-stack","title":"Using the built-in castext block in STACK","text":"<p>In STACK 4.4 we made it simpler to mix languages in the CAS logic, for example MCQ-labels.</p> <p>The logic includes a special language-code <code>other</code> which will be used if no matching language can be found. We also support defining multiple language codes as comma separated lists. The order of languages is defined by the order they appear in the question-text. </p> <p>The block is used like this:</p> <pre><code>[[lang code='fi']]...Teksti suomeksi...[[/lang]]\n[[lang code=\"en,other\"]]...Text in English...[[/lang]]\n</code></pre> <p>It is also usable in inline CASText2:</p> <pre><code>lbls: [castext(\"[[lang code='en']]Like this {@...@}[[/lang]]...\"),...];\n</code></pre> <p>Nested language blocks will not get displayed unless they have matching codes, so you may not use <code>en</code> wrapper and <code>en_gb</code>, <code>en_us</code> within it to fine tune things. Only one code will match in the whole question so if the VLE uses <code>en_us</code> and it is found in the question at any place then that is the only code that matches.</p> <p>If you are dealing with localisation in JSXGraph or MCQ-label style situations you might want to use the new <code>lang</code>-blocks, but do note that while they do not require any additional filters to be installed they still require that the system has language-packs and the users have the ability to select the language.</p>"},{"location":"Authoring/Languages/#translating-text-in-pictures","title":"Translating text in pictures","text":"<p>The STACK built-in castext block will translate tags embedded into inline SVG images in documents.  Here is a very basic SVG example with language blocks embedded.</p> <pre><code>&lt;svg height=\"210\" width=\"500\"&gt;\n  &lt;title&gt;[[lang code='en,other']]Circles and triangles[[/lang]][[lang code='no']]Sirkler og trekanter[[/lang]]&lt;/title&gt;\n  &lt;polygon points=\"200,10 350,90 160,210\" style=\"fill:white;stroke:black;stroke-width:2\" /&gt;\n  &lt;circle cx=\"239\" cy=\"94\" r=\"55\" stroke=\"red\" stroke-width=\"1\" fill=\"white\" /&gt;\n  &lt;text x=\"200\" y=\"80\" fill=\"red\"&gt;[[lang code='en,other']]Circumference[[/lang]][[lang code='no']]Omkrets[[/lang]]&lt;/text&gt;\n&lt;/svg&gt;\n</code></pre> <p>Remember to add alternative text as the title or description for the inline SVG using the <code>&lt;title&gt;</code> and <code>&lt;desc&gt;</code> tags.  The title or description can also be translated.</p>"},{"location":"Authoring/Languages/#using-the-moodle-filter-multilang","title":"Using the Moodle filter multilang","text":"<p>STACK questions can be easily localized for different languages using the multi-language content filter. http://docs.moodle.org/en/Multi-language_content_filter.  That is to say, a single question can exist in multiple languages and the user can choose the language they use.</p> <p>This page deals with translating text within individual questions. It does not deal with translating the Moodle and STACK interface. See the page on Language packs and translating STACK.</p>"},{"location":"Authoring/Languages/#installation-of-the-moodle-multilang-filter","title":"Installation of the Moodle multilang filter","text":"<ol> <li>Your site administrator must enable the Moodle multi-language content filter.</li> <li>The multi-language content filter must be applied before the MathJax filter, otherwise strange results will occur.</li> </ol>"},{"location":"Authoring/Languages/#authoring-questions","title":"Authoring questions","text":"<p>The filter works by searching the document for all multilang blocks and displaying the block that matches the selected language.</p> <pre><code>&lt;span lang=\"en\" class=\"multilang\"&gt;...Text in English...&lt;/span&gt;\n&lt;span lang=\"fi\" class=\"multilang\"&gt;...Text in Finnish...&lt;/span&gt;\n</code></pre> <p>If no block matching the user's language can be found, the block encountered first is displayed. In the above example the English block would be displayed if the user's language was not either English or Finnish. The English block should be the first block in the documents in order for it to be the default language in case no matching language can be found.</p> <p>When translating STACK assignments into different languages, it should be noted that the question text field may not contain multiple instances of input or validation fields of the same name. This means that the input and validations fields must be placed outside multilang blocks in order for them to be visible in all the available languages. The following example will illustrate this.</p> <p>STACK would not accept the following question text:</p> <pre><code>&lt;span lang=\"en\" class=\"multilang\"&gt;\n   &lt;p&gt;\n      Let \\( {\\bf a} = ({@a@}, {@b@}) \\). Find a vector \\({\\bf b}\\neq {\\bf 0}\\) such that it is perpendicular to \\(\\mathbf{a}\\)\n   &lt;/p&gt;\n   &lt;p&gt;\n      \\({\\bf b} = \\Big(\\)[[input:ans1]]\\(,\\) [[input:ans2]]\\(\\Big)\\)\n   &lt;/p&gt;\n   &lt;div&gt;\n      [[validation:ans1]]\n   &lt;/div&gt;\n   &lt;div&gt;\n      [[validation:ans2]]\n   &lt;/div&gt;\n&lt;/span&gt;\n\n&lt;span lang=\"fi\" class=\"multilang\"&gt;\n   &lt;p&gt;\n      Olkoon vektori \\( {\\bf a} = ({@a@}, {@b@}) \\). Anna vektori \\({\\bf b}\\neq {\\bf 0}\\) siten, ett\u00e4 vektorit ovat kohtisuorassa toisiaan vastaan.\n   &lt;/p&gt;\n   &lt;p&gt;\n      \\({\\bf b} = \\Big(\\)[[input:ans1]]\\(,\\) [[input:ans2]]\\(\\Big)\\)\n   &lt;/p&gt;\n   &lt;div&gt;\n      [[validation:ans1]]\n   &lt;/div&gt;\n   &lt;div&gt;\n      [[validation:ans2]]\n   &lt;/div&gt;\n&lt;/span&gt;\n</code></pre> <p>But this question text causes no issues:</p> <pre><code>&lt;span lang=\"en\" class=\"multilang\"&gt;\n   &lt;p&gt;\n      Let \\( {\\bf a} = ({@a@}, {@b@}) \\). Find a vector \\({\\bf b}\\neq {\\bf 0}\\) such that it is perpendicular to \\(\\mathbf{a}\\)\n   &lt;/p&gt;\n&lt;/span&gt;\n&lt;span lang=\"fi\" class=\"multilang\"&gt;\n   &lt;p&gt;\n      Olkoon vektori \\( {\\bf a} = ({@a@}, {@b@}) \\). Anna vektori \\({\\bf b}\\neq {\\bf 0}\\) siten, ett\u00e4 vektorit ovat kohtisuorassa toisiaan vastaan.\n   &lt;/p&gt;\n&lt;/span&gt;\n\n&lt;p&gt;\n   \\({\\bf b} = \\Big(\\)[[input:ans1]]\\(,\\) [[input:ans2]]\\(\\Big)\\)\n&lt;/p&gt;\n&lt;div&gt;[[validation:ans1]]&lt;/div&gt;\n&lt;div&gt;[[validation:ans2]]&lt;/div&gt;\n</code></pre>"},{"location":"Authoring/Languages/#changing-stacks-language","title":"Changing STACK's language","text":"<p>If you have written a multilingual question, and a student wants to see it in a certain language, they have to change their preferred language. In Moodle, this is done by clicking on their profile, and then going to <code>Preferences</code>, <code>Preferred language</code> and selecting the language. This will not only change the language of all question text (where multilingual blocks have been used), but also the language of the default Moodle and STACK interface (if this translation is available). The specific language pack has to be installed on your server by the server administrator to allow this. More information is available in the developer docs under Translating STACK.</p>"},{"location":"Authoring/Languages/#further-reading","title":"Further reading","text":"<p>The STACK project has been translated to many languages. Information on specific languages, installing language packs and how to contribute to translations can be found here.</p>"},{"location":"Authoring/Multiple_choice_questions/","title":"Multiple choice questions","text":"<p>The whole point of STACK is not to use multiple-choice questions, but instead to have the student enter an algebraic expression!  That said there are occasions where it is very useful, if not necessary, to use multiple-choice questions in their various forms.  STACK's use of a CAS is then very helpful to generate random variants of multiple-choice questions based on the mathematical values.</p> <p>This can also be one input in a multi-part randomly generated question. E.g. you might say \"which method do you need to integrate ?\" and give students the choice of (i) trig functions first,  (ii) parts, (iii) substitution, (iv) replace with complex exponentials.  (Yes, this is a joke: all these methods can be made to work here!)  Another algebraic input can then be used for the answer.</p> <p>Please read the section on inputs first.  If you are new to STACK please note that in STACK MCQs are not the place to start learning how to author questions.  Please look at the authoring quick-start guide.</p> <p>Multiple choice input types return a CAS object which is then assessed by the potential response tree.  For this reason, these inputs do not provide \"feedback\" fields for each possible answer, as does the Moodle multiple choice input type.</p> <ul> <li>Checkbox inputs return a list of the CAS objects selected;</li> <li>Dropdown inputs and radio inputs return a single expression, which is the CAS object selected.</li> </ul> <p>The goal of these input types is to provide modest facilities for MCQ.  An early design decision was to restrict each of the possible answers to be a CAS expression.  In particular, we decided NOT to make each possible answer CASText.  Adopting CASText would have provided more flexibility but would have significantly increased the complexity of the internal code. If these features are extensively used we will consider a different input type.</p>"},{"location":"Authoring/Multiple_choice_questions/#model-answer","title":"Model answer","text":"<p>This input type uses the \"model answer\" both to input the teacher's answer and the other options.  In this respect, this input type is unique, and the \"model answer\" field does not contain just the teacher's model answer.  Constructing a correctly formed model answer is complex, and so this input type should be considered \"advanced\".  New users are advised to gain confidence writing questions with algebraic inputs first, and gain experience in using Maxima lists.</p> <p>The \"model answer\" must be supplied in a particular form as a list of lists <code>[[value, correct(, display)], ... ]</code>.</p> <ul> <li><code>value</code> is the value of the teacher's answer.</li> <li><code>correct</code> must be either <code>true</code> or <code>false</code>.  If it is not <code>true</code> then it will be considered to be <code>false</code>!</li> <li>(optional) <code>display</code> is another CAS expression to be displayed in place of <code>value</code>.  This can be a string value here, but it will be passed through the CAS if you choose the LaTeX display option below.  <code>display</code> is only used in constructing the question.  STACK will take <code>value</code> as the student's answer internally, regardless of what is set here.</li> </ul> <p>For example</p> <pre><code> ta:[[diff(p,x),true],[p,false],[int(p,x),false]]\n</code></pre> <p>At least one of the choices must be considered <code>correct</code>.  However, the <code>true</code> and <code>false</code> values are only used to construct the \"teacher's correct answer\".   You must still use a potential response tree to assess the student's answer as normal.</p> <p>STACK provides some helper functions</p> <ol> <li><code>mcq_correct(ta)</code> takes the \"model answer\" list and returns a list of values for which <code>correct</code> is true.</li> <li><code>mcq_incorrect(ta)</code> takes the \"model answer\" list and returns a list of values for which <code>correct</code> is false.</li> </ol> <p>Note, that the optional <code>display</code> field is only used when constructing the choices seen by the student when displaying the question.  The student's answer will be the <code>value</code>, and this value is normally displayed to the student using the validation feedback, i.e. \"Your last answer was interpreted as...\". A fundamental design principal of STACK is that the student's answer should be a mathematical expression, and this input type is no exception.  </p> <p>In situations where there is a significant difference between the optional <code>display</code> and the <code>value</code> which would be confusing, the only current option is to turn off validation feedback.  After all, this should not be needed anyway with this input type.  In the example above when a student is asked to choose the right method the <code>value</code> could be an integer and the display is some kind of string.  </p> <p>An example which includes the <code>display</code> option is</p> <pre><code>tacp:[[A, false, \"A. Direct proof\"],  [B, false, \"B. Definition-chasing\"], [C, false, \"C. If and only if\"], [D, false, \"D. Exhaustive cases\"], [E, false, \"E. Induction\"], [F, false, \"F. Contrapositive\"], [G, true, \"G. Contradiction\"]];\n</code></pre> <p>Note in this example the <code>value</code> of the student's answer will be a letter which is literally a Maxima variable name.  In this situation you can't really randomize the letters used easily.  (Not impossible with some cunning code, but a lot of work....)</p> <p>If you choose to use an integer, and randomly suffle the answers then the validation feedback would be confusing, since an integer (which might be shuffled) has no correspondence to the choices selected.  This behaviour is a design decision and not a bug! It may change in the future if there is sufficient demand, but it requires a significant change in STACK's internals to have parallel \"real answer\" and \"indicated answer\". Such a change might have other unintended and confusing consequences.</p> <p>Normally we don't permit duplicate values in the values of the teacher's answer.  If the input type receives duplicate values STACK will throw an error.  This probably arises from poor randomization.  However it may be needed.  If duplicate entries are permitted use the display option to create unique value keys with the same display. This behaviour is a design decision may change in the future.</p> <p>When STACK displays the \"teacher's answer\", e.g. after a quiz is due, this will be constructed from the <code>display</code> fields corresponding to those elements for which <code>correct</code> is <code>true</code>.  I.e. the \"teacher's answer\" will be a list of things which the student could actually select.  Whether the student is able to select more than one, or if more than one is actually included, is not checked.  The teacher must indicate at least one choice as <code>true</code>.  </p> <p>If you need \"none of these\" you must include this as an explicit option, and not rely on the student not checking any boxes in the checkbox type.  Indeed, it would be impossible to distinguish the active selection of \"none of these\" from a passive failure to respond to the question.</p> <p>If one of the responses is  then it is probably best to use <code>nounor</code> which is commutative and associative.  Do not use <code>or</code> which always simplifies its arguments.  In this example <code>x=1 or x=2</code> evaluates to <code>false</code>.</p> <p>HTML dropdowns cannot display LaTeX within the options.  This is a restriction of HTML/MathJax (not of STACK).  You can use HTML-entities within a string field.  For example </p> <pre><code>ta1:[[0,false,\"n/a\"],[1,true,\"&amp;ge;\"],[2,false,\"&amp;le;\"],[3,false,\"=\"],[4,false,\"?\"]];\n</code></pre> <p>Note here that an integer will returned internally.</p> <p>Similarly, you can include logical symbols. For example</p> <pre><code>ta1:[[0, false, \"&amp;#8658;\"], [1, true, \"&amp;#8656;\"], [2, false, \"&amp;#8660;\"]];\n</code></pre> <p>will give a choice, e.g. a dropdown, from \u21d2, \u21d0 and \u21d4 and an integer will returned internally.</p> <pre><code>ta1:[[0, false, \"&amp;#8704;\"], [1, true, \"&amp;#8707;\"]];\n</code></pre> <p>will give a choice, e.g. a dropdown, from \u2200 and \u2203.</p> <pre><code>ta1:[[0, true, \"c &amp;#8712;\"], [1, false, \"c &amp;#8713;\"]];\n</code></pre> <p>will give a choice, e.g. a dropdown, from \"c \u2208\" and \"c \u2209\".</p> <pre><code>ta1:[[N, false, \"&amp;#8469;\"], [Z, true, \"&amp;#8484;\"], [Q, false, \"&amp;#8474;\"], [R, false, \"&amp;#8477;\"], [C, false, \"&amp;#8450;\"]];\n</code></pre> <p>will give a choice between sets of numbers \u2115, \u2124, \u211a, \u211d, and \u2102.</p>"},{"location":"Authoring/Multiple_choice_questions/#example-degree-of-a-polynomial","title":"Example: degree of a polynomial","text":"<p>Here is an example where the teacher would like the student to state the degree of a polynomial using the adjectives, rather than a number.</p> <pre><code>pol:sum(rand_with_prohib(-9,9,[0])*x^k,k,0,1+rand(5));\ndeg:hipow(pol,x);\n/* Use strings, and not keywords. */\nl1:[\"constant\", \"linear\", \"quadratic\", \"cubic\", \"quartic\", \"quintic\"];\n/* Create a matching list of true/false values as to whether each option is correct. */\na1:maplist(lambda([ex], is(ex=deg)), makelist(k,k,0,length(l1)));\n/* Basic answer list for MCQ in the correct format. This returns the string to the PRT. */\nta1:zip_with(\"[\",l1,a1);\n/* Since lists index at one, you need this for the correct answer! */\ntac:l1[deg+1];\n/* Returns the degree as the student's answer, not the word. */\nta2:maplist(flatten, zip_with(\"[\",makelist(k,k,0,length(l1)), zip_with(\"[\",a1,l1)));\n/* Feedback can turn this into a word using indexing, e.g. l1[ans1+1] in the PRT. */\n</code></pre> <p>Either <code>ta1</code> or <code>ta2</code> can be used with the MCQ inputs, in this case dropdown probably makes most sense and checkbox least sense!  With the <code>ta2</code> option you probably want to hide the validation feedback.</p>"},{"location":"Authoring/Multiple_choice_questions/#internals","title":"Internals","text":"<p>The dropdown and radio inputs return the <code>value</code>, but the checkbox type returns the student's answer as Maxima <code>list</code>, even if they have only chosen one option.</p> <p>The function <code>mcq_correct</code> returns a list, so for dropdown and radio you might need to take the <code>first</code> element when using this function to extract values from the list of teacher's answers.</p> <p>If, when authoring a question, you switch from radio/dropdown to checkboxes or back, you will probably break a PRT because of mismatched types.</p> <p>For the select and radio types the first option on the list will always be \"Not answered\".  This enables a student to retract an answer and return a \"blank\" response.</p> <p>For the checkbox type there is a fundamental ambiguity between a blank response and actively not selecting any of the provided choices, which indicates \"none of the others\".  Internally STACK has a number of \"states\" for a student's answer, including <code>blank</code>, <code>valid</code>, <code>invalid</code>, <code>score</code> etc.  A student who has not answered will be considered <code>blank</code>, which is different from invalid.  Potential response trees which rely on this input type will not activate until the state is <code>score</code>.</p> <p>To enable a student to indicate \"none of the others\", the teacher must add this as an explicit option in all MCQ types.  If you add an option \"none of the others\" then it will return the <code>value</code> of that selection: you could give this the value of <code>null</code>, for example, which is a Maxima atom.  We did not add support for a special internal \"none of the others\" because the teacher still needs to indicate whether this is the true or false answer to the question.  To support randomisation, this needs to be done as an option in the teacher's answer list.</p> <p>The radio and dropdown types always add a \"not answered\" option as the first option.  This allows a student to retract their choice, otherwise they will be unable to \"uncheck\" a radio button, which will be stored, validated and possibly assessed (to their potential detriment).  If you want to remove this then use the extra option <code>nonotanswered</code>, but keep in mind the possible effect when using the penalty scheme.</p> <p>If one of the items in the teacher's answer list is is the special variable name <code>notanswered</code>, and then default mesage <code>(No answer given)</code> will be replaced by the <code>display</code> value.  If no <code>display</code> value is given (and it is optional) then the original message will remain.  <code>notanswered</code> will not appear in the list of valid choices for a user and <code>value</code> for this input is ingored.</p>"},{"location":"Authoring/Multiple_choice_questions/#extra-options","title":"Extra options","text":"<p>These input types make use of the \"Extra options\" field of the input type to pass in options.  These options are not case sensitive. This must be a comma-separated list of values as follows, but currently the only option is to control the display of mathematical expressions.</p> <p>The way the items are displayed can be controlled by the following options.</p> <ul> <li><code>LaTeX</code> The default option is to use LaTeX to display the options, using an inline maths environment <code>\\(...\\)</code>.  This is probably better for radio and checkboxes.  It sometimes works in dropdowns, but not always and we need to test this in a wider variety of browsers.</li> <li><code>LaTeXdisplay</code> use LaTeX to display the options, using the display maths environment <code>\\[...\\]</code>.</li> <li><code>LaTeXinline</code> use LaTeX to display the options, using the inline maths environment <code>\\(...\\)</code>.</li> <li><code>LaTeXdisplaystyle</code> use LaTeX to display the options, using the inline maths environment and the displaystyle option <code>\\(\\displaystyle...\\)</code>.</li> <li><code>casstring</code> does not use the LaTeX value, but just prints the casstring value in <code>&lt;code&gt;...&lt;/code&gt;</code> tags.</li> <li><code>nonotanswered</code> removes the ``Not answered'' option from radio and dropdown.  This is not recommended as it means a student has no opportunity to \"uncheck\" a radio button once selected.  They may wish not to answer, rather than save an incorrect answer.</li> </ul>"},{"location":"Authoring/Multiple_choice_questions/#randomly-shuffling-the-options","title":"Randomly shuffling the options","text":"<p>To randomly shuffle the options create the list in the question variables and use the Maxima command <code>random_permutation</code> in the question variables.</p> <p>For example, the question variables might look like the following.</p> <pre><code>/* Create a list of potential answers. */\np:sin(2*x);\nta:[[diff(p,x),true],[p,false],[int(p,x),false],[cos(2*x)+c,false]];\n/* The actual correct answer.    */\ntac:diff(p,x)\n/* Randomly shuffle the list \"ta\". */\nta:random_permutation(ta);\n/* Add in a \"None of these\" to the end of the list.  The Maxima value is the atom null. */\ntao:[null, false, \"None of these\"];\nta:append(ta,[tao]);\n</code></pre> <p>These commands ensure (1) the substantive options are in a random order, and (2) that the <code>None of these</code> always comes at the end of the list.  Note, the value for the <code>None of these</code> is the CAS atom <code>null</code>. In Maxima <code>null</code> has no special significance but it is a useful atom to use in this situation.</p> <p>As the Question Note, you might like to consider just taking the first item from each list, for example:</p> <pre><code>{@maplist(first,ta)@}.  The correct answer is {@tac@}.\n</code></pre> <p>This note stores both the correct answer and the order shown to the student without the clutter of the <code>true/false</code> values or the optional display strings. Remember, random variants of a question are considered to be the same if and only if the question note is the same, so the random order must be part of the question note if you shuffle the options.</p>"},{"location":"Authoring/Multiple_choice_questions/#constructing-mcq-arrays-in-maxima","title":"Constructing MCQ arrays in Maxima","text":"<p>It is not easy to construct MCQ arrays in Maxima.  This section contains some tips for creating them, using Maxima's <code>lambda</code> command. Below is an example of a correctly constructed teacher's answer.</p> <pre><code>ta:[[x^2-1,true],[x^2+1,false],[(x-1)*(x+1),true],[(x-i)*(x+i),false]]\n</code></pre> <p>To create a list of correct answers you could use the function <code>mcq_correct(ta)</code>.  This essentially consists of the following code.</p> <pre><code>maplist(first, sublist(ta, lambda([ex], second(ex))));\n</code></pre> <p>The function <code>sublist</code> \"filters\" out those entries of <code>ta</code> for which the second element of the list is true. We then \"map\" first onto these entries to pull out the value. It is relatively simple to modify this code to extract the incorrect entries, the displayed forms of the correct entries etc.</p> <p>To go in the other direction, the first list <code>ta1</code> is considered \"correct\" and the second <code>ta2</code> is considered incorrect.</p> <pre><code>ta1:[x^2-1,(x-1)*(x+1)];\nta1:maplist(lambda([ex],[ex, true]), ta1);\nta2:[x^2+1,(x-i)*(x+i)];\nta2:maplist(lambda([ex],[ex, false]), ta2);\nta:append(ta1,ta2);\n/* If you want to shuffle the responses then use the next line. */\nta:random_permutation(ta);\n</code></pre> <p>Also, you can use STACK's <code>rand_selection(L, n)</code> to select  different elements from the list . Say you have the following list of wrong answers and you want to take only 3 out of 5.</p> <pre><code>ta2:[x^2,w^2,w^6,z^4,2*z^4];\nta2:rand_selection(ta2, 3);\n/* Then, as before. */\nta2:maplist(lambda([ex],[ex, false]), ta2);\n</code></pre> <p>Another way to create an MCQ answer list is to have Maxima decide which of the answers are true. For example, in this question the student has to choose which of the answers are integers.</p> <pre><code>L:[1,4/2,3.0,2.7,1/4,%pi,10028];\n/* Map the appropriate predicate to the list to create the true/false list. */\nA:maplist(integerp,L);\n/* Note the use of zip_with together with the list constructing function \"[\". */\nta:zip_with(\"[\",L,A);\n/* If you want to shuffle the responses then use the next line. */\nta:random_permutation(ta);\n</code></pre>"},{"location":"Authoring/Multiple_choice_questions/#mcq-helper-functions","title":"MCQ helper functions","text":"<p>STACK has helper functions to create MCQ arrays in Maxima.</p> <pre><code>[ta, variant] = multiselqn(corbase, numcor, wrongbase, numwrong)\n</code></pre> <p>This function takes two lists <code>corbase</code> and <code>wrongbase</code> and two integers <code>numcor</code> and <code>numwrong</code>. It randomly selects <code>numcor</code> from <code>corbase</code>, and <code>numwrong</code> from <code>wrongbase</code> and then creates the MCQ list <code>ta</code> with these selections,  and an answernote <code>variant</code>.</p> <p>The function returns a list with two arguments. The first argument of the list is the MCQ array, the second is just the list of answers which is useful for the answer note. Note, this function does use <code>random_permutation</code> internally to randomly order the random selections.</p> <p>For example, the following generates random expressions for an MCQ calculus question.  Note the use of <code>ev(...)</code> later to evaluate the derivative.</p> <pre><code>trg:rand([sin(p), cos(p)]);\ndtrg:diff(trg, p);\nwrongbase:[a*trg, 2*a*x*trg, -2*a*x*trg, ev(dtrg, p=2*a*x), 2*a*x*ev(dtrg, p=2*a*x)];\np:a*x^2+b;\nwrongbase:ev(wrongbase); /* Now we have a value for p, the extra evaluation will use it. */\nans:diff(ev(trg), x);\nmultisel:multiselqn([ans], 1, wrongbase, 3);\nta:multisel[1];\nvariant:multisel[2];\n</code></pre> <p>In the above example there is only one correct answer, so we just select <code>1</code> from <code>[ans]</code>. This is fine, and we then choose three randomly generated wrong answers.</p> <p>This returns (for example) the values</p> <pre><code>ta = [[-2*a*x*cos(a*x^2+b),false],[-sin(2*a*x),false],[a*cos(a*x^2+b),false],[-2*a*x*sin(a*x^2+b),true]];\nvariant = [-2*a*x*cos(a*x^2+b),-sin(2*a*x),a*cos(a*x^2+b),-2*a*x*sin(a*x^2+b)];\n</code></pre> <p>The following function does a similar job when we have MCQ display strings.</p> <pre><code>[ta, variant] = multiselqndisplay(corbase, numcor, wrongbase, numwrong)\n</code></pre> <p>For example, here the return values could be</p> <pre><code>ta = [[3,false,2*a*x*sin(a*x^2+b)],[2,false,a*sin(a*x^2+b)],[5,false,cos(2*a*x)],[1,true,2*a*x*cos(a*x^2+b)]]\nvariant = [3,2,5,1]\n</code></pre> <p>The function <code>multiselqndisplay</code> automatically assigns numbers  to the <code>corbase</code> entries, and then  to the <code>wrongbase</code> entries so that the numbers returned by the input type uniquely map to the entries in the two lists regardless of which random variant is generated.  These numbers are useful internally, but not for students.</p> <p>The function <code>multiselqnalpha</code> automatically selects the appropriate number of correct and incorrect entries, permutes the list and then assigns strings <code>\"(a)\"</code>, <code>\"(b)\"</code>, <code>\"(c)\"</code> etc. in the correct order. The student's answer will thus be a list of strings (somewhat subverting the whole purpose of STACK in returning a genuine mathematical expression, but this has its place...).  </p> <pre><code>[ta, variant] = multiselqnalpha(corbase, numcor, wrongbase, numwrong, [dispstyle])\n</code></pre> <p>For example, here the return values (with inline maths) could be</p> <pre><code>ta = [[\"(a)\",false,\"&lt;b&gt;(a)&lt;/b&gt; \\\\(-2\\\\,a\\\\,x\\\\,\\\\sin \\\\left( a\\\\,x^2+b \\\\right)\\\\)\"],[\"(b)\",true,\"&lt;b&gt;(b)&lt;/b&gt; \\\\(2\\\\,a\\\\,x\\\\,\\\\cos \\\\left( a\\\\,x^2+b \\\\right)\\\\)\"],[\"(c)\",false,\"&lt;b&gt;(c)&lt;/b&gt; \\\\(\\\\cos \\\\left( 2\\\\,a\\\\,x \\\\right)\\\\)\"],[\"(d)\",false,\"&lt;b&gt;(d)&lt;/b&gt; \\\\(2\\\\,a\\\\,x\\\\,\\\\cos \\\\left( 2\\\\,a\\\\,x \\\\right)\\\\)\"]]\nvariant = [-2*a*x*sin(a*x^2+b),2*a*x*cos(a*x^2+b),cos(2*a*x),2*a*x*cos(2*a*x)]\n</code></pre> <p>Notes</p> <ol> <li>The fifth optional argument to <code>multiselqnalpha</code> controls the display style of the LaTeX.  Use <code>\"i\"</code> (a string containing <code>i</code>) for inline, <code>\"d\"</code> for displayed and <code>\"id\"</code> for inline \"displaystyle\" (which is the default).</li> <li>Note that the \"student's\" answer will now be a string such as <code>\"(a)\"</code>.  When you construct the PRT you will not need to check against these strings, not the original CAS expressions.</li> <li>The <code>variant</code> retains the CAS statements, in order.</li> <li>Do not use <code>multiselqnalpha</code> in conjunction with the <code>shuffle</code> option.  There is no need as the selection are permuted, and it messes up the order of the choices for the student. </li> </ol>"},{"location":"Authoring/Multiple_choice_questions/#dealing-with-strings-in-mcq","title":"Dealing with strings in MCQ","text":"<p>A likely situation is that a teacher wants to include a language string as one of the options for a student's answer in a multiple-choice question.</p> <p>Recall: A fundamental design principal of STACK is that the student's answer should be a mathematical expression which can be manipulated by the CAS as a valid expression. Students are very limited in the keywords they are permitted to use in an input type. It is very likely that strings will contain keywords forbidden in student expressions.</p> <p>One option to overcome this is to do something like this as one option in the teacher's response:</p> <pre><code>[C, false, \"(C) None of the other options\"]\n</code></pre> <p>The optional display part of this input is displayed to the student.  Their answer is the (valid) CAS atom <code>C</code> which the PRT will deal with appropriately.</p> <p>To construct appropriate arrays use the <code>multiselqnalpha</code> function.</p> <p>The quotation marks will be removed from strings, and the strings will not be wrapped <code>&lt;code&gt;...&lt;/code&gt;</code> tags or LaTeX mathematics environments.</p> <p>Question authors should consider using the Moodle MCQ question type in addition to these facilities for purely text-based answers.</p> <p>You must protect characters within strings.  E.g. in</p> <pre><code>[A, true, \"A. There exists \\\\(M\\\\) such that \\\\( |a_n| &amp;lt; M \\\\).\"]\n</code></pre> <p>We have protected the backslash, and the inequality.</p> <p>The language strings are not CAStext, they are simply raw strings.  It is possible to construct strings which inlcude variable values using the <code>stack_disp</code> function.</p> <pre><code>[oc(-inf,a), false, sconcat(\"The half interval: \", stack_disp(oc(-inf,a),\"i\"))]\n</code></pre> <p>The argument <code>\"i\"</code> here displays the expression \"inline\", other options are <code>\"\"</code> (you are responsible for maths environments), <code>\"d\"</code> (displayed), and <code>\"di\"</code> (inline but using displaystyle).  If you construct strings in this way the display of any equations will not respect the display options in the particular input since variables are typically defined in the question variables and the input options are not available at that point in the code base.</p>"},{"location":"Authoring/Multiple_choice_questions/#inline-castext-as-mcq-labels-castextlabels","title":"Inline CASText as MCQ labels ## {#castextlabels}","text":"<p>Since 4.4 it has been possible to write more complex labels using inline CASText. Inline CASText is basically a static string value wrapped in special function call and how one would use it is as follows:</p> <pre><code>/* The old way of constructing a string: */\n[oc(-inf,a), false, sconcat(\"The half interval: \", stack_disp(oc(-inf,a),\"i\"))]\n/* Same using a inline CASText */\n[oc(-inf,a), false, castext(\"The half interval: {@oc(-inf,a)@}\")]\n</code></pre> <p>You may write normal CASText syntax inside that string and it should behave exactly like it does in question-text or PRT feedback etc.. The only limitation at this time is that the list that includes these labels must be defined in the question-variables, you may not write inline CASText directly to the model answer field of the input. The <code>castext()</code>-function is not a real CAS-function it is converted to more complex logic at compile time and therefore it must receive a static string as its argument.</p> <p>The most obvious use case for inline CASText is to provide localisation inside MCQ labels in situatiosn where the mlang2-filter is not an option:</p> <pre><code>[true, true, castext(\"[[lang code='en']]Yes[[/lang]][[lang code='fi']]Kyll\u00e4[[/lang]]\")]\n</code></pre>"},{"location":"Authoring/Multiple_choice_questions/#dealing-with-plots-in-mcq","title":"Dealing with plots in MCQ","text":"<p>It is possible to use plots as the options in a STACK MCQ.  </p> <p>Recall again the MCQ are limited to legitimate CAS objects. The <code>plot</code> command returns a string which is the URL of the dynamically generated image on the server. The \"value\" of this can't be assessed by the potential response trees. For this reason you must use the display option with plots and must only put the plot command in the display option. (Otherwise STACK will throw an error: this behaviour could be improved). For example, to create a correct answer consisting of three plots consider the following in the question variables.</p> <pre><code>p1:plot(x,[x,-2,2],[y,-3,3])\np2:plot(x^2,[x,-2,2],[y,-3,3])\np3:plot(x^3,[x,-2,2],[y,-3,3])\nta:[[1,true,p1],[2,false,p2],[3,false,p3]]\n</code></pre> <p>The actual CAS value of the answer returned will be the respective integer selected (radio or dropdown) or list of integers (checkbox). The PRT can then be used to check the value of the integer (or list) as normal.  </p> <p>For this reason you will probably want to switch off the validation feedback ``your last answer was...\".  </p> <p>Using a PRT is slight overkill, but it maintains the consistent internal design.</p>"},{"location":"Authoring/Multiple_choice_questions/#dealing-with-external-images-in-mcq","title":"Dealing with external images in MCQ","text":"<p>It is also possible to embed the URL of an externally hosted image as the \"display\" field of an MCQ. The string is not checked, and is also passed through the CAS. This feature is fragile to being rejected as an invalid CAS object, and so is not recommended.  (This could also be improved...)</p> <p>For example, the question variables could be something like</p> <pre><code>i1:\"&lt;img src='http://www.maths.ed.ac.uk/~csangwin/Pics/z1.jpg' /&gt;\"\ni2:\"&lt;img src='http://www.maths.ed.ac.uk/~csangwin/Pics/z2.jpg' /&gt;\"\ni3:\"&lt;img src='http://www.maths.ed.ac.uk/~csangwin/Pics/z3.jpg' /&gt;\"\nta:[[1,true,i1],[2,false,i2],[3,false,i3]]\n</code></pre>"},{"location":"Authoring/Multiple_choice_questions/#writing-question-tests","title":"Writing question tests","text":"<p>Quality control of questions is important.  See the notes on testing questions.  </p> <p>When entering test cases the question author must type in the CAS expression they expect to be the <code>value</code> of the student's answer (NOT the optional <code>display</code> field!).  For example, if the teacher's answer (to a checkbox) question is the following.</p> <pre><code> ta:[[x^2-1,true],[x^2+1,false],[(x-1)*(x+1),true],[(x-i)*(x+i),false]]\n</code></pre> <p>Then the following test case contains all the \"true\" answers.</p> <pre><code> [x^2-1,(x-1)*(x+1)]\n</code></pre> <p>There is currently minimal checking that the string entered by the teacher corresponds to a valid choice in the input type.  If your test case returns a blank result this is probably the problem.     </p>"},{"location":"Authoring/Notes_about_performance/","title":"Notes about performance","text":"<p>Authoring style may affect the performance of the questions\u2014the technical performance in the form of response times and bandwidth usage. Of course, one could say many things about the pedagogical performance of questions, but that is something that this document skips.</p> <p>Some things have changed in 4.4, but most of this applies to all STACK materials.</p> <p>The further down you read this, the less likely it is to apply to normal usage.</p> <p>When we are talking about affecting the performance, in most cases, the effects are linear; adding more inputs means that we need to process more inputs, and the time used grows accordingly. The bits that matter are the non-linear ones, e.g. unknown execution lengths or filling the buffers with unused data might simply push things over some limit and increase the processing time unexpectedly.</p>"},{"location":"Authoring/Notes_about_performance/#deployed-variants-are-good","title":"Deployed variants are good!","text":"<p>While not everyone uses them and not everyone needs to use them, they do improve performance and allow caching to work. They also allow one to visually inspect the randomised parameters and thus help detect wildly differing difficulty levels.</p> <p>If you are running on a truly large scale or if your servers cannot keep up, always look at deployed variants first.</p> <p>Just make your question notes informative, the prefered way is to show the question and the answer for this particular variant in short form; a simple parameter list may help, but it is often less than helpful.</p>"},{"location":"Authoring/Notes_about_performance/#randomisation-loops-are-really-bad","title":"Randomisation loops are really bad!","text":"<p>If you need to randomise something and then select only the ones that match certain conditions, you will need to know that the loop will be repeated every time the question receives input, often more than once.</p> <p>So don't write anything like this:</p> <pre><code>foo: rand(.....);\nwhile not is_good(foo) do foo: rand(.....);\n</code></pre> <p>Not only is there a risk that some seed of the random number generator never leads to parameters that end up being \"good\", but that can also lead to wildly varying execution times and even timeouts. </p> <p>If you cannot write code that directly randomises a \"good\" result, you should use deployed variants and question-tests to pre-randomise and select only the cases where the randomisation is \"good\", the key is to use question-tests as the filter here.</p>"},{"location":"Authoring/Notes_about_performance/#big-strings-or-things-you-might-not-want-to-place-in-question-variables","title":"Big strings or things you might not want to place in question-variables.","text":"<p>In the STACK question model, it is assumed that whatever is in the question-variables or in any other code/logic block is data and needs to be fully transferred into the CAS during all processing steps of the question; conversely, whatever is present in the question-text or other text content is assumed to be safe and not \"data\". We do special sidelining of such safe \"not data\" and don't send it all the way to CAS if we can avoid it, and it still rejoins the output once necessary.</p> <p>This means that if you place big strings on the logic side without actually using them there, you are probably wasting resources. If that text is intended as something to be outputted in the text itself then one should look at putting it into the text itself, maybe using CASText features that allow conditional inclusion if need be.</p> <p>Typically one can end up in this type of situation if one converts materials from other systems and chooses to build their output on the logic side. Sometimes people do image inclusions, either SVG or base64 style content and end up slowing their systems if they add too many of them.</p> <p>The issue is not only about the transfer of large strings or other content taking bandwith, cache space, and parsing resources but also about transferring things not needed. Those question variables are always included in the evaluation session even when that session would not actually render question-text e.g. when doing input-validation.</p>"},{"location":"Authoring/Notes_about_performance/#number-of-inputs-directly-affects-performance","title":"Number of inputs directly affects performance.","text":"<p>Currently (pre input2), the number of inputs in a question affects the number of CAS sessions needed for the evaluation and validation of answers. In general, you will have to live with it, but if you happen to do extensive scripting on the client-side, you might want to know that it is only the number of inputs in the question model that matters, not the number of things you place into those inputs. So if you are pushing the limits, maybe map multiple client-side inputs into a few hidden actual inputs.</p>"},{"location":"Authoring/Notes_about_performance/#number-of-prts-affected-the-performance","title":"Number of PRTs affected the performance.","text":"<p>If you have large numbers of PRTs and are not running 4.4 or later, you might gain significant performance boosts if you update to 4.4. In the earlier versions, every PRT was evaluated separately in their own CAS session, but now they get handled in a single session. Every new session always incurs a performance overhead, so joining them does give us some benefits.</p>"},{"location":"Authoring/Numerical_input/","title":"Numerical input","text":"<p>This is documentation for the numerical input type.</p> <p>This input type requires the student to type in a number of some kind.  Any expression with a variable will be rejected as invalid.</p> <p>While variable names are forbidden, by default function names are not forbidden.  <code>sin(pi/2)</code> represents a number.  If you actually want the student to type in <code>1</code> you need to forbid <code>sin</code> in the normal way using the forbidden words.</p> <p>This input type will preserve trailing zeros in a student's answer.  For example, <code>0.00100</code> will keep the two trailing zeros. By default Maxima removes these, and these will also be removed in the algebraic input.</p> <p>Note, some things (like forbid floats) can be applied to any numbers in an algebraic input, other tests (require n decimal places) cannot and can only be applied to a single number in this input type.</p>"},{"location":"Authoring/Numerical_input/#options","title":"Options","text":"<p>The \"Extra options\" field on the input must be a comma separated list of the following tags.  Note, these options may not depend on the question variables.</p> <p><code>floatnum</code>:  requires the student's answer to be a floating-point number, as judged by Maxima's <code>floatnump</code> predicate.  E.g. to use this and other Boolean options type <code>floatnum:true</code> etc. as a comma separated list in the extra options field.</p> <p><code>intnum</code>:  requires the student's answer to be an explicit integer.  E.g. <code>6</code> is valid, but <code>2*3</code>, <code>12/2</code> etc. are invalid.</p> <p><code>rationalnum</code>:  requires the student's answer to be a rational number (i.e. a fraction), as judged by STACK's <code>rational_numberp</code> predicate.  Integers are excluded here!</p> <p><code>rationalized</code>:  requires the denominator of any fractions in the student's answer to be free of surds and , as judged by STACK's <code>rationalized</code> function.</p> <p><code>mindp:n</code>: requires the student to type in <code>n</code> or more decimal places.</p> <p><code>maxdp:n</code>: requires the student to type in at most <code>n</code> decimal places.</p> <p><code>minsf:n</code>: requires the student to type in <code>n</code> or more significant figures.</p> <p><code>maxsf:n</code>: requires the student to type in at most <code>n</code> significant figures.</p> <p>You cannot specify both decimal places and significant figures (even if they are min for one and max for the other).</p> <p>If <code>mindp=maxdp=n</code> or <code>minsf=maxsf=n</code> then a student will be told to type in exactly <code>n</code> places/figures.</p> <p>Note, where there is ambiguity in the number of significant figures (e.g. does 100 have 1 or 3 significant figures?) then the student will be given the benefit of the doubt.</p>"},{"location":"Authoring/Options/","title":"Options","text":"<p>Options affect the behaviour of each question.</p>"},{"location":"Authoring/Options/#question-level-simplify","title":"Question Level Simplify","text":"<p>See the entry on simplification.  Default is <code>true</code>.</p>"},{"location":"Authoring/Options/#assume-positive-assume_positive","title":"Assume Positive  ### {#Assume_Positive}","text":"<p>This option sets the value of Maxima's</p> <pre><code>assume_pos\n</code></pre> <p>variable.</p> <p>If <code>true</code> and the sign of a parameter  cannot be determined from the current context or other considerations, <code>sign</code> and <code>asksign(x)</code> return <code>true</code>. This may forestall some automatically-generated asksign queries, such as may arise from integrate or other computations</p> <p>Default is False</p>"},{"location":"Authoring/Options/#question-penalty-question_penalty","title":"Question Penalty ### {#Question_penalty}","text":"<p>This is the percentage of the marks deducted from each different and valid attempt which is not completely correct, when the penalty mark modification scheme is in use. The default is  of the marks available for this question, entered at .</p> <p>Note that Moodle stores scores to 7 decimal places, so,  should be entered as , and  as . If you input any number close to , but with less precision, then the extra digits will automatically be added. The exact range affected is that any penalty  and  is changed to , and any penalty  and  is changed to .</p>"},{"location":"Authoring/Options/#output","title":"Output","text":"<p>The following options affect how mathematics is displayed.</p>"},{"location":"Authoring/Options/#multiplication-sign-multiplication","title":"Multiplication Sign ### {#multiplication}","text":"<ul> <li>(none), e.g.  </li> <li>Dot, e.g.  </li> <li>Cross, e.g.  </li> <li>Numbers only, e.g. .</li> </ul> <p>In practice it is very helpful to have some kind of multiplication sign displayed to the student.  The difference between  is very subtle.  Notice the spacing?  The first means <code>xe^x=(xe)^x</code> the second is <code>x*e^x</code>.  Could be quite confusing to students if there is no multiplication sign.  Using  neatly solves this problem.</p> <p>Internally the display of multiplication signs is controlled by the STACK function <code>make_multsgn(ex)</code>, where the argument can be one of the strings <code>\"cross\"</code>, <code>\"dot\"</code> or <code>\"blank\"</code>.  This can be switched part-way through a session. E.g. consider the following castext.</p> <pre><code>Default: {@a*b@}.\nSwitch to cross: {@(make_multsgn(\"cross\"), a*b)@}.\nCross remains: {@a*b@}.\n</code></pre> <p>The expression <code>(make_multsgn(\"cross\"), a*b)</code> uses parentheses as an abbreviation for Maxima's <code>block</code> command.  So, the first expression <code>make_multsgn(\"cross\")</code> is evaluated which changes the display option to a cross.  Then the second expression is evaluated and displayed as .  The new option persists in the next expression.</p> <p>The value of this option <code>onum</code> will only put a multiplication sign between numbers.  This means you will see  and not  as you would if you have \"none\".</p> <p>There is a special atom which controls the multiplication symbol.  If you would like a dot then define</p> <pre><code>texput(multsgnonlyfornumberssym, \"\\\\times\");\n</code></pre> <p>in the question variables.</p>"},{"location":"Authoring/Options/#logic-symbols-logicsymbol","title":"Logic symbols ### {#logicsymbol}","text":"<p>How logical symbols should be displayed. The values are language, e.g.  or symbol, e.g. .</p>"},{"location":"Authoring/Options/#surd-for-square-root-surd","title":"Surd for Square Root ### {#surd}","text":"<p>This option sets the value of Maxima's</p> <pre><code>sqrtdispflag\n</code></pre> <p>When false the prefix function <code>sqrt(x)</code> will be displayed as . Please note that Maxima (by default) does not like to use the  symbol. The internal representation favours fractional powers, for very good reasons. In  Maxima 5.19.1 we get:</p> <pre><code>(%i1) 4*sqrt(2);\n(%o1) 2^(5/2)\n(%i2) 6*sqrt(2);\n(%o2) 3*2^(3/2)\n</code></pre> <p>Do you really want to continue using  in your teaching?  In his Elements of Algebra, L. Euler wrote the following.</p> <p>  We may therefore entirely reject the radical signs at present made use of, and employ in their stead the fractional exponents which we have just explained: but as we have been long accustomed to those signs, and meet with them in most books of Algebra, it might be wrong to banish them entirely from  calculations; there is, however, sufficient reason also to employ, as is now frequently done, the other method of  notation, because it manifestly corresponds with the nature of the thing. In fact we see immediately that  is the square root of , because we know that the square of , that is to say   multiplied by  is equal to , or .</p> <p>A lot of elementary mathematics involves converting from one form to another and back again.  Sometimes these forms have important differences of use, e.g. factored form or completed square form for a quadratic.  However, sometimes these equivalent forms are more customary than because it \"manifestly corresponds with the nature of the thing\" in question.  I digress...</p>"},{"location":"Authoring/Options/#sqrt-1-sqrt_minus_one","title":"sqrt(-1) {#sqrt_minus_one}","text":"<p>In Maxima <code>%i</code> is the complex unit satisfying <code>%i^2=-1</code>.  However, students would like to type <code>i</code> and physicists and engineers <code>j</code>. We also sometimes need to use symbols <code>i</code> and <code>j</code> for vectors. To accommodate these needs we have an option <code>ComplexNo</code> which provides a context for these symbols and affects the way they are displayed.</p> Option Interpretation Display ~ ~ ~ ~ %i^2 i^2 j^2 %i i j -------- ---------------- --------- ----- ---- ----- ----- i -1 -1 j^2 i i j j -1 i^2 -1 j i j symi -1 i^2 j^2 i i j symj -1 i^2 j^2 j i j <p>Note the use of both Roman and italic symbols in this table.</p>"},{"location":"Authoring/Options/#matrix-parentheses","title":"Matrix parentheses","text":"<p>See the entry on matrices.</p>"},{"location":"Authoring/Options/#inline-and-displayed-fractions","title":"Inline and displayed fractions.","text":"<p>The display of fractions can take two forms: inline  and displayed .</p> <p>The default behaviour is displayed, i.e. using LaTeX <code>\\frac{}{}</code>.</p> <p>The function <code>stack_disp_fractions(ex)</code> can be used to control the display.</p> <ul> <li><code>stack_disp_fractions(\"i\")</code> switches display to inline.</li> <li><code>stack_disp_fractions(\"d\")</code> switches display to display.</li> </ul> <p>Note, for CASText the display is controlled by the prevailing setting at the moment the text is displayed, not when a variable is defined in the question variables. Hence, if you would like a single inline fraction within a CASText you will need to use</p> <pre><code>Normally fractions are displayed {@1/x@}. This switches to inline {@(stack_disp_fractions(\"i\"), 1/x)@}, which persists {@1/a@}.  Switch explicitly back to displayed {@(stack_disp_fractions(\"d\"),1/x)@}.\n</code></pre>"},{"location":"Authoring/Potential_response_trees/","title":"Potential response trees","text":"<p>The potential response tree is the algorithm which establishes the mathematical properties of the student's answer and assigns outcomes. For examples of how to use this, see the entry on improving feedback in the quick start guide.</p>"},{"location":"Authoring/Potential_response_trees/#when-is-the-tree-used","title":"When is the tree used?","text":"<p>Each potential response tree relies on one or more of the inputs. STACK automatically detects which elements are needed in the answer tests or feedback variables. The first time a student submits an input it is validated. The second time it is submitted it is available for assessment by a potential response tree. Only when all inputs upon which a tree relies are valid and submitted will the tree be traversed.</p>"},{"location":"Authoring/Potential_response_trees/#before-the-tree-is-traversed","title":"Before the tree is traversed","text":"<p>Each potential response tree can set Maxima's level of simplification. Before the tree is traversed the feedback variables are evaluated. The feedback variables may depend on the values of the question variables and the inputs. The values of these variables are available to the answer tests and all CASText fields within the tree, for example the feedback could be built using these variables.</p> <p>Notes:</p> <ol> <li> <p>You cannot define a feedback variable with the same name as an input.  For example, if your input is <code>ans1</code> then it is tempting to define a feedback variable <code>ans1:exdowncase(ans1)</code> to ensure it is in lower case.  Do not do this!  Please use a different variable name.  This is because in some situations the answer test will choose to take the raw value of <code>ans1</code> exactly as the student typed it.  Any redefinition will interfere with this process.</p> </li> <li> <p>If one of the feedback variables throws an error then this will not stop the PRT executing.  If there is an error, this will be flagged in the response summary as <code>[RUNTIME_FV_ERROR]</code> (fv here means feedback variables).  See notes on error trapping for advice on how to use this.</p> </li> </ol>"},{"location":"Authoring/Potential_response_trees/#traversing-the-tree","title":"Traversing the tree","text":"<p>A potential response tree (technically an acyclic directed graph) consists of an arbitrary number of linked nodes we call potential responses.</p> <p>In each node two expressions are compared using a specified answer tests, and the result is either <code>true</code> or <code>false</code>. A corresponding branch of the tree has the opportunity to each of the following.</p> <ol> <li>Adjust the score, (e.g. assign a value, add or subtract a value).  Scores can be floating point numbers or variables defined elsewhere (e.g. question variables/feedback variables).</li> <li>Add written feedback specifically for the student</li> <li>Generate an \"answer note\", used by the teacher for evaluative assessment</li> <li>Nominate the next node, or end the process.</li> <li>Any runtime error during traversing the tree will cause an error.  This error will stop further exectution of the tree, and students will see a runtime error message.  This will be flagged in the response summary as <code>[RUNTIME_ERROR]</code>.  If you have statements likely to throw an error you should evaluate them in the feedback variables first. See notes on error trapping for advice on how to use this.</li> </ol>"},{"location":"Authoring/Potential_response_trees/#outcomes","title":"Outcomes","text":"<p>The outcomes are</p> <ol> <li>The raw score</li> <li>The penalty for this attempt</li> <li>Feedback to the student (see below for full details)</li> <li>An answer note</li> </ol>"},{"location":"Authoring/Potential_response_trees/#question-value-question_value","title":"Question Value {#Question_value}","text":"<p>The potential response tree itself is expected to return a numerical raw score between  and . This number is multiplied by the question value before being returned to the student as feedback or recorded in the database.</p>"},{"location":"Authoring/Potential_response_trees/#answer-note-answer_note","title":"Answer note {#Answer_note}","text":"<p>The answer note is a tag which is key for reporting purposes. It is designed to record the outcome of each answer test and the unique path through the tree. This is automatically generated, but can be changed to something meaningful. When looking for identical paths through the tree we have to do so, regardless of which random numbers were selected in this variant of the question given to a particular student.  Hence, this string may not depend on any of the variables.</p> <p>The answer note is the concatenation of each answer note from the answer tests and then the corresponding true/false branch.  This note provides a record of the result of applying each test and the route taken through the tree.</p> <p>This field is given a default value automatically and is used for reporting students' work.</p> <p>This field may not be empty and for each node in a tree the string must be unique.</p> <p>Do not use <code>;</code>, <code>|</code> charaters in your answer note.  These characters are used to split the response summary in the reporting scripts.</p>"},{"location":"Authoring/Potential_response_trees/#scores-and-penalties","title":"Scores and penalties","text":"<p>A score is generated by each potential response tree.  Because the tree is only traversed when all inputs are valid, the score is only generated for a valid attempt.</p> <p>If a score is generated it is based only on the current values of the inputs.  This means that it is not based on either (1) previous values of the inputs, or (2) the number of previous attempts.  (Requests have been made to enable attempt number to be available, but this has not been implemented  yet.)</p> <p>If a score is generated then a penalty is also generated. The penalty system is designed to encourage students to make repeated attempts in a formative setting.  For example, a student is asked to find  .  </p> <p>Attempt 1:  .  Score , Penalty , Feedback: \"You have missed a constant of integration.\"</p> <p>Attempt 2:  .  Score , Penalty , Feedback: \"Well done.\"</p> <p>Overall, the potential response tree returns the current score minus total penalties so far, in this example .  This is multiplied by the \"Question value\" set in the potential response tree.  These are summed across all potential response trees.</p> <p>In this example, some colleagues would prefer to give partial credit for missing a constant of integration rather than zero marks and a penalty.  In a formative setting, where students have an opportunity to have another attempt, the penalty system has been found to be an effective way to encourage students to have another attempt and to read the feedback.  In an examination, where no feedback is available and so further attempts are not made, different choices need to be made and partial credit would be more appropriate than a zero mark.</p> <ul> <li>The penalty is given a default value in the question.  This is a mandatory field; the default for STACK is 0.1.  </li> <li>Penalties are cumulative, but the student will be given the maximum possible mark.  I.e. while they accumulate penalties they are never worse off by repeatedly attempting the question.  In particular, if the student in the above example makes another attempt and scores  they will retain their mark of .  This is to encourage students to have another go in a formative setting.  STACK generates a list of penalty adjusted scores for each attempt, and takes the maximum. </li> <li>The penalty can be assigned a different value in the nodes of the potential response tree. This means, e.g., the teacher can assign a cumulative penalty  for a particular answer. </li> <li>The penalties are also controlled at a quiz level by the \"question behaviours\" mechanism for the quiz.  Hence, if you set the behaviour as \"Adaptive mode (no penalties)\" the penalty assigned will be ignored when the question is used by students in the quiz.</li> </ul>"},{"location":"Authoring/Potential_response_trees/#formative-potential-response-trees","title":"Formative potential response trees","text":"<p>The outcomes of score, penalty, feedback and note are always produced.  Normally, whether this information should be shown to a student is a function of the quiz, and in Moodle the question behaviour.  It should not be set at the level of an individual question.</p> <p>There are rare, but important, situations where we need a purely formative PRT.</p> <p>E.g. Imagine a questions with inputs A, and B.</p> <ol> <li>Input A has a dedicated PRT to establish if it is correct.</li> <li>Input B has a dedicated PRT to establish if it is correct.</li> <li>There is an additional PRT which depends on both A &amp; B.  This gives formative feedback to the student, e.g. \"try a more interesting combination of answers next time!\" but is of no consequence to the correctness of A &amp; B.</li> </ol> <p>With a formative potential response tree, there is no general feedback such as \"Correct answer well done\".  There is never a mark (and marks for this PRT do not contribute to the question, or completeness of an answer).</p>"},{"location":"Authoring/Potential_response_trees/#response-tree-feedback-feedbackstyle","title":"Response tree feedback: feedbackstyle","text":"<p>The feedback created by PRTs has the following parts concatenated together.</p> <pre><code>[Generic feedback] [Runtime errors] [PRT generated feedback] [Score ?]\n</code></pre> <p>The <code>[Generic feedback]</code> is a question level option, e.g. \"Standard feedback for correct\", to provide consistency accross a question. By default the <code>[Generic feedback]</code> contains both an initial symbol, and a language sentence.  The current \"correct\" default is</p> <p> Correct answer, well done.</p> <p>How PRT feedback is displayed is controlled by the PRT option <code>feedbackstyle</code> as follows.  Note the Generic feedback might include the symbol, if you retain the default.</p> Value Options Symbol Generic feedback Errors PRT feedback Score ? 0 Formative No No Yes Yes No (PRT does not contribute to score) 1 Standard No Yes Yes Yes Respects quiz setting 2 Compact Yes No Yes Yes No 3 Symbol only Yes No Yes No No <p>Note that the \"Compact\" PRT feedback uses <code>&lt;span&gt;</code> tags and not <code>&lt;div&gt;</code>.  This allows inclusion inline, without new paragraphs settings.  However, <code>&lt;span&gt;</code> tags cannot contain a block level element, such as a <code>&lt;div&gt;</code> or <code>&lt;p&gt;</code>. So, if you include a block level element in your PRT feedback then the browser may \"spit this out\" and misplace the feedback. Also, MathJax may not display mathematics correctly on the page when there is an HTML errror such as this.  If you use the \"Compact\" feedback, please author only minimal PRT feedback with no block level HTML elements.</p>"},{"location":"Authoring/Question_note/","title":"Question note","text":"<p>The question note is CASText.  The question note is used to decide if randomly generated variants are the same or different.</p> <p>Two question variants are equal if and only if the question notes are equal.</p> <p>In particular, when we generate statistics about students' attempts we group attempts according to the equality of their question notes. Two variants are not necessarily different if their question variables are different, and hence a note is useful.  The teacher needs to choose what identifies each unique variant - this cannot be automated.</p> <p>The teacher can also leave useful information about the answer in the question note. For example they might use a note such as</p> <pre><code>\\[ \\frac{d}{d{@v@}}{@p@} = {@diff(p,v)@} \\]\n</code></pre> <p>This is very helpful, particularly when students ask about the variant they were given.  The teacher only need look at the question note to get both the question, and answer.</p> <p>The question note is used when deploying question variants.</p>"},{"location":"Authoring/Reporting/","title":"Reporting","text":"<p>Reviewing students' answers closes the learning cycle for teachers by allowing them to understand what students are doing. Basic reporting is undertaken through the Moodle quiz.  For example, lists of scores, etc. are available there.  The Moodle quiz also calculates basic statistics based on the numerical information.</p> <p>To review work in more detail we need to use two important parts of the question. Please read the following two entries before continuing with this article.</p> <ul> <li>The question note.</li> <li>The answer note.</li> </ul>"},{"location":"Authoring/Reporting/#moodle-quiz-features","title":"Moodle quiz features","text":"<p>Most of the day to day reporting is done through the Moodle quiz features.</p> <p>For detailed reporting go to</p> <pre><code>Quiz administration -&gt; Results -&gt; Reporting\n</code></pre> <p>The \"response\" column shows the raw Maxima input value entered by the student and the validity status, e.g. \"blank\" (not reported), \"invalid\", \"valid\", \"score\".  The \"response\" column also shows the value of the answer note for each potential response tree.</p> <p>An example note is shown below.  In this question a student has answered with <code>(x-4)^6+c</code> for the input <code>ans1</code>. The potential response tree <code>prt1</code> has executed and the note is <code>ATInt_generic. | 1-0-F</code>.</p> <pre><code>ans1: (x-4)^6+c [score]; prt1: ATInt_generic. | 1-0-F\n</code></pre> <p>Notes:</p> <ol> <li>If the potential response tree does not execute it will be reported as <code>prt1: #</code> to indicate it exists but was not used.</li> <li>Reporting is stored in the database, so you may need to \"regrade\" attempts if you update the answer notes.</li> <li>You can download the responses for offline analysis.  Split over <code>;</code> to separate inputs and separate PRT answer notes.  Split the individual answer note over <code>|</code> to get the route through the tree, and the notes added by the answer tests.</li> </ol>"},{"location":"Authoring/Reporting/#individual-stack-item-analysis","title":"Individual STACK item analysis","text":"<p>STACK has a bespoke basic reporting mechanism for analysing responses to questions.  To access the Basic question use report you need to navigate to the STACK question dashboard and choose \"Analyze responses\".  The report currently contains all attempts at the question, regardless of how many different quizzes the question appears in.</p> <p>The report makes use of the response summary.  (For developers, this is generated by <code>qtype_stack_question::summarise_response</code> in <code>question.php</code>.)</p> <p>The response summary is a string consisting of the following information.</p> <ul> <li>The \"seed\" for the question used, enabling attempts to be grouped by question variant.</li> <li>The Maxima string value of each input, and its status (blank, invalid, valid, score).</li> <li>The answernote generated by each potential response tree. <code>!</code> denotes a blank note, i.e. the PRT did not execute.</li> </ul> <p>Here is a raw response summary.</p> <pre><code> Seed: 254530683; ans1: 15180 [score]; ans2: 24360 [score]; prt1: # = 1 | prt1-1-T; prt2: # = 0 | prt2-1-F\n</code></pre> <p>Here we see the following.</p> <ul> <li>The report can be split over <code>;</code> into separate fields.   Within the PRTs the data can be split over <code>|</code>.</li> <li>The seed used in this example was 254530683.</li> <li>There are two inputs, each at the \"score\" state.</li> <li><code>ans1: 15180 [score]</code></li> <li><code>ans2: 24360 [score]</code></li> <li>There are two potential response trees</li> <li><code>prt1: # = 1 | prt1-1-T</code>  The <code>prt1</code> was activated, the score <code>#</code> returned was <code>1</code> and we see the answer note.</li> <li><code>prt2: # = 0 | prt2-1-F</code>  The <code>prt2</code> was activated, the score <code>#</code> returned was <code>0</code> and we see the answer note.</li> </ul> <p>The response summary contains a lot of information in a condensed way, and can only be understood with an appreciation of the question structure itself in STACK (inputs, prts, variants) and the individual question.</p> <p>The report splits this information into the following, text-based, reports.</p> <ul> <li>Frequency of answer notes, for each PRT, regardless of which variant was used.  Useful to know the route through the tree.</li> <li>Frequency of answer notes, for each PRT, split by |, regardless of which variant was used.   Useful to understand the outcome at each node.</li> <li>Raw inputs, regardless of which variant was used.</li> <li>Raw inputs and PRT answer notes by variant.</li> <li>Raw data.</li> </ul> <p>This feature is new in STACK 4.3.  Comments and suggestions for improvements are very welcome.</p> <p>Note, the question summary is stored in a database and will not be updated if you subsequently edit the question.  If you wish to improve your question you will need to do a quiz \"regrade\" to update the basic question use report.</p>"},{"location":"Authoring/Reporting/#site-wide-usage","title":"Site-wide usage","text":"<p>Moodle Admins can get stats on site-wide STACK usage.</p>"},{"location":"Authoring/Sample_questions/","title":"Sample Questions","text":"<p>STACK is distributed with sample questions in</p> <pre><code> /qtype_stack/samplequestions/\n</code></pre> <p>The sample questions are in English.</p> <p>We would encourage colleagues to release their materials under a creative commons licence.  Please contact the developers.</p>"},{"location":"Authoring/Sample_questions/#moodle-courses-released-with-stack","title":"Moodle courses released with STACK","text":"<p>STACK is released with a demonstration course which contains hundreds of tested STACK questions.  Many have a full worked solution and random variants, and this represents a substantial resource.</p> <pre><code> /qtype_stack/samplequestions/STACK-demo.mbz\n</code></pre> <p>You can \"restore\" this into your version of Moodle.  It has a number of quizzes, pre-created with questions and deployed variants.  It also has a large question bank, with questions not arranged into quizzes.</p>"},{"location":"Authoring/Sample_questions/#materials-released-with-stack","title":"Materials released with STACK","text":"<p>The file <code>sample_questions.xml</code> contains the following questions.</p>"},{"location":"Authoring/Sample_questions/#test_1_basic_integral","title":"<code>test_1_basic_integral</code>","text":"<p>This is a simple, single part integral question with randomization.</p>"},{"location":"Authoring/Sample_questions/#test_2_rectangle","title":"<code>test_2_rectangle</code>","text":"<p>A rectangle has length 6cm greater than its width. If it has an area of 27cm, find the dimensions of the rectangle.</p> <p>This is a multi-part question which illustrates follow-through marking.  Get the first part wrong, but the second part correct based on the first part to see the feedback.</p>"},{"location":"Authoring/Sample_questions/#test_3_matrix","title":"<code>test_3_matrix</code>","text":"<p>This question creates two random matrices and asks students to multiply them together.  See the notes on matrices.</p>"},{"location":"Authoring/Sample_questions/#test_4_complex","title":"<code>test_4_complex</code>","text":"<p>Given a complex number  determine  and .  Where ,  and  are randomly generated numbers.</p> <p>See the authoring quick start 7.</p>"},{"location":"Authoring/Sample_questions/#test_5_cubic-spline","title":"<code>test_5_cubic-spline</code>","text":"<p>In this question a student is asked to find a cubic spline.  This question illustrates the following.</p> <ul> <li>Separate properties are established, i.e. the answer is a cubic, has the right end point values and correct derivatives at the end points.</li> <li>Plots are incorporated, including a plot of a student's incorrect answer.</li> </ul>"},{"location":"Authoring/Sample_questions/#text_6_odd_even","title":"<code>text_6_odd_even</code>","text":"<p>In this question a student is asked to give examples of odd and even functions.</p> <ul> <li>There are four separate parts.  Separate properties are established by each.</li> <li>For two of the parts there are non-unique correct answers.</li> <li>Feedback based on calculations of students' answers is included.</li> </ul>"},{"location":"Authoring/Sample_questions/#text_7_solve_quadratic","title":"<code>text_7_solve_quadratic</code>","text":"<p>In this question a student is asked to solve a quadratic by working line by line.</p>"},{"location":"Authoring/Sample_questions/#ode_2nd_order_linearxml","title":"<code>ODE_2nd_order_linear.xml</code>","text":"<p>This file contains three example questions on 2nd order linear ODEs with constant coefficients.  They illustrate the need to establish multiple independent properties, even in cases where the teacher might be tempted to look at the specific answer.</p>"},{"location":"Authoring/Sample_questions/#mcq-sample-questionsxml","title":"<code>MCQ-sample-questions.xml</code>","text":"<p>This file contains two example multiple choice questions. (Not the place to start when authoring in STACK: see the authoring guide for more details.)</p>"},{"location":"Authoring/Sample_questions/#v4-syntax-samplesxml","title":"<code>v4-syntax-samples.xml</code>","text":"<p>With v4.0 of STACK the CASText parts of the question gain blocks which allow the text to contain segments that are evaluated further and which may have parameters that define their behaviour.  See the specific documentation about blocks for more details.</p>"},{"location":"Authoring/Sample_questions/#open-educational-resources","title":"Open Educational Resources","text":"<ul> <li>The FETLAR project released a large collection of STACK questions in English covering calculus and algebra in April 2010.  These are now part of the demonstration course.</li> <li>Questions to cover all parts of the The Map of Algebraic Manipulation.</li> <li>Questions to cover all of the Calculus Refresher by Dr Tony Croft and Dr Anthony Kay.</li> </ul> <p>Abacus is a material bank for STEM education which seeks to produce, share and host high-quality educational material between collaborators.  For more information see https://abacus.aalto.fi/</p>"},{"location":"Authoring/Sample_questions/#other-sources-of-questions","title":"Other sources of questions","text":"<p>If you have materials you would like to release, please add the details here.</p>"},{"location":"Authoring/Serving_out_data/","title":"Serving out data","text":"<p>In some contexts one wants to generate random data for the students to act on, depending on the ammount of data and whether one expects the students to transfer it to other tools for processing the methods used for serving that data data out vary. Here are some examples.</p>"},{"location":"Authoring/Serving_out_data/#html-tables","title":"HTML-tables","text":"<p>If you only have a small amount of data you may simply print out a table of it and let the students copy-paste it from there. When doing this one will want to avoid LaTeX representations as those may case trouble for students try to copy-paste things. Here is an example of using CASText <code>foreach</code>-blocks to iterate and output an aray of data:</p> <pre><code>[[comment]]This just defines the data for this sample, you may use one coming from your question-vars.[[/comment]]\n[[define data=\"(rand(zeromatrix(4,3)+100)-50)/10.0\"/]]\n\n&lt;table&gt;\n[[foreach row=\"args(data)\"]]\n    &lt;tr&gt;[[foreach cell=\"row\"]]&lt;td&gt;{#cell#}&lt;/td&gt;[[/foreach]]&lt;/tr&gt;\n[[/foreach]]\n&lt;/table&gt;\n\n&lt;p&gt;More control is available. You could tune the style of the values without affecting copy paste too much.&lt;/p&gt;\n&lt;table&gt;\n[[foreach row=\"args(data)\"]]\n    &lt;tr&gt;[[foreach cell=\"row\"]]\n        &lt;td&gt;\n        [[if test=\"cell &lt; 0\"]]&lt;span style=\"color:red;\"&gt;[[/if]]\n        {#cell#}\n        [[if test=\"cell &lt; 0\"]]&lt;/span&gt;[[/if]]\n        &lt;/td&gt;\n        [[/foreach]]&lt;/tr&gt;\n[[/foreach]]\n&lt;/table&gt;\n</code></pre>"},{"location":"Authoring/Serving_out_data/#raw-maxima-code","title":"Raw Maxima code","text":"<p>Should you want to just give out Maxima code for use in Maxima or similar enough syntax you may simply use the <code>{#...#}</code> injection instead of <code>{@...@}</code> and it will output the raw form which is again copy-pastable. However, this does not work well with large amounts of data as the line may become quite long and even selecting it may prove problematic.</p>"},{"location":"Authoring/Serving_out_data/#file-transfer","title":"File transfer","text":"<p>Since 4.4 STACK has allowed the author to construct text-files that can be downloaded and that contain freeform CASText constructed in the questions session with the questions seed, thus allowing unique random output for the students. This functionality will server everything out as plain text unless the defined name of the file ends with <code>.csv</code>. The primary limitation, for this feature is that it only works in the question-text, it may not be used anywhere else and it will never support adaptation to current student inputs.</p> <p>How it works is that you wrap whatever you want the file to contain in a <code>[[textdownload]]</code> block, for that block a single parameter <code>name</code> must be defined and that will define the name suggested when saving this file. Whatever is inside that block will be rendered as normal CASText, however nothing defined in the CASText outside that block can affect it, which may cause some confusion, just repeat those defines inside the block if you use such things. The block will then get replaced with an URL from which the file can be downloaded, you will probably want to place that URL into a link or some such construct.</p> <p>As an example, using the new function that generates CSV-strings from data we can write as follows:</p> <pre><code>/* Define these in question variables: */\nlab: [\"A\",\"B\",\"C\"];\ndata: makelist([rand(322)/100.0,rand(600)/100.0,rand(300)/100.0], i, 50);\n</code></pre> <pre><code>[[comment]]Use them like this in the question-text.[[/comment]]\nLoad the data from \n&lt;a href=\"[[textdownload name=\"data.csv\"]]{@stack_csv_formatter(data,lab)@}[[/textdownload]]\"&gt;this file&lt;/a&gt; and ...\n</code></pre> <p>That function returns a string and it takes in the data as a matrix or a list of lists and labels as a list. If no labels are necessary use <code>false</code>. Also you can use <code>stackfltfmt</code> to control the representation of pure floats in the data. Just in case you meet trouble <code>labels</code> is a keyword that cannot be used which is a shame when defining labels.</p>"},{"location":"Authoring/Tables/","title":"Tables","text":"<p>STACK provides an intert function <code>table</code> for typesetting mathematical tables, provided originally to typeset truth tables in Propositional Logic.</p> <p>You can create a table directly.  Notice the first row is a heading row.</p> <pre><code>T0:table([x,x^3],[-1,-1],[0,0],[1,1],[2,8],[3,27]);\n</code></pre> <p>Really, the <code>table</code> operator does nothing (very much like a matrix).  Like a matrix, the arguments must be identical length lists. However, there are some special rules for the tex display.</p> <ol> <li>The first row is considered to be a heading, and a horizontal line is printed after the first row.</li> <li>There are vertical bars between internal columns of the table.</li> <li>There are currently no options for customising printing of borders, etc.</li> <li>You can highlight entries in the table using the command <code>texcolor(\"col\", ex)</code>.  Note however, this will also underline any entries (as colour alone is poor accessibility practice.).</li> </ol> <p>The table <code>T0</code> is displayed as .</p> <p><code>table_bool_abbreviate:true</code> is a boolean variable.  If set to <code>true</code> (the default) boolean entries <code>true/false</code> will be abbreviated to <code>T/F</code> respectively when creating the LaTeX for display, to keep the table small and tidy looking.  All other entries in the table are typeset normally.  This only affects the LaTeX display, and table entries remain boolean.</p> <p><code>table_zip_with(fn, T1, T2)</code> combines two tables, using the binary function <code>fn</code> (much as <code>zip_with</code> combines two lists).</p> <p>It is instructive to look at the code for <code>table_difference</code> which colours entries which differ in red.</p> <pre><code>table_difference(T1, T2) := table_zip_with(lambda([ex1,ex2], if ex1=ex2 then ex1 else texcolor(\"red\", ex1)), T1, T2)$\n</code></pre> <p>This shows which elements of <code>T1</code> differ from the corresponding elements of <code>T2</code> by returning elements of <code>T1</code> coloured in red.</p> <p>If you want to identify which entries really are different then you could do something like the following.</p> <pre><code>table_zip_with(lambda([ex1,ex2], is(ex1=ex2)), T1, T2)\n</code></pre> <p>If you find yourself manipulating tables, the above funtion provides a starting point.  Please ask the developers to add anything you use regularly.</p>"},{"location":"Authoring/Tables/#examples","title":"Examples.","text":"<p>You can create a table via some code such as the following.  Notice the use of the list constructor function <code>\"[\"</code> within the <code>zip_with</code> command.</p> <pre><code>vals:[-1,0,1,2,3];\nfn(ex):=ex^3;\nT0:apply(table, append([[x,fn(x)]], zip_with(\"[\", vals, maplist(fn, vals))));\n</code></pre> <p>As a question variable, or directly within CAStext.</p> <pre><code>T1:truth_table(a implies b);\nT2:table_difference(truth_table(a xor b), truth_table(a implies b));\n</code></pre> <p>Here we have two tables <code>T1</code> is displayed as</p> <p>  and <code>T2</code> gives  Notice in both the effect of <code>table_bool_abbreviate:true</code>.</p>"},{"location":"Authoring/Testing/","title":"Testing, debugging and quality control","text":"<p>This page deals with testing questions and quality control. This is largely done through the question test functionality.</p> <p>High-quality question production needs care at each stage.  An authoring workflow is described separately.</p> <p>We have separate advice on fixing broken questions in a live quiz.</p>"},{"location":"Authoring/Testing/#testing-for-quality-control","title":"Testing for quality control","text":"<p>It is important to test questions to ensure they work correctly.  One approach would be for the teacher to repeatedly test them with various random numbers and inputs.  But this is inefficient and unreliable.</p> <p>Question Tests provide an automated mechanism through which the author may establish with confidence that the Potential Response Trees are processing the student answer as expected. They are based on the concept of \"unit testing\" from software development. Question variables can be included in the tests; indeed these are needed to define test inputs in the context of random values.</p> <p>Each test assigns values to</p> <ol> <li>any/all of the inputs.  These values may, naturally, depend on the    question variables.</li> <li>values for the score and any penalty.</li> <li>Answer notes from each of    the potential response trees.</li> </ol> <p>The teacher can opt to run the question tests from the preview window.  STACK automatically takes each test, assigns the values to inputs and attempts to submit it.  The results of the last answer note from each potential response tree is compared to that specified by the teacher.  Notice that this is a limitation of the system.  Specifying the complete route through the potential response tree would be too difficult and would discourage teachers from writing tests.</p> <p>If the score, penalty and answer note generated by each potential response tree matches that specified by the teacher, then the test will PASS, otherwise the test will FAIL. Note that failure of a test is a mismatch between outputs and expected outputs, not necessarily a sign that something is wrong with the question itself!</p> <p>The teacher can also examine by hand the outcomes generated by each step of each test, including full feedback generated.</p> <p>In this way, the teacher can record, within the question itself, how they expect the marking scheme to work for a variety of student answers.</p>"},{"location":"Authoring/Testing/#writing-tests","title":"Writing tests","text":"<ol> <li>Author and save your question.</li> <li>From the Question bank, choose the Preview option.</li> <li>The Preview question window will open.  If you have authority to edit the question, then the top right of the question window will contain a link to question tests and deployed variants....  Follow this link.</li> <li>This page manages both question tests and deployed variants.  Initially you will have no tests or deployed variants.  Choose Add a test case...</li> <li>Specify values for each input.  This may use the question variables.  The values of these variables will be used for any random variants.</li> <li>Specify the expected outcomes for each potential response tree.  This includes the score, penalty and answer note.  Note: currently only the last Answer Note, not the whole path through the potential response tree, is examined.  This is a limitation.</li> <li>Once you have added the test case, STACK will automatically validate and submit these responses and display the outcomes.</li> <li>You may add as many test cases are you need.  It is sensible to add in the following.<ol> <li>The correct response.  There is a button which will copy the expression used as the \"Teacher's answer\" in the input as a basis for a test case to help create this test.</li> <li>One example of each distinction you wish to make, i.e. if you have added specific feedback then provide an answer you expect to trigger this.</li> <li>Some \"invalid\" responses, especially if these are syntactically-valid expressions.  E.g. If the answer is an equation such as , then  might be invalid if you have chosen the input option \"check types\".  Adding a test case is useful to confirm this potential problem is caught by the question.  Leave the fields empty and the answer note <code>NULL</code> to indicate this.</li> <li>Add a totally incorrect answer.</li> </ol> </li> <li>If you leave the penalty field blank it will assume you mean the default penalty for the question.</li> </ol> <p>On the question testing page is a \"Send to CAS\" button.  Pressing this sends the question variables and general feedback to a special page which enables more efficient authoring of the feedback in the context of the values of the variables.  You still need to copy this by hand into the question edit form when you are satisfied.</p> <p>A Moodle administrator can run all of the questions tests within a particular course, or across the whole site by following the links on the STACK admin page.  It is useful do to this after upgrading the STACK code on the server to identify any test cases which have changed.</p> <p>Test cases can include a meaningful description of up to 255 characters.  This field is a simple string, and is not castext.</p>"},{"location":"Authoring/Testing/#test-case-construction-and-maxima-evaluation","title":"Test case construction and Maxima evaluation","text":"<p>Test cases are always written assuming <code>simp:false</code> regardless of the option set elsewhere.  If you want to construct a simplified test case then wrap this in <code>ev(... , simp)</code> to simplify the expression generating the test case.  This behaviour is required to enable construction of unsimplified test cases.</p> <p>You can (and should) constuct test cases based on invalid expressions.  If the raw testcase expression cannot be sent to the CAS, e.g. a missing bracket, then this invalidity will be tested.</p> <p>While test case construction uses <code>simp:false</code> Maxima must \"evaluate\" the expression prior to the result being used by an input as a test case.  This will replace variables by their values.  E.g. the typical case is to define a variable such as <code>ta</code> as the teacher's answer in the question variables field and use this throughout the question.  This answer will either be simplified, or not, when the question variables are evaluated.  To construct a test case using the teacher's answer use <code>ta</code> as the test case input.</p> <p>It is easier to create a number of variables in the question variables field for wrong answers, e.g. <code>wa1</code>, <code>wa2</code>, and construct the test cases in the question variables in advance.</p> <p>For matrix inputs the test case must be a correct Maxima statement, e.g. <code>matrix([1,2],[2,3])</code>.  There is currently no option to construct test cases by filling in individual input boxes here, which restricts the ability to create test cases of individual syntactically invalid matrix entries.  Similarly, for the textarea and equivalence reasoning input types the test case should be constructed as a list, just as the teacher's answer field is constructed.</p> <p>Some evaluations in Maxima do actually more than just replace existing variables with the values from the question variables. For example, in Maxima try</p> <pre><code>simp:false;\nf:x*sin(1/x);\nlimit(f,x,0);\n</code></pre> <p>Notice here, that while <code>simp:false</code> the limit is still evaluated.  This is not \"simplification\".  For the full story, please refer to the Maxima docs on the <code>ev</code> command.</p> <p>In this case, you can prevent evaluation of limits by using an apostrophie in the test case construction to prevent evaluation.</p> <pre><code>simp:false;\nf:x*sin(1/x);\n'limit(f,x,0);\n</code></pre>"},{"location":"Authoring/Testing/#test-case-construction-and-mcq","title":"Test case construction and MCQ","text":"<p>Remember that MCQ input types return a CAS expression.  However, you must ensure each testcase actually corresponds to an option provided to the student, otherwise STACK will generate a runtime error.  Hence you cannot construct a test case from the list provided as the \"Teacher's answer\" in these input types!</p> <p>It is sensible to use the helper functions.  E.g. for a radio/dropdown use</p> <pre><code>tc1:first(mcq_correct(ta));\n</code></pre> <p>For the checkbox type you will need the whole list.</p> <pre><code>tc1:mcq_correct(ta);\n</code></pre>"},{"location":"Authoring/Testing/#test-case-construction-and-numerical-precision","title":"Test case construction and numerical precision.","text":"<p>You can construct test cases using the functions such as <code>dispdp</code> to create a test-case input with trailing zeros.  This is neeeded if the input, or answer test, is testing for a minimum number of decimal places or significant figures.</p>"},{"location":"Authoring/Testing/#testing-values-of-variables","title":"Testing values of variables","text":"<p>STACK provides a special function <code>s_assert(ex1, ex2)</code> which can be used in the question variables and feedback variables.  If <code>is(ex1=ex2)</code> does not evaluate to <code>true</code> then this function throws a maxima error message.  This can be used to create a run-time error and prevent a question, and a particular variant, being used.</p> <p>For example, if you have an expression <code>1/n</code> and the variable <code>n</code> is randomly generated you need to prevent a random version being zero.  In this case put the following in the question variables.</p> <pre><code>s_assert(is(n=0), false);\n</code></pre> <p>This test will throw an error when <code>n</code> is zero.</p> <p>In many situations this kind of test creation will be simpler than mapping onto student inputs.</p>"},{"location":"Authoring/Testing/#stack-maxima-sandbox","title":"STACK-Maxima sandbox","text":"<p>It is very useful to be able to use the desktop Maxima application to test questions.  To do this it is very helpful to load all the STACK libraries.  Details on how to do this are in the STACK-Maxima sandbox page.</p>"},{"location":"Authoring/Testing/#simplification-simplification","title":"Simplification ## {#Simplification}","text":"<p>You can set global simplification flags in two places within questions:</p> <ol> <li>Globally in the question.</li> <li>In each potential response tree.</li> </ol> <p>Regardless of what settings you use here the expressions you enter for inputs in question tests are not simplified.  This is necessary.  For example, if your question is \"what is ?\" where {@a@} and {@b@} are randomly generated.  You will need to set the question level option <code>simplify:false</code> to prevent the student typing in the sum itself as an answer.  Then you will probably need separate tests for the expressions <code>a+b</code> and <code>ev(a+b,simp)</code> to make sure the student hasn't typed in the sum instead of the value of the sum.  For this reason, to enable \"unsimplified\" expressions to be included as question tests we do not simplify test inputs regardless of the options used in the question.</p> <p>If you have set <code>simplify:true</code> everywhere in your question, and you are only establishing algebraic equivalence of your answers anyway, \"un-simplified\" expressions as inputs to the tests will not matter.</p>"},{"location":"Authoring/Testing/#next-steps","title":"Next steps","text":"<p>When you are done testing a question which uses randomization, you need to deploy variants of the question.</p>"},{"location":"Authoring/Trees/","title":"Trees","text":"<p>It is sometime very useful to display the tree structure of an algebraic expression to a student.</p> <p>For example, the HTML code for the tree of  is given below.</p> <pre><code>&lt;ul class='tree'&gt;\n  &lt;li&gt;&lt;code&gt;+&lt;/code&gt;\n  &lt;ul&gt;\n    &lt;li&gt;&lt;span class='atom'&gt;\\(1\\)&lt;/span&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;code&gt;*&lt;/code&gt;\n      &lt;ul&gt;&lt;li&gt;&lt;span class='atom'&gt;\\(2\\)&lt;/span&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;code&gt;^&lt;/code&gt;\n      &lt;ul&gt;\n        &lt;li&gt;&lt;span class='atom'&gt;\\(x\\)&lt;/span&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;span class='atom'&gt;\\(3\\)&lt;/span&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre> <p>This is displayed as follows.</p> <p> <ul> <li><code>+</code> <ul> <li>\\(1\\)</li> <li><code>*</code> <ul><li>\\(2\\)</li> <li><code>^</code> <ul> <li>\\(x\\)</li> <li>\\(3\\)</li> </ul> </li> </ul> </li> </ul> </li> </ul> </p> <p>The tree is displayed in pure HTML using unordered lists <code>&lt;ul&gt;</code> and styled with CSS via the <code>&lt;ul class='tree'&gt;</code>.  Therefore, such trees could be written in HTML by hand.</p> <p>STACK provides a function <code>disptree</code> to generate the above tree diagram from a Maxima expression.  For example, use <code>{@disptree(1+2+pi*x^3)@}</code> in castext.  This function generates a string representing the tree of that expression, and is not an inert function.</p> <p>STACK provides a function <code>treestop</code> to stop traversing the tree, and use the LaTeX of the subexpression instead.  For example in <code>disptree(1/treestop(1+x^2)=4)</code> STACK produces a tree but one node has , rather than also showing the subtree of this expression as well.  This gives the user some control over the complexity of tree and what to display.</p> <p> <ul> <li><code>=</code> <ul> <li><code>/</code> <ul> <li>\\(1\\)</li> <li>\\(1+x^2\\)</li> </ul> </li> <li>\\(4\\)</li> </ul> </li> </ul> </p> <p>Note, because of the HTML generated, and the LaTeX inside the tree HTML, you cannot embed these trees inside displayed LaTeX using <code>\\[ ... \\]</code>.  The only way to display a tree is using <code>{@disptree(....)@}</code> as an isolated mathematical expression.</p>"},{"location":"Authoring/Trees/#examples","title":"Examples","text":"<p>To see the tree structure of the binomial theorem (with <code>simp:false</code>)</p> <p><code>{@disptree(apply(\"+\",map(lambda([ex],binomial(n,ex)*x^ex), ev(makelist(k,k,0,5),simp))))@}</code></p>"},{"location":"Authoring/Trees/#educational-value-of-trees","title":"Educational value of trees","text":"<p>Seeing the explicit tree structure of an expression has significant educational value at certain moments.  E.g. students want to type <code>x=a or b</code> as an answer. The following illustrates why they need to write <code>x=(a or b)</code> or <code>x=a or x=b</code> instead!</p> <pre><code>p1:x=a nounor b;\np2:x=(a nounor b);\n</code></pre> <p>with the following castext: <code>{@p1@}: {@disptree(p1)@}  &lt;br/&gt; {@p2@}: {@disptree(p2)@}</code> (with <code>simp:false</code>).</p>"},{"location":"Authoring/Trees/#styles","title":"Styles","text":"<p>In order to correctly display list items within the <code>&lt;ul class='tree'&gt;</code> list, additional styling is needed.  All list items must be styled with one of the following tags.  The Maxima code ensures that operator nodes are styled slightly differently from atoms/terminal nodes. Some operators, such as integrals and sums, have special style rules applied.</p> <ol> <li><code>&lt;code&gt;</code> is used to display operators as html code.</li> <li><code>&lt;span class='op'&gt;</code> is used to display operators as LaTeX.</li> <li><code>&lt;span class='atom'&gt;</code> is used to display atoms and terminal nodes.</li> <li><code>&lt;span class='cell'&gt;</code> has minimal style, and is not used by the Maxima code.  This is intended for general use.</li> </ol> <p>The code does its best to respest the LaTeX output.  If you create special tex rules using <code>texput</code> you also have to tell the tree generation code to look for this rule.  STACK has a set <code>tree_texlist</code> of operators to which special rules apply.  To add a rule use the following.</p> <pre><code> texput(boo, \"\\\\diamond\");\n tree_texlist:union(tree_texlist,{\"boo\"});\n</code></pre> <p>Then, the operator <code>boo</code> will be typeset as  in tree output, as well as in tex output.  E.g. try the following castext: <code>{@disptree(boo(a,b))@}</code>.</p>"},{"location":"Authoring/Variables/","title":"Defining variables","text":"<p>There are two fields which allow you to define and manipulate computer algebra system variables. These are called the Question Variables and Feedback variables.</p> <p>The field is a string which contains a list of assignments of the form</p> <pre><code>key : value;\n</code></pre> <p>for example</p> <pre><code>p : (x-1)^3;\n</code></pre> <p>Each <code>key</code> is the name of a variable local to the question, and <code>value</code> is an expression in Maxima's language. When evaluated, this list is passed to the CAS, and evaluated in order. The value obtained for each key will be stored and used later, for example in the question marking routines. The keys need not be unique, although only the last value will be available for use later.</p> <p>These fields are known as KeyVal fields.</p>"},{"location":"Authoring/Variables/#maximas-assignments-a3","title":"Maxima's assignments <code>a:3</code>","text":"<p>Computer algebra systems each use a different syntax to denote the assignment of a value to a variable. For example, Maple and Derive use <code>:=</code>. Mathematica uses <code>=</code> or <code>:=</code>, depending on when the assignment is to take place. Maxima uses the form <code>key:value</code>, which is unusual and not intuitive. Maxima reserves <code>:=</code> to denote function definition, e.g. <code>f(x):=x^2</code>. STACK uses Maxima's assignment rules.</p>"},{"location":"Authoring/Variables/#notes","title":"Notes","text":"<ul> <li>Items are separated by either a newline or <code>;</code>.</li> <li>Adding <code>;</code> at the end of each statement is optional, but makes it easier to cut and paste into a Maxima session.  Please add these.</li> <li>If you type a string not in the form <code>key : value</code>, a variable name such as <code>dumvar3</code> will be assigned automatically to keep track of the command in the list of question variables.</li> <li>The <code>key</code> must be a simple variable name.  It must start with letters, and can contain numbers and underscore characters.</li> <li>If a student uses a variable which has been assigned a value in the question variables then the attempt will be rejected as invalid.  You can use the \"allowed words\" to enable students' expressions with question variables to be considered valid.     Hence, it is a sensible idea to use variable names which are not used as parameters in the question, or likely to occur in the student's answer. For example if you set an integration question then you should avoid using the variable <code>c</code>, otherwise students won't be able to write <code>+c</code> in the normal way to indicate a constant of integration.</li> <li>You can include C-style block comments for increased clarity, and these may appear on separate lines     e.g. <code>dice : rand(6) + 1; /* roll it! */</code></li> <li>Do not define a feedback variable with the same name as an input.  For example, if your input is <code>ans1</code> then you cannot define a feedback variable <code>ans1:exdowncase(ans1)</code>.  Choose something different, e.g. <code>ansmod1:exdowncase(ans1)</code></li> </ul>"},{"location":"Authoring/Variables/#variables-de-pregunta-question_variables","title":"Variables de Pregunta {#Question_variables}","text":"<p>The question variables are evaluated when a variant of a question is created.   The displayed forms are available to all other CASText fields and the values to other parts of the question, e.g.</p> <ul> <li>Teacher's answers in inputs are defined in terms of question variables.</li> <li>Question note.</li> <li>General feedback (also known as the worked solution).</li> <li>All fields in each of the potential response tree.</li> <li>Each input when testing the item.</li> <li>Question variables are not available to inputs when a student is validating their answer, unless special ``context variables'' are defined.</li> </ul>"},{"location":"Authoring/Variables/#context-variables","title":"Context variables","text":"<p>If the following commands appear within the question variables they will be available in every part of the question, in particular these commands will affect how students' input is validated.  This enables teachers to affect the display of the student's answer validation, and add assumptions to PRTs.</p> <ul> <li><code>orderless</code> and <code>ordergreat</code>.  These commands may only appear once each in any question.</li> <li><code>assume</code> and <code>declare</code>.</li> <li><code>texput</code>, see notes directly below.</li> </ul> <p>This collection of special variables are called \"context variables\".</p> <p>Only single texput commands are gathered into the context variables.  You cannot use other variables or other functions defined in the question variables.  So, <code>texput(blob, \"\\\\diamond\")</code> is fine, but passing a function to texput to display more complex output is not currently supported.</p> <p>For example, to redefine how the logarithm is displayed, use <code>texput(log, \"\\\\log \", prefix);</code>.</p> <p>It is possible to use an unnamed <code>lambda</code> function.  E.g. if you have a function <code>tup</code> then</p> <pre><code>texput(tup,  lambda([z], block([a,b], [a,b]:args(z), sconcat(\"\\\\left[\",tex1(a),\",\",tex1(b),\"\\\\right)\"))));\n</code></pre> <p>will display <code>tup(a,b)</code> as .</p> <p>As a more complicated example, to typeset <code>u(A_k,k,1,inf)</code> as  you can use the following:</p> <pre><code>texput(u,lambda([ex],if length(ex)&lt;4 then return(\"\\\\bigcup_{?=?}^{?} ? \") else\n    sconcat(\"\\\\bigcup_{\" ,tex1(second(ex)), \" = \", tex1(third(ex)), \"}^{\", tex1(fourth(ex)), \"} \", tex1(first(ex)))));\n</code></pre> <p>Notice in this example how we check the length of the arguments supplied to the (inert) function <code>u</code>.  If there are fewer than the required number of arguments then this texput function returns something sensible.  Without this clause you get errors, which would be unhelpful to a student trying to type this in.</p>"},{"location":"Authoring/Variables/#feedback-variables-feedback_variables","title":"Feedback variables {#Feedback_variables}","text":"<p>The feedback variables form one field in the potential response tree.</p> <p>When using the potential response tree it is often very useful to manipulate the student's answer before applying any of the Answer tests. This gives the opportunity to perform sophisticated mathematical operations.</p> <p>Before each answer test is applied the following list of variables is assembled and evaluated</p> <ol> <li>The values of the question variables.</li> <li>The values of each inputs.</li> <li>The feedback variables.</li> </ol> <p>The values of the evaluated feedback variables can be used as expressions in the answer tests and in the feedback.</p> <p>Note, you cannot redefine the value of an input as a key in the feedback variables.  e.g. you cannot have something like <code>ans1:ans1+1</code>. You must use a new variable name.  When an answer test is evaluated, if the SA or TA field is exactly the name of an input then the raw student's value is used, and not the value from the feedback variables. This is because some of the answer tests require exactly what is typed (e.g. trailing zeros) and not the value through the CAS.  To avoid this problem authors must use new variable names to distinguish between the actual input typed by the student and any calculated value.</p>"},{"location":"Authoring/Variables/#creating-variable-names","title":"Creating variable names","text":"<p>Teachers may not use the Maxima 'concat' command, so you cannot create variable names of your own using code of the following form.</p> <pre><code>vars:makelist(concat(x,k),k,1,5);\n</code></pre> <p>Instead use</p> <pre><code>vars0:stack_var_makelist(k, 5);\n</code></pre> <p>If you want to start numbering at 1 instead of 0, use</p> <pre><code>vars1:rest(stack_var_makelist(k, 6));\n</code></pre>"},{"location":"Authoring/Workflow/","title":"Question authoring workflow","text":"<p>This document contains suggestions for effective question authoring workflow, especially when working collaboratively.</p>"},{"location":"Authoring/Workflow/#1-minimal-working-question","title":"1. Minimal working question","text":"<p>The first task is to create a minimal working question.  At the outset</p> <ol> <li>add minimal question variables to prevent repetition of information in the \"Model answer\" field of the inputs, and PRT nodes;</li> <li>use question variables for key information in the question, especially if you intend to create random variants later;</li> <li>add minimal feedback in the PRTs.</li> </ol> <p>It is helpful if the question name is meaningful and consistent in a course.  E.g. it can match up to course, section and topic.  E.g. <code>2018ILA-Wk3-Q2: equation of plane</code>.  This makes finding questions later much easier.</p> <p>Create any multi-parts needed, but we recommend at this stage not to add random variants.  Random variants will be added later.</p> <p>If you already have a good idea of common mistakes, misconception, or intended feedback then you can use the potential response trees to test for this.  This can be added now, however it might be better to wait until step 5 below to add feedback.</p> <p>Consider</p> <ol> <li>Is the phrasing of the question clear to students?</li> <li>Will students know how to input an answer?</li> <li>Could a \"syntax hint\" or message in the question help?</li> <li>Can \"validation\" help, e.g. by telling students how many significant figures are expected?  Advanced users might consider bespoke validation functions.</li> </ol>"},{"location":"Authoring/Workflow/#2-add-basic-question-tests","title":"2. Add basic question tests","text":"<p>It is important to test questions for quality control, as described in the testing documentation.  Navigate to the \"STACK question dashboard\" page by following the link at the top of the question editing page, or on the preview page.  At this stage the preview question page will warn \"Question is missing tests or variants.\"</p> <p>We recommend the following two test cases:</p> <ol> <li>Ensure what you have given in the inputs as the \"Model answer\" is really awarded full marks by your PRT.</li> <li>Ensure that not every answer is given full marks!</li> </ol> <p>The STACK question dashboard makes it relatively easy to check the mode answer:  press the button marked \"Add test case assuming teacher's answer gets full marks\".  You will have to think about an answer which is wrong, and the format of this will depend on the types of inputs used.</p>"},{"location":"Authoring/Workflow/#3-write-a-robust-worked-solution","title":"3. Write a robust worked solution","text":"<p>From the STACK question dashboard follow the link to \"Send general feedback to the CAS\".  This is a special page, only available to the STACK question type.  The page is loaded with the question variables, model answers, and the general feedback (worked solution) fields.  The page allows you to immediately preview the general feedback, edit variables, and then preview the instantiated general feedback.</p> <p>Add in further question variables, calculations etc. as needed and use these in the worked solution.  An effective way to create equivalent random variants is to ensure invariance of the worked solution.  If you cannot create a single worked solution for all variants then you can consider using question blocks, or separate questions and selecting questions in the quiz.  A single question need not be the most general possible.</p> <p>Once the you are happy with the general feedback press the \"Save back to question\" button. This replaces the question variables and general feedback.  Be aware that if you still have the edit form open, and you subsequently save the edit form again, then you will replace your question variables and general feedback with the contents of the edit form.</p>"},{"location":"Authoring/Workflow/#4-add-random-variants","title":"4. Add random variants","text":"<p>If you need to do so, at this point add in random variants.</p> <ol> <li>Edit the question variables to add in randomisation (if you did not do so in step 3.)</li> <li>Add a question note.</li> <li>Return to the Stack question dashboard and deploy variants.  The STACK question dashboard link on the edit form will change to \"No variants of this question have been deployed yet.\" to remind you to deploy variants.</li> <li>Confirm any question tests added in step 2 continue to work for all variants.  There is a button \"Run all tests on all deployed variants (Slow)\" to help you check this.</li> </ol>"},{"location":"Authoring/Workflow/#5-add-better-feedback","title":"5. Add better feedback","text":"<p>Add in better feedback to the question.</p> <p>Feedback is likely to be effective when it is specific in helping student improve on the task.</p> <p>It is sensible to use the question variables to create variables for each answer which will trigger feedback.  This answer can be based on any random variables, and can be used both in the potential response tree and to create a test case to confirm the feedback and any partial credit is really awarded for each random variant.</p> <p>In theory one test case should be created for each anticipated response which gets feedback.  In very complex PRTs this is sometimes not possible/practical.</p> <p>When updating a PRT at this stage we would expect test cases added in step 2 to fail.  This is reassuring as it indicates something significant has changed!  You can easily confirm the new behaviour of the testcase is now what is intended.</p>"},{"location":"Authoring/Workflow/#6-use-data-obtained-from-one-cycle-of-attempts-by-students","title":"6. Use data obtained from one cycle of attempts by students.","text":"<p>Rather than second-guess what students might get wrong it is more effective to look at what they do.  See the section on reporting for documentation on how to review students' answers.  When feedback/marks are delayed (e.g. online exam) this can be done between students taking the assessment and results being released.  If feedback/marks are immediate then better quality feedback can still be usefully added later.</p> <ol> <li>Did the question operate correctly?  E.g. were correct answers correctly marked, and incorrect answers rejected?</li> <li>What did students get wrong?  Is there a reason for these answers such as a common misconception?  If so, add nodes to the PRTs to test for this and improve feedback.</li> <li>Add further question tests to test each misconception.</li> <li>Is there any significant difference between random variants?</li> </ol>"},{"location":"Authoring/Workflow/#authoring-collaboratively","title":"Authoring collaboratively","text":"<p>The question description, and descriptions within PRT nodes, can be used to describe intentions and problems to other team members.  These fields are only available question authors, and are never shown to students.</p> <p>You can use the <code>[[todo]]...[[/todo]]</code> question block to indicate unfinished questions.  Authors with the capability to use the \"STACK diagnostic tools\" can create a list of questions containing this block, making it easy for them to locate questions needing attention.</p> <p>You can use the <code>[[escape]]...[[/escape]]</code> and <code>[[comment]]...[[comment]]</code> blocks to remove broken content which is preventing a question from being saved.  Maxima code can be removed with code comments: <code>/* .... */</code>.</p>"},{"location":"Authoring/Answer_Tests/","title":"Answer tests","text":"<p>An answer test is used to compare two expressions to establish whether they satisfy some mathematical criteria. The prototype test is to establish if they are algebraically equivalent.  Informally, the answer tests have the following syntax</p> <pre><code>[Errors, Result, FeedBack, Note] = AnswerTest(StudentAnswer, TeacherAnswer, [Opt], [Raw])\n</code></pre> <p>Where,</p> Variable Description <code>StudentAnswer</code> A CAS expression, assumed to be the student's answer. <code>TeacherAnswer</code> A CAS expression, assumed to be the model answer. <code>Opt</code> If needed, any options which the specific answer test provides. For example, a variable, the accuracy of the numerical comparison, number of significant figures. <code>Raw</code> If needed, the raw string of the student's input to ensure, e.g. Maxima does not remove trailing zeros when establishing the number of significant figures. <p>Since the tests can provide feedback, tests which appear to be symmetrical, e.g. Algebraic Equivalence, really need to assume which expression belongs to the student and which to the teacher.</p> Variable Description Errors Hopefully this will be empty! Result is either <code>true</code>, <code>false</code>, or <code>fail</code> (which indicates a failure of the test).  This determines which branch of the tree is traversed. FeedBack This is a text string which is displayed to the student. It is CASText which may depend on properties of the student's answer. Note This is a text string which is used for Reporting. Each answer note is concatenated with the previous notes and any contributions from the branch. <p>The feedback is only shown to a student if the quiet option is set to 'no'.  We provide a static page giving the outcome of all answer test results.  These pages are automatically generated by the STACK unit tests and help illustrate, by examples, the exact behaviour of the tests.  These pages provide examples of feedback provided by each test.</p>"},{"location":"Authoring/Answer_Tests/#the-tests","title":"The tests","text":"<p>Documentation is grouped as follows.</p> <ol> <li>Equivalence, e.g. algebraic equivalence (many variations).</li> <li>AlgEquiv</li> <li>AlgEquivNouns</li> <li>SubstEquiv</li> <li>CasEqual</li> <li>SameType</li> <li>SysEquiv</li> <li>Syntactic form, e.g. checking the student's expression is in factored form.</li> <li>FacForm</li> <li>PartFrac</li> <li>SingleFrac</li> <li>CompSquare</li> <li>Expanded</li> <li>LowestTerms</li> <li>Rules-based tests, e.g. equivalence up to associativity and commutativity and advanced bespoke tests.</li> <li>EqualComAss</li> <li>EqualComAssRules</li> <li>Numerical tests including accuracy, e.g. is written to 3 decimal places.</li> <li>NumRelative</li> <li>NumAbsolute</li> <li>NumSigFigs</li> <li>NumDecPlaces</li> <li>NumDecPlacesWrong</li> <li>SigFigsStrict</li> <li>GT</li> <li>GTE</li> <li>Scientific, e.g. for dealing with dimensional numerical quantities.</li> <li>Units</li> <li>UnitsStrict</li> <li>UnitsRelative</li> <li>UnitsStrictRelative</li> <li>UnitsAbsolute</li> <li>UnitsStrictAbsolute</li> <li>Calculus, e.g. for symbolic integration questions.</li> <li>Diff</li> <li>Int</li> <li>String match tests and regular expressions.</li> <li>String</li> <li>StringSloppy</li> <li>Levenshtein</li> <li>SRegExp</li> <li>Other specific subject tests, e.g. sets, logical expressions.</li> <li>Sets</li> <li>Equiv</li> <li>EquivFirst</li> <li>PropLogic</li> </ol>"},{"location":"Authoring/Answer_Tests/#pre-pocessing-students-answers","title":"Pre-pocessing students' answers","text":"<p>You can apply functions before applying the tests using the feedback variables.  For example, to ignore case sensitivity you can apply the Maxima commands defined by STACK <code>exdowncase(ex)</code> to the arguments, before you apply one of the other answer tests. However, some tests really require the raw student's input.  E.g. the numerical decimal place test really requires the name of an input as the <code>SAns</code> field.  If you manipulate an input, you may end up dropping trailing zeros and ruining the number of decimal places in the expression.  STACK will warn you if you need to use the name of an input.</p>"},{"location":"Authoring/Answer_Tests/#offline-testing","title":"Offline testing","text":"<p>Sometimes it is very useful to work offline using the desktop version of Maxima.  How to do this is explained in the STACK-maxima-sandbox.</p> <p>The Maxima code for each answer test is the name of the test with <code>AT</code> in front.  E.g. the algebraic equivalence <code>AlgEquiv</code> test is called in the sandbox as <code>ATAlgEquiv</code>.  E.g. to test two expressions in the sandbox type</p> <pre><code>ATAlgEquiv((x-1)*(x+1), x^2-1);\n</code></pre> <p>In the STACK question dashboard, and some of the reporting features, you may see expressions such as the above.  These can be copied into Maxima to help test individual questions.</p>"},{"location":"Authoring/Answer_Tests/Calculus/","title":"Calculus answer tests","text":"<p>There are two answer tests for dealing with calculus problems.</p>"},{"location":"Authoring/Answer_Tests/Calculus/#diff","title":"Diff","text":"<p>This test is a general differentiation test: it is passed if the arguments are algebraically equivalent, but gives feedback if it looks like the student has integrated instead of differentiated. The first argument is the student's answer. The second argument is the model answer. The answer test option must be the variable with respect to which differentiation is assumed to take place.</p> <p>There are edge cases, particularly with  where differentiation is indistinguishable from integration.  You may need to use the \"quiet\" option in these cases.</p>"},{"location":"Authoring/Answer_Tests/Calculus/#int","title":"Int","text":"<p>This test is designed for a general indefinite integration question: it is passed if both the arguments are indefinite integrals of the same expression. The first argument is the student's answer. The second argument is the model answer. The answer test option needs to be the variable with respect to which integration is assumed to take place, or a list (see below).</p> <p>Getting this test to work in a general setting is a very difficult challenge. In particular, the test assumes that the constant of integration is expressed in a form similar to , although which variable used is not important.</p> <p>The Int test has various additional options.</p> <p>The question author must supply these options in the form of a list <code>[var, opt1, ...]</code>.  The first argument of this list must be the variable with respect to which integration is taking place.  </p> <p>If one of the <code>opt?</code> is exactly the token <code>NOCONST</code> then the test will condone a lack of constant of integration.  That is, if a student has missed off a constant of integration, or the answers differ by a numerical constant, then full marks will be awarded.  Weird constants (e.g. ) will still be flagged up.</p> <p>If one of the <code>opt?</code> is exactly the token <code>FORMAL</code> then the test will condone the formal derivative of the student's answer matching that of the teacher.  This is useful in examples such as  vs  where effectively the constant of integration differs by a numerical constant.  Note, if you use the <code>FORMAL</code> option then by definition you will accept a missing constant of integration!</p> <p>The answer test architecture only passes in the answer to the test.  The question is not available at that point; however, the answer test has to infer exactly which expression, including the algebraic form, the teacher has set in the question. This includes stripping off constants of integration and constants of integration may occur in a number of ways, e.g. in logarithms. In many cases simply differentiating the teacher's answer is fine, in which case the question author need not worry.  Where this does not work, the question author will need to supply the expression from the question in the right form as an option to the answer test.  This is done simply by adding it to the list of options.</p> <pre><code>[x, x*exp(5*x+7)]\n</code></pre> <p>The test cannot cope with some situations.  Please contact the developers when you find some of these.  This test is already rather overloaded, so please don't expect every request to be accommodated!</p> <p>This test, in particular, has a lot of test cases which really document what the test does in detail.  </p> <p>The issue of  vs   is a particular challenge. What mark would you give a student who integrated  If the teacher uses  in their answer then the student is also expected to use the absolute value.  The test is currently defined in such a way that if the teacher uses  in their answer, then they would expect the student to do so.  If they don't use the absolute value function, then they don't expect students to but will accept this in an  answer.</p> <p>For example, if the teacher's answer is  (i.e. no absolute value) then all the following are considered to be correct.  </p> <p>If the teacher's answer is  (i.e. with absolute value) then all the following are considered to be correct.  Now, the following are rejected as incorrect, as the studnet should have used  </p> <p>Note that STACK sets the value of Maxima's <code>logabs:true</code>, which is not the default in Maxima.  This has the effect of adding the absolute value funtion when <code>integrate</code> is used.</p> <p>In the case of partial  fractions where there are more than one term of the form  then  we insist the student is at least consistent.  If the teacher has any  then the student must use  in all of them.  If the teacher has no  (i.e. just things like ) then the  student must have all or none. </p>"},{"location":"Authoring/Answer_Tests/Equivalence/","title":"Equivalence","text":""},{"location":"Authoring/Answer_Tests/Equivalence/#equivalence-answer-tests","title":"Equivalence answer tests","text":"<p>The prototype test is to establish if two expressions are algebraically equivalent.  This page documents this, and similar, equivalence tests.</p> <p>A crucial component in the assessment process the ability to decide if two expressions are equivalent.  It turns out there are many useful senses when trying to assess students' answers.</p> <p>Let us assume a teacher has asked a student to expand out  and the response they have from one student is . This is \"correct\" in the sense that it is algebraically equivalent to  and is in expanded form (actually two separate mathematical properties) but \"incorrect\" in the sense that the student has not gathered like terms by performing an addition . What about a response ?  This is, arguably, better in the sense that the terms are gathered, but the student here did not order the terms to write their expression in canonical form. Hence, we need quite a number of different answer tests to establish equality in various senses of the word.</p> <p>This list is in approximate order of the size of the equivalence classes from most to least restrictive.</p> Test Description (see below for more details) CasEqual Are the parse trees of the two expressions equal? EqualComAss Are they equal up to commutativity and associativity of addition and multiplication, together with their inverses minus and division? EqualComAssRules Are they equal up to commutativity, associativity and with optional rules such as ? AlgEquivNouns Are they algebraically equivalent, preserving noun forms of operators, e.g. <code>diff</code>? AlgEquiv Are they algebraically equivalent? SubstEquiv Can we find a substitution of the variables of  into  which renders  algebraically equivalent to ? SameType Are the two expressions of the same types of object?  Note that this test works recursively over the entire expression."},{"location":"Authoring/Answer_Tests/Equivalence/#algequiv-algequiv","title":"AlgEquiv {#AlgEquiv}","text":"<p>This is the most commonly used test.  The pseudo code</p> <pre><code>If\n  simplify(ex1-ex2) = 0\nthen\n  true\nelse\n  false.\n</code></pre> <p>This test will work with a variety of types of object of mathematical objects, including lists, sets, equations, inequalities and matrices.</p> <ul> <li>This test disregards whether simplification is switched on, it always fully simplifies all its arguments.</li> <li>Use <code>AlgEquiv(predicate(ex),true)</code> with predicate functions.</li> </ul> <p>Note: exactly what it does depends on what objects are given to it.  In particular the pseudo code above only applies to expressions.  We cannot subtract one list or set from another, so we have to use other tests.</p> <p>For sets, the CAS tries to write the expression in a canonical form.  It then compares the string representations these forms to remove duplicate elements and compare sets.  This is subtly different from trying to simplify the difference of two expressions to zero.  For example, imagine we have  and .  One canonical form is to expand out both sides.  While this work in principal, in practice this is much too slow for assessment. </p> <p>Currently we do check multiplicity of roots, so that  and  are not considered to be equivalent.  Similarly  is not .  This is a long-standing issue and we would need a separate test to ignore multiplicity of roots.</p> <p>Currently,  and  are considered to be different.  If you want these to be considered the same, you need to write them in a canonical form.   Instead of passing in just the sets, use the answer test to compare the following.</p> <pre><code>ev(radcan({-sqrt(2)/sqrt(3)}),simp);\nev(radcan({-2/sqrt(6)}),simp);\n</code></pre> <p>Why doesn't the test automatically apply <code>radcan</code>?  If we always did this, then  and  would be expanded out, which would break the system.  Since, in a given situation, we know a lot about what a student is likely to answer we can apply an appropriate form.   There isn't one rule which will work here, unfortunately.</p> <p>There are also some cases which Maxima can't establish as being equivalent.  For example   As Maxima code</p> <pre><code>(sqrt(108)+10)^(1/3)-(sqrt(108)-10)^(1/3)\n</code></pre> <p>This is Cardano's example from Ars Magna, but currently the AlgEquiv test cannot establish these are equivalent.  There are some other examples in the test suite which fail for mathematical reasons.  In cases like this, where you know you have a number, you may need to supplement the AlgEquiv test with another numerical test.</p> <p>We recommend you do not use algebraic equivalence testing for floating point numbers.  Instead use one of the numerical tests.  Examples of why algebraic equivalence fails when you might expect it to pass, e.g. <code>ATAlgEquiv(452,4.52*10^2)</code> (Maxima 5.44.0, November 2022), are given in the documentation on numbers.</p>"},{"location":"Authoring/Answer_Tests/Equivalence/#equalcomass","title":"EqualComAss","text":"<p>A particularly useful test is to establish that two expressions are equal up to commutativity and associativity of addition and multiplication, together with their inverses minus and division.  For example, under this test . Please see the separate documentation.</p>"},{"location":"Authoring/Answer_Tests/Equivalence/#algequivnouns","title":"AlgEquivNouns","text":"<p>Algebraic equivalence evaluates as much as possible, to try to establish equivalence.  This means, e.g. that <code>diff(y,x)</code> is always evaluated to .  If you use AlgEquivNouns then noun forms of operators are not evaluated, so <code>diff(y,x)</code> will be evaluated but <code>'diff(y,x)</code> and <code>noundiff(y,x)</code> will not.</p> <p>Even with this answer test <code>noundiff(y,x)</code> and <code>noundiff(y(x),x)</code> are different!</p> <p>Note, that logic nouns such as <code>nounand</code> are still evaluated by this test!  Sorry, but logical noun functions are dealt with internally in a very different way than Maxima noun functions such as <code>'diff(y,x)</code> and the parallel <code>noundiff</code>.  Use a different test, such as <code>EqualComAss</code>.</p> <p>It was the need to selectively evaluate some nouns but not others that led to the development of the rule-based answer tests to deal with the need for these options in a coherent way.</p>"},{"location":"Authoring/Answer_Tests/Equivalence/#casequal","title":"CasEqual","text":"<p>The CAS returns the result of the simple Maxima command</p> <pre><code>if StudentAnswer=TeacherAnswer then true else false.\n</code></pre> <p>There is no explicit simplification here (unlike AlgEquiv). This test always assumes simplification is off, i.e. <code>simp:false</code>, regardless of any question settings.  If this is too strict, use <code>ev(ex,simp)</code> in the arguments to simplify them explicitly first. When simplification is off this test effectively tests whether the parse trees are identical. </p> <p>Please note, the behaviour of this test relies on the internal representation of expressions by Maxima, rather than an explicit mathematical property such as \"equivalence\".  Explicit properties should be tested in preference to using this test!</p>"},{"location":"Authoring/Answer_Tests/Equivalence/#substequiv","title":"SubstEquiv","text":"<p>Can we find a substitution of the variables of  into  which renders  algebraically equivalent to ?</p> <ul> <li>Because we have to test every possibility, the algorithm is factorial in the number of variables.  For this reason, the test only works for 4 or fewer variables.</li> <li>This test makes a substitution then uses AlgEquiv.</li> <li>If you add an answer test option (not required) in the form of a list of variables, these variables will be \"fixed\" during the comparison.  The list of variable is removed from both lists of the teacher's and student's variable lists before any comparison.</li> <li><code>ATSubstEquiv(x=A+B, x=a+b)</code> will match with <code>[A = a,B = b,x = x]</code>.</li> <li><code>ATSubstEquiv(x=A+B, x=a+b, [x])</code> will match with <code>[A = a,B = b]</code>.</li> <li><code>ATSubstEquiv(y=A+B, x=a+b, [x])</code> will not match since <code>x</code> in the teacher's answer is fixed here, but does not occur in the student's answer.</li> </ul> <p>The optional argument, which must be a list of variables, is useful if you want to establish that a student has used arbitrary constants in  but make sure  really stays as .</p>"},{"location":"Authoring/Answer_Tests/Equivalence/#sysequiv","title":"SysEquiv","text":"<p>The SysEquiv (system equivalence) test takes in two lists of polynomial equations in any number of variables and determines whether the two systems have the same set of solutions. This is done using the theory of Grobner bases to determine whether the ideals generated by the two systems are equal. As the test allows for polynomials in several variables, it can cope with the intersections of the conic sections, as well as a large number of geometrically interesting curves.</p> <ul> <li>This test does not check if the student actually \"fully solved\" the equations!  E.g.  under this test.</li> <li>This test disregards whether simplification is switched on, it only simplifies its arguments where required. This allows the test to list equations in feedback that the student has erroneously included in their system.</li> <li>You can allow the student to include \"redundant assignments\".  For example, if you have <code>[90=v*t,90=(v+5)*(t-1/4)]</code> but the student has <code>[d=90,d=v*t,d=(v+5)*(t-1/4)])</code> then the systems are not equivalent, becuase the student has an extra variable.  Use <code>stack_eval_assignments</code> to eliminate explicit assignments of the form <code>var=num</code> and evaluate the other expression in this context.</li> </ul>"},{"location":"Authoring/Answer_Tests/Form/","title":"Algebraic Form","text":"<p>Often, we wish to establish if the student's expression has the correct form. For example, consider the following written forms of .</p> <p> </p> <p>Each of these might be considered to be factored.  Establishing <code>ex</code> is factored is not the same as comparing it with <code>factor(ex)</code>.</p>"},{"location":"Authoring/Answer_Tests/Form/#facform-factorisation-of-polynomials","title":"FacForm: factorisation of polynomials","text":"<p>This test checks (i) that SAns is algebraically equivalent to TAns , and (ii) that SAns is \"factored\" over the rational numbers. The answer test expects the option to be the variable, which is needed to generate feedback. If the answer is incorrect, quite detailed feedback is provided.</p> <p>An expression is said to be factored if it is written as a product of powers of distinct irreducible factors. Strictly speaking, in establishing that an expression is in factored form, we might not even care whether the terms in the product are fully simplified, as long as they are irreducible. Irreducibility on the other hand means we can't find further factors, but here we need some care. Consider .</p> <ol> <li>Any non-trivial factorization, e.g. .</li> <li>A factorization into irreducible factors over the integers/rational numbers, i.e. .</li> <li>A factorization into terms irreducible over the reals, i.e. .</li> <li>A factorization into irreducible polynomials over the Gaussian integers, with  allowed, i.e. .</li> <li>A factorization over the complex numbers, where the factor  would also be split into the four terms .</li> </ol> <p>In elementary teaching, meaning 4. is unlikely to occur. Indeed, we might take this example to represent factoring over any extension field of the rational numbers.  We normally seek to establish that the factors are irreducible over the integers (which is equivalent to irreducibility over the rational numbers) or the reals.  But, unlike a canonical form, we are not particularly interested in the order of the terms in this product, or the order of summands inside these terms.</p> <p>The FacForm test establishes that the expression is factored over the rational numbers.  If the coefficients of the polynomial are all real, at worst you will have quadratic irreducible terms.  There are some delicate cases such as:  vs    and  vs , which this test will cope with.</p> <p>It is also possible a student will do something which is just plain odd, e.g.  can be rewritten as  which is a \"product of powers of distinct irreducible factors\" but not acceptable to most teachers.  The student's answer must also be a polynomial in the variable (using <code>polynomialp</code> as the test predicate).</p>"},{"location":"Authoring/Answer_Tests/Form/#factorisation-of-integers","title":"Factorisation of integers","text":"<p>If you would like to ask a student to factor a polynomial, then do not use the <code>FacForm</code> answer test.  The <code>FacForm</code> answer test is designed to use with polynomials.</p> <p>Instead, switch off simplification and define</p> <pre><code>ta:factor(12);\n</code></pre> <p>and use <code>EqualComAss</code> as the answer test.</p> <p>Note however that EqualComAss does not think that <code>2^2*3</code> and <code>2*2*3</code> are the same!</p>"},{"location":"Authoring/Answer_Tests/Form/#partfrac-partial-fractions","title":"PartFrac: partial fractions","text":"<p>This test checks (i) that SAns is algebraically equivalent to TAns , and (ii) that SAns is in \"partial fraction form\". The option must be the variable.</p> <p>To help provide feedback to students on how to calculate the partial fraction form we have special function <code>poly_about_a(ex, v, a)</code> which writes the polynomial <code>ex</code> in variable <code>v</code> about the point <code>v=a</code>.  E.g.  when written about . This is basically the complete finite Taylor series for the polynomial about .  The form \"about \" can readily be calculated by \"shift-expand-shift\" and without derivatives.  It is, in my view, somewhat neglected. See doi:10.1017/S0025557200003569 for applications to a limit-free derivative for polynomials.</p> <p>Here, e.g. if we have the question variables</p> <pre><code>n1:4;\np1:(9*y-8)/(y-n1)^2\np2:poly_about_a(num(p1), y, n1);\np3:map(lambda([ex], ex/denom(p1)), p2);\n</code></pre> <p>then feedback of the following form</p> <pre><code>You need to do more work on the term {@p1@}.\nIn particular, write the numerator {@num(p1)@} about the point {@y=n1@}.\nThis gives {@num(p1)=p2@}, which allows us to complete the partial fraction form as follows:\n\\[ {@p1@} = \\frac{ {@p2@} }{ {@denom(p1)@} } = {@p3@} = {@ev(p3,simp)@}. \\]\n</code></pre> <p>is rendered as:</p> <p>You need to do more work on the term . In particular, write the numerator  about the point . This gives , which allows us to complete the partial fraction form as follows:  </p>"},{"location":"Authoring/Answer_Tests/Form/#singlefrac-single-fractions","title":"SingleFrac: Single fractions","text":"<p>This test checks (i) that SAns is algebraically equivalent to TAns , and (ii) that SAns is written as a single fraction. Notes</p> <ul> <li>This test works at the top level, making sure the expression as a whole is a single fraction.</li> <li>if you also want this expression written in lowest terms, then this is quite a separate test.  You need to first confirm you have a single fraction then add a new potential response. One way is to use the ../CAS/Predicate functions <code>lowesttermsp(ex)</code> and compare the result with <code>true</code> with the AlgEquiv test.</li> <li>The algebraic equivalence check is for convenience.  If you only want to check an expression is a single fraction make , i.e. ATSingleFrac(ex,ex) will do.</li> </ul>"},{"location":"Authoring/Answer_Tests/Form/#lowestterms","title":"LowestTerms","text":"<p>This test checks that all numbers written in the first expression are in lowest terms and that the denominator is clear of surds and complex numbers.</p> <ul> <li>if you want to check whether a rational polynomial is written in lowest terms, this is not the test to use.  Instead, apply the predicate functions <code>lowesttermsp</code> to the expression.</li> <li>the second argument to this function is ignored, i.e. this test does not confirm algebraic equivalence.  You might as well use 0 here.</li> </ul>"},{"location":"Authoring/Answer_Tests/Form/#expanded","title":"Expanded ###","text":"<p>Confirms SAns is equal to <code>expand(SAns)</code>.  Note, the second argument to this answer test is not used (but must be non-empty).  Note with this test that an expression such as  is not considered to be expanded, and this test will return false.</p>"},{"location":"Authoring/Answer_Tests/Form/#completedsquare","title":"CompletedSquare","text":"<p>This test checks (i) that SAns is algebraically equivalent to TAns , and (ii) that SAns is in \"completed square form\". The option must be the variable.</p>"},{"location":"Authoring/Answer_Tests/Numerical/","title":"Numerical answer tests","text":"<p>This page is dedicated to answer tests which establish numerical precision.</p> <p>With these tests it is essential that the SAns field is exactly the name of the input.  For example, if your input is <code>ans1</code> then the SAns field of the answer test must only be <code>ans1</code>. The reason for this is that Maxima changes the display of floating-point numbers to remove or add trailing zeros.  These answer tests must take the value typed at the input, not the value passed through the CAS, otherwise digits will be changed.  This problem does not apply to the teacher's answer because we do not test whether the teacher has supplied the correct number of trailing zeros.  Care will be needed to display the correct number of significant figures with trailing zeros elsewhere in the question though.</p> <p>Further information and examples are given in the page on numbers and scientific units. </p> <p>All software have limitations on the extent to which they can robustly deal with numerical quantities.  Maxima, PHP (and hence STACK) are no exceptions.  Integers are essentially unproblematic, and CAS will support (almost) arbitrary precision integers.  Floating-point representations of real numbers are more difficult, and a classic discussion of how to represent continuous quantities in finite state machine is given by D. Goldberg. What every computer scientist should know about floating-point arithmetic. Computing Surveys, 23(1):5-48, March 1991. </p>"},{"location":"Authoring/Answer_Tests/Numerical/#numrelative-numabsolute","title":"NumRelative &amp; NumAbsolute","text":"<p>The option to these tests is a tolerance.  The default tolerance is 0.05.</p> <ul> <li>Relative: Tests whether <code>abs(sa-ta) &lt;= opt * abs(ta)</code> </li> <li>Absolute: Tests whether <code>abs(sa-ta) &lt; opt</code> </li> </ul> <p>NumRelative  and NumAbsolute can also accept lists and sets.  Elements are automatically converted to floats and simplified (i.e. <code>ev(float(ex),simp)</code>) and are compared to the teacher's answer using the appropriate numerical test and accuracy.  A uniform accuracy must be used.  With lists the order is important, but with sets it is not.  Checking whether two sets are approximately equal is an interesting mathematical problem....</p>"},{"location":"Authoring/Answer_Tests/Numerical/#gt-gte","title":"GT &amp; GTE","text":"<p>\"Greater than\" or \"Greater than or equal to\".  Both arguments are assumed to be numbers. The Answer test fully simplifies the SAns and converts this to a float if possible. This is needed to cope with expressions involving sums of surds,  etc.  Therefore, do expect some numerical rounding which may cause the test to fail in very sharp comparisons.</p>"},{"location":"Authoring/Answer_Tests/Numerical/#significant-figure-testing","title":"Significant figure testing","text":"<p>The significant figures of a number are digits that carry meaning. This includes all digits except</p> <ul> <li>leading zeros;</li> <li>trailing zeros when they are only placeholders to indicate the scale of the number.</li> </ul> <p>To establish the number of significant figures which arise from a calculation it is necessary to know the number of significant figures involved in the floating-point numbers used in the calculation.  This causes a problem in assessment when we have a numerical expression, such as , and seek to infer the number of significant figures.  Does this have one significant figure or three?</p> <p>The following cases illustrate the difficulties in inferring the number of significant digits from only the written form of a number.</p> <ul> <li>  has exactly  significant digits.</li> <li>  has at least  and maybe even  significant digits.</li> <li>  has exactly  significant digits.</li> <li>  has exactly  significant digits.</li> <li>  has  significant digit.</li> <li>  has at least  and maybe even  significant digits.</li> <li>  has exactly  significant digit.</li> </ul> <p>Therefore, with trailing zeros there are a number of cases in which it is not possible to tell from the written form of an expression precisely how many significant digits are present in a student's answer.  This creates a problem for automatic assessment.</p> <p>To avoid this ambiguity some scientists adopt a convention where  has exactly one significant digit.  To express one hundred to three significant digits it is necessary to use .  This conforms to the specifications in international standards and it certainly avoids ambiguity but in many assessment situations teachers do not want to enforce such strict rules.  STACK seeks to provide tools for both situations:  very strict enforcement of the significant figures rules (needed when teaching significant figures of course!) and a more liberal situation in which STACK will accept an input of  when the teacher wanted 1, 2 or 3 significant figures.</p> <p>In addition to the number of significant figures used to express the number, a teacher will also want to establish that the student actually has the right number!  In more liberal situations a teacher will condone an error in the last place.  E.g. they will accept an answer written to four significant figures, but where only three are actually correct.</p>"},{"location":"Authoring/Answer_Tests/Numerical/#strictsigfigs","title":"StrictSigFigs","text":"<p>This test enforces the strict rules of significant figures.  It does not check for numerical precision and looks only at surface features of the number representation.</p> <p>The option is the required number of significant figures.  This must be an integer only.</p>"},{"location":"Authoring/Answer_Tests/Numerical/#numsigfigs","title":"NumSigFigs","text":"<p>This is a more liberal test.  Primarily it checks numerical accuracy, but it also checks the number of significant figures in a liberal way.  That is to say, it makes sure that the number of significant figures specified by the teacher lies within the range inferred from the student's answer.  For example, this test will accept  as being correctly written to 1, 2 or 3 significant figures.  If you want to enforce the precise rules use the <code>StrictSigFigs</code> test.</p> <p>Tests </p> <ol> <li>whether the student's answer contains <code>opt</code> significant figures, and</li> <li>whether the answer is accurate to <code>opt</code> significant figures.   </li> </ol> <p>If the option is a list <code>[n,m]</code> then we check the answer has been written to <code>n</code> significant figures, with an accuracy of up to <code>m</code> places.  If the answer is too far out then rounding feedback will not be given.   A common test would be to ask for  to permit the student to enter the last digit incorrectly.</p> <p>If the options are of the form <code>[n,0]</code> then only the number of significant figures in <code>sa</code> will be checked.  This ignores any numerical accuracy and completely ignores the second argument to the function.  Note, that this test is liberal in establishing the number of significant figures.  For strict enforcement of the rules, use <code>StrictSigFigs</code> instead.</p> <p>If the options are of the form <code>[n,-1]</code> then the test checks the student has at least <code>n</code> significant figures in the answer, and that numerical accuracy is correct.</p> <p>This test only supports numbers where .  Please see the notes about numerical rounding for the differences between rounding. In <code>NumSigFigs</code> the teacher's answer will be rounded to the specified number of significant figures before a comparison is made.</p>"},{"location":"Authoring/Answer_Tests/Numerical/#numdecplaces","title":"NumDecPlaces","text":"<p>Tests (i) whether the student's answer is equivalent to the teacher's and (ii) is written to <code>opt</code> decimal places.  The option, which must be a positive integer, dictates the number of digits following the decimal separator <code>.</code>.  Note that trailing zeros are ''required'', i.e. to two decimal places you must write <code>12.30</code> not just <code>12.3</code>.  The test rounds the numbers to the specified number of decimal places before trying to establish equivalence.</p>"},{"location":"Authoring/Answer_Tests/Numerical/#numdecplaceswrong","title":"NumDecPlacesWrong","text":"<p>Tests if the student appears to have the decimal point in the wrong place.  For example, <code>3.141</code> and <code>31.41</code> will be considered the same under this test.  <code>opt</code> is the number of places to consider, from the most significant.</p> <p>This test condones any lack of trailing zeros.  Use other tests to establish if a student has sufficient places.</p>"},{"location":"Authoring/Answer_Tests/Numerical/#other-issues","title":"Other issues","text":"<p>A teacher may wish to see if a student's answer is incorrect only by orders of magnitude.  E.g. a student answers  instead of .  To do this, a teacher can check whether  of the ratio of two expressions is an integer, e.g.</p> <pre><code> integerp(rat(float(log(sa/ta)/log(10))))\n</code></pre> <p>There is currently no functionality within the numerical answer tests to automatically check this, and there is no dedicated answer test to establish this property.  A separate PRT node is needed.</p>"},{"location":"Authoring/Answer_Tests/Numerical/#see-also","title":"See also","text":"<ul> <li>Answer tests</li> <li>CAS and numbers</li> <li>Scientific units</li> <li>Maxima</li> </ul>"},{"location":"Authoring/Answer_Tests/Other/","title":"Other answer tests","text":"<p>There are a small number of answer tests for specific situations.</p>"},{"location":"Authoring/Answer_Tests/Other/#sets","title":"Sets","text":"<p>This test deals with equality of sets.  The algebraic equivalence functions give very minimal feedback.  This test is designed to give much more detailed feedback on what is and is not included in the student's answer.  Hence, this essentially tells the student what is missing.  This is kind of feedback is tedious to generate without this test.</p> <p>The test simplifies both sets, and does a comparison based on the simplified versions.  The comparison relies on <code>ev(..., simp, nouns)</code> to undertake the simplification.  If you need stronger simplification (e.g. trig) then you will need to add this to the arguments of the function first.</p>"},{"location":"Authoring/Answer_Tests/Other/#equiv-and-equivfirstlast","title":"Equiv and EquivFirstLast","text":"<p>These answer tests are used with equivalence reasoning.  See the separate documentation.</p>"},{"location":"Authoring/Answer_Tests/Other/#proplogic","title":"PropLogic","text":"<p>An answer test designed to deal with propositional logic.  See the separate documentation.</p>"},{"location":"Authoring/Answer_Tests/Rule_based/","title":"Rules-based answer tests","text":"<p>Rules-based answer tests are a special kind of mathematical answer test.</p>"},{"location":"Authoring/Answer_Tests/Rule_based/#equality-up-to-associativity-and-commutativity-equalcomass","title":"Equality up to associativity and commutativity ### {#EqualComAss}","text":"<p>The <code>EqualComAss</code> test establishes that two expressions are equal up to commutativity and associativity of addition and multiplication, together with their inverses minus and division.</p> <p>For example  but  This is very useful in elementary algebra, where we want the form of the answer exactly. This test seeks to establish whether two expressions are the same when the basic operations of arithmetic addition/multiplication and Boolean and/or are assumed to be nouns but are commutative and associative.  Hence,  but .  The unary minus commutes with multiplication in a way natural to establishing the required form of equivalence.</p> <p>This is a particularly useful test for checking that an answer is written in a particular form, e.g. \"simplified\".</p> <p>Notes </p> <ol> <li>This test does not include laws of indices, so . Since we are dealing only with nouns  does not simplify to . E.g. .  This also means that  is not considered to be equivalent to  under this test.  In many situations this notation is taken to mean the same thing, but internally in Maxima they are represented by different functions and are not converted to a canonical form by the test.</li> <li>By design, addition commutes with subtraction, so  and multiplication commutes with division, so .</li> <li>By design  since we do not have the rule .  To establish this equivalence we would need a different answer test.</li> <li>This test can also be used to establish , but  since the arguments of the set constructor function are commutative.  Sets are not associative, so .  (See Maxima's <code>flatten</code> command.)</li> <li>Simplification is automatically switched off when this test is applied, otherwise it makes no sense. </li> </ol>"},{"location":"Authoring/Answer_Tests/Rule_based/#unary-minus-and-division","title":"Unary minus and division","text":"<p>In order to understand how the tests work it is essential to understand how we represent unary minus and division internally.</p> <p>Without simplification, Maxima has a unary minus function.  Litterally <code>minus(x)</code>.  This is transformed into <code>UNARY_MINUS nounmul ex</code>  The use of multiplication here allows <code>-</code> to commute with other multiplication, so we can spot things like  using associativity and commutativity.</p> <p>Similarly, we replace division  with <code>a nounmul UNARY_RECIP(b)</code>.  This means that <code>UNARY_RECIP(b)</code> is not automatically the same as <code>1 nounmul UNARY_RECIP(b)</code>, without an additional rule.</p>"},{"location":"Authoring/Answer_Tests/Rule_based/#equalcomassrules","title":"EqualComAssRules","text":"<p>This is an advanced test.</p> <p>This test allows question authors to create equivalence classes based on equality up to associativity and commutativity with the addition of optional rules. For example, the teacher can include the identity operations of addition and multiplication:  and .  This makes it much easier to establish things like  is equivalent to .  However, more general integer arithmatic is still not automatically included so .</p> <p>This test always assumes associativity and commutativity of addition and multiplication.  Essentially this test extends the <code>EqualComAss</code> test by adding in additional rules. Without assumptions of commutativity and associativity we would need all sorts of additional rules, such as , since without commutativity this would not be captured by the rule <code>zeroAdd</code>, i.e. .  Furthermore, the way <code>EqualComAss</code> deals with unary minus and division make associativity and commutativity difficult to add in their pure form.</p> <p>Each rule is a named function in Maxima, and each rule has an associated predicate function to decide if the rule is applicable at the top level of an expression.   E.g. <code>zeroAddp(0+x)</code> would return <code>true</code> and <code>zeroAdd(0+x)</code> would return <code>x</code>.</p> <p>The teacher must supply an option consisting of a list of the following rule names.</p> Name Rule (<code>ALG_TRANS</code>) Always included <code>assAdd</code> Associativity of addition <code>assMul</code> Associativity of multiplication <code>comAdd</code> Commutativity of addition <code>comMul</code> Commutativity of multiplication (<code>ID_TRANS</code>) <code>zeroAdd</code> <code>zeroMul</code> <code>oneMul</code> <code>oneDiv</code> <code>onePow</code> <code>idPow</code> <code>zeroPow</code>  if  <code>zPow</code>   if  (<code>NEG_TRANS</code>) <code>negNeg</code> <code>negDiv</code>   (Note, this assumes <code>UNARY_RECIP</code> and <code>UNARY_MINUS</code>) <code>negOrd</code> Order summands so that the leading coefficient is not negative (see notes below). (<code>DIV_TRANS</code>) <code>recipMul</code> <code>divDiv</code> Note  is interpreted as   in Maxima. <code>divCancel</code> Cancel common factors in numerator and denominator. (<code>INT_ARITH</code>) <code>intAdd</code> Perform addition on integers <code>intMul</code> Perform multiplication on integers <code>intPow</code> Perform exponentiation when both arguments are integers Other <code>intFac</code> Factor integers (incompatible with <code>intMul</code>) <code>negDist</code> Distribute only <code>UNARY_MINUS</code> over a sum (incompatible with <code>negOrd</code>) <code>sqrtRem</code> Remove the <code>sqrt</code> function and replace with <code>^(1/2)</code> <p>The rule <code>negOrd</code> deserves comment.  Ultimately we only compare parse trees exactly, and so we need to order terms in sums and products (commutativity). However  is never ordered as .  Furthermore, .  We need to factor out the unary minus and ensure that the coefficient of the leading term is not negative. Factoring out is better than distributing here, since in a produce such as  it is not clear which term in the product the inital minus sign will end up in. Since <code>negOrd</code> is a factor command, it is incompatible with <code>negDist</code>.</p> <p>For convenience sets of rules can be specificed.  E.g. you can use the name <code>ID_TRANS</code> in place of the list <code>[zeroAdd,zeroMul,oneMul,oneDiv,onePow,idPow,zeroPow,zPow]</code> to include all of the basic identity operators.</p> <p>If you want to remove tests from a list you can use code such as <code>delete(zeroAdd, ID_TRANS)</code>.</p> <p>The test takes the student's answer and teacher's answer and repeatedly applies the rules in turn until the expressions remain the same.  The rules are designed to always shorten the expression, so the process is guranteed to terminate.  Once the expression is written in final form, the test compares the two expression trees.</p> <p>Note that we do not gurantee the simplification is mathematically correct!  E.g. if you are unlucky enough to try the rule <code>zeroPow</code> on the expression <code>0^(1-1)</code> then since <code>1-1</code> is not equal to zero (taken literally) then the rule applies and you have failed to spot a potential <code>0^0</code> error.</p> <p>If you add the rule <code>testdebug</code> then you will see both expressions in the answer note.  This is useful for debugging, but would clutter up things in a production setting.</p>"},{"location":"Authoring/Answer_Tests/Rule_based/#examples-of-use","title":"Examples of use","text":""},{"location":"Authoring/Answer_Tests/Rule_based/#unique-prime-factorisation","title":"Unique prime factorisation","text":"<p>Imagine we have asked students to find the prime decomposition of .  This is the answer we are aiming at, but we also want to condone the answer .   We can do this with the rule <code>[idPow]</code>.  We might also (being generous perhaps) want to also accept .  We can do this with the three rules <code>[oneMul,idPow,zPow]</code>.  You can try this code in the sandbox.</p> <pre><code>ATEqualComAssRules(2^0*3^1*5^0*7^2*11^1, 3^1*7^2*11^1, [oneMul,idPow,zPow]);\n</code></pre> <p>Note, this test always assumes commutativity so you can't (currently) enforce the order of writing the prime factors.</p>"},{"location":"Authoring/Answer_Tests/Rule_based/#developer-notes","title":"Developer notes","text":"<p>This functionality was introduced in April 2021.  It is essential that the rules, and any combination of the rules, can only proceed in a single direction and that no infinite loops are created.  So, <code>intAdd</code> is fine because adding together two integers will make an expression simpler which in this case is shorter.  For this reason we do not have expanding out (i.e. distribution) rules in the above set, and no rules of indices (which readily lead to mathemtical errors).  Use Maxima's simplifier if you want to include such rules.</p> <p>The rules names are Maxima functions, but they assume <code>simp:false</code> and that the expression has noun forms e.g. <code>nounadd</code> instead of <code>+</code>.  You can use <code>equals_commute_prepare(ex)</code> to change an expression into this noun form.  The goal of this code is to create reliable equivalence classes of expressions, not perform algebraic manipulation as we traditionally know it. In particular the way unary minus is transformed into multiplication with a special tag <code>UNARY_MINUS</code> is likely to cause confusion to students if an expression is manipulated using these rules and then shown to a student.  The transoformation is designed to go in one direction only, and we do not support displaying the resulting manipulated expressions in traditional form.</p> <p>As of May 2023, these rules are not intended as an end-user simplifier and we do not currently support user-defined rules (sorry!).</p>"},{"location":"Authoring/Answer_Tests/Rule_based/#see-also","title":"See also","text":"<ul> <li>Answer tests</li> </ul>"},{"location":"Authoring/Answer_Tests/String/","title":"String matching","text":"<p>On rare occasions string matching is useful.</p> <p>A much more useful feature is the Damerau-Levenshtein distance.</p> <p>Since student's expressions are, by default, not permitted to contain spaces you will probably need to make use of the string input type.</p>"},{"location":"Authoring/Answer_Tests/String/#atstring","title":"ATString","text":"<p>This test performs a string match ignoring leading and trailing white space which are stripped from all answers, using PHP's trim() function.</p>"},{"location":"Authoring/Answer_Tests/String/#atstringsloppy","title":"ATStringSloppy","text":"<p>This test removes spaces, newlines and tabs and then performs a string match.</p>"},{"location":"Authoring/Answer_Tests/String/#atsregexp","title":"ATSRegExp","text":"<p>This test uses Maxima's <code>regex_match</code> function.</p> <ul> <li>Both arguments to the test must be Maxima strings.  If you have a general expression, turn it into a string in the feedback variables with Maxima's <code>string</code> function.</li> <li>The first argument should be the string, and the second argument should be the pattern to match.</li> <li>It yields true if the pattern is matched anywhere within the student answer and false otherwise. Testing for full equality of the answer string can be achieved via regex anchoring by use of <code>^</code> or <code>$</code>.</li> <li>Don't forget to escape within the pattern strings as needed. Note that there is a function <code>string_to_regex()</code> that will handle escaping of characters that would otherwise have meaning in the pattern. Also remember that you need to escape the backslashes like normal in Maxima-strings.  That is to say, if you want to use <code>\\s</code> in a pattern you need to double up the backslashes. For example <code>\"(Alice|Bob)\\\\s+went\\\\s+to\\\\s+the\\\\s+(bank|market)\"</code>.</li> <li>One can read more about the patterns posible from here. Case-insensitivity may be something worth noting there.</li> </ul> <p>For example, write a STACK question with the following question variables.</p> <pre><code>s1:\"(Alice|Bob)\\\\s+went\\\\s+to\\\\s+the\\\\s+(bank|market)\";\ns2:\"Alice went to the market\";\ns3:\"Bob       went to the    bank\";\n</code></pre> <p>Then</p> <ol> <li>Use the string input (<code>ans1</code>) with teacher's answer <code>s2</code>.</li> <li>In the PRT use the node <code>ATSRegExp(ans1, s1)</code>.  This will use the pattern in the string <code>s1</code> against the student's answer.</li> </ol> <p>This will match both strings <code>s2</code> and <code>s3</code>, and many others.</p>"},{"location":"Authoring/Answer_Tests/String/#regex_match_exactp","title":"<code>regex_match_exactp</code>","text":"<p>STACK also provides a helper function <code>regex_match_exactp(regex, str)</code> to check if the string equals the pattern matched by the regular expression.</p> <pre><code>Regex           String      Result\n(aaa)*(b|d)c    aaaaaabc    true\n(aaa)*(b|d)c    dc          true\n(aaa)*(b|d)c    aaaaaaabc   false\n(aaa)*(b|d)c    cca         false\n</code></pre> <p>Currently this is not provided as a separate answer test so you will need to use this predicate in the question variables and check the result against the expected value, or supply the predicate as an argument to an answer test.</p> <p>For example, using the question variables above you can define the following in the feedback variables.</p> <pre><code>sa:regex_match_exactp(s1, ans1);\n</code></pre> <p>Then you can use the <code>AlgEquiv</code> answer test to check the result is true/false, e.g. <code>ATAlgEquiv(sa, true)</code>.</p> <p><code>(RegExp)</code> NOTE: this test was removed in STACK version 4.3.</p>"},{"location":"Authoring/Answer_Tests/Results/","title":"Answer test results","text":"<p>These pages expose the results of running answer tests on STACK test cases, including the automatically generated feedback. These page are automatically generated from the STACK unit tests and are designed to show question authors what answer tests actually do. This includes cases where answer tests currently fail, which gives a negative expected mark.</p> <ul> <li>AlgEquiv</li> <li>AlgEquivNouns</li> <li>SubstEquiv</li> <li>EqualComAss</li> <li>EqualComAssRules</li> <li>CasEqual</li> <li>SameType</li> <li>SysEquiv</li> <li>Sets</li> <li>Expanded</li> <li>FacForm</li> <li>CompSquare</li> <li>PropLogic</li> <li>Equiv</li> <li>EquivFirst</li> <li>SingleFrac</li> <li>PartFrac</li> <li>Diff</li> <li>Int</li> <li>GT</li> <li>GTE</li> <li>NumRelative</li> <li>NumAbsolute</li> <li>NumSigFigs</li> <li>NumDecPlaces</li> <li>NumDecPlacesWrong</li> <li>SigFigsStrict</li> <li>Units</li> <li>UnitsStrict</li> <li>UnitsRelative</li> <li>UnitsStrictRelative</li> <li>UnitsAbsolute</li> <li>UnitsStrictAbsolute</li> <li>String</li> <li>StringSloppy</li> <li>Levenshtein</li> <li>SRegExp</li> <li>LowestTerms</li> </ul> <p>Comments and further test cases are very welcome.</p>"},{"location":"Authoring/Answer_Tests/Results/#see-also","title":"See also","text":"<ul> <li>Answer tests</li> </ul>"},{"location":"Authoring/Answer_Tests/Results/AlgEquiv/","title":"AlgEquiv: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> AlgEquiv Test?Student responseTeacher answerOptMarkAnswer note AlgEquiv <pre>1/0</pre> <pre>1</pre> -1 ATAlgEquiv_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. AlgEquiv <pre>1</pre> <pre>1/0</pre> -1 ATAlgEquiv_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. AlgEquiv <pre></pre> <pre>(x-1)^2</pre> -1 ATAlgEquivTEST_FAILED-Empty SA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty student answer, probably a CAS validation problem when authoring the question. AlgEquiv <pre>x^2</pre> <pre></pre> -1 ATAlgEquivTEST_FAILED-Empty TA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty teacher answer, probably a CAS validation problem when authoring the question. AlgEquiv <pre>x-1)^2</pre> <pre>(x-1)^2</pre> -1 ATAlgEquivTEST_FAILED-Empty SA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty student answer, probably a CAS validation problem when authoring the question. See docs on subscripts and different atoms. AlgEquiv <pre>x1</pre> <pre>x_1</pre> 0 AlgEquiv <pre>x_1</pre> <pre>x[1]</pre> 0 AlgEquiv <pre>x[1]</pre> <pre>x1</pre> 0 Predicates AlgEquiv <pre>integerp(3)</pre> <pre>true</pre> 1 ATLogic_True. AlgEquiv <pre>integerp(3.1)</pre> <pre>true</pre> 0 AlgEquiv <pre>integerp(3)</pre> <pre>false</pre> 0 AlgEquiv <pre>integerp(3)</pre> <pre>true</pre> 1 ATLogic_True. AlgEquiv <pre>lowesttermsp(x^2/x)</pre> <pre>true</pre> 1 ATLogic_True. AlgEquiv <pre>lowesttermsp(-y/-x)</pre> <pre>true</pre> 1 ATLogic_True. AlgEquiv <pre>lowesttermsp((x^2-1)/(x-1))</pre> <pre>true</pre> 0 AlgEquiv <pre>lowesttermsp((x^2-1)/(x+2))</pre> <pre>true</pre> 1 ATLogic_True. Case sensitivity AlgEquiv <pre>X</pre> <pre>x</pre> 0 ATAlgEquiv_WrongCase. AlgEquiv <pre>exdowncase(X)</pre> <pre>x</pre> 1 AlgEquiv <pre>exdowncase((X-1)^2)</pre> <pre>x^2-2*x+1</pre> 1 Permutations of variables (To do: a dedicated answer test with feedback) AlgEquiv <pre>Y=1+X</pre> <pre>y=1+x</pre> 0 ATEquation_default AlgEquiv <pre>v+w+x+y+z</pre> <pre>a+b+c+A+B</pre> 0 Numbers AlgEquiv <pre>4^(-1/2)</pre> <pre>1/2</pre> 1 AlgEquiv <pre>4^(1/2)</pre> <pre>sqrt(4)</pre> 1 Mix of floats and rational numbers AlgEquiv <pre>0.5</pre> <pre>1/2</pre> 1 AlgEquiv <pre>0.33</pre> <pre>1/3</pre> 0 AlgEquiv <pre>452</pre> <pre>4.52*10^2</pre> 0 AlgEquiv <pre>5.1e-2</pre> <pre>51/1000</pre> 1 AlgEquiv <pre>0.333333333333333</pre> <pre>1/3</pre> 0 AlgEquiv <pre>(0.5+x)*2</pre> <pre>2*x+1</pre> 1 Complex numbers AlgEquiv <pre>sqrt(-1)</pre> <pre>%i</pre> 1 AlgEquiv <pre>%i</pre> <pre>e^(i*pi/2)</pre> 1 AlgEquiv <pre>(4*sqrt(3)*%i+4)^(1/5)</pre> <pre>8^(1/5)*(cos(%pi/15)+%i*sin(%p\ni/15))</pre> 1 AlgEquiv <pre>(4*sqrt(3)*%i+4)^(1/5)</pre> <pre>rectform((4*sqrt(3)*%i+4)^(1/5\n))</pre> 1 AlgEquiv <pre>(4*sqrt(3)*%i+4)^(1/5)</pre> <pre>polarform((4*sqrt(3)*%i+4)^(1/\n5))</pre> 1 AlgEquiv <pre>%i/sqrt(x)</pre> <pre>sqrt(-1/x)</pre> 1 Infinity AlgEquiv <pre>inf</pre> <pre>inf</pre> 1 AlgEquiv <pre>inf</pre> <pre>-inf</pre> 0 AlgEquiv <pre>2*inf</pre> <pre>inf</pre> 0 AlgEquiv <pre>0*inf</pre> <pre>0</pre> 1 Powers and roots AlgEquiv <pre>x^(1/2)</pre> <pre>sqrt(x)</pre> 1 AlgEquiv <pre>x</pre> <pre>sqrt(x^2)</pre> 0 AlgEquiv <pre>abs(x)</pre> <pre>sqrt(x^2)</pre> 1 AlgEquiv <pre>1/abs(x)^(1/3)</pre> <pre>(abs(x)^(1/3)/abs(x))^(1/2)</pre> 1 AlgEquiv <pre>sqrt((x-3)*(x-5))</pre> <pre>sqrt(x-3)*sqrt(x-5)</pre> 0 AlgEquiv <pre>1/sqrt(x)</pre> <pre>sqrt(1/x)</pre> 1 AlgEquiv <pre>x-1</pre> <pre>(x^2-1)/(x+1)</pre> 1 AlgEquiv <pre>2^((1/5.1)*t)</pre> <pre>2^((1/5.1)*t)</pre> 1 AlgEquiv <pre>2^((1/5.1)*t)</pre> <pre>2^(0.196078431373*t)</pre> 0 AlgEquiv <pre>a^b*a^c</pre> <pre>a^(b+c)</pre> 1 AlgEquiv <pre>(a^b)^c</pre> <pre>a^(b*c)</pre> 0 AlgEquiv <pre>(assume(a&gt;0),(a^b)^c)</pre> <pre>a^(b*c)</pre> 1 AlgEquiv <pre>(assume(x&gt;2),6*((x-2)^2)^k)</pre> <pre>6*(x-2)^(2*k)</pre> 1 AlgEquiv <pre>signum(-3)</pre> <pre>-1</pre> 1 AlgEquiv <pre>6*((x-2)^3)^k</pre> <pre>6*(x-2)^(3*k)</pre> 1 AlgEquiv <pre>(4*sqrt(3)*%i+4)^(1/5)</pre> <pre>6^(1/5)*cos(%pi/15)-6^(1/5)*%i\n*sin(%pi/15)</pre> 0 AlgEquiv <pre>2+2*sqrt(3+x)</pre> <pre>2+sqrt(12+4*x)</pre> 1 AlgEquiv <pre>6*e^(6*(y^2+x^2))+72*x^2*e^(6*\n(y^2+x^2))</pre> <pre>(72*x^2+6)*e^(6*(y^2+x^2))</pre> 1 Expressions with subscripts AlgEquiv <pre>a1</pre> <pre>a_1</pre> 0 AlgEquiv <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> 1 AlgEquiv <pre>rho*z*V/(4*pi*epsilon[1]*(R^2+\nz^2)^(3/2))</pre> <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> 0 AlgEquiv <pre>sqrt(k/m)*sqrt(m/k)</pre> <pre>1</pre> 1 AlgEquiv <pre>(2*pi)/(k/m)^(1/2)</pre> <pre>(2*pi)/(k/m)^(1/2)</pre> 1 AlgEquiv <pre>(2*pi)*(m/k)^(1/2)</pre> <pre>(2*pi)/(k/m)^(1/2)</pre> 1 AlgEquiv <pre>sqrt(2*x/10+1)</pre> <pre>sqrt((2*x+10)/10)</pre> 1 AlgEquiv <pre>((x+3)^2*(x+3))^(1/3)</pre> <pre>((x+3)*(x^2+6*x+9))^(1/3)</pre> 1 Need to factor internally. AlgEquiv <pre>((x+3)^2*(x+3))^(1/3)</pre> <pre>((x+3)*(x^2+6*x+9))^(1/3)</pre> 1 Polynomials and rational function AlgEquiv <pre>(x-1)^2</pre> <pre>x^2-2*x+1</pre> 1 AlgEquiv <pre>(x-1)*(x^2+x+1)</pre> <pre>x^3-1</pre> 1 AlgEquiv <pre>(x-1)^(-2)</pre> <pre>1/(x^2-2*x+1)</pre> 1 AlgEquiv <pre>1/(4*x-(%pi+sqrt(2)))</pre> <pre>1/(x+1)</pre> 0 AlgEquiv <pre>(x-a)^6000</pre> <pre>(x-a)^6000</pre> 1 AlgEquiv <pre>(a-x)^6000</pre> <pre>(x-a)^6000</pre> 1 AlgEquiv <pre>(4*a-x)^6000</pre> <pre>(x-4*a)^6000</pre> 1 AlgEquiv <pre>(x-a)^6000</pre> <pre>(x-a)^5999</pre> 0 AlgEquiv <pre>(k+8)/(k^2+4*k-12)</pre> <pre>(k+8)/(k^2+4*k-12)</pre> 1 AlgEquiv <pre>(k+7)/(k^2+4*k-12)</pre> <pre>(k+8)/(k^2+4*k-12)</pre> 0 AlgEquiv <pre>-(2*k+6)/(k^2+4*k-12)</pre> <pre>-(2*k+6)/(k^2+4*k-12)</pre> 1 AlgEquiv <pre>1/n-1/(n+1)</pre> <pre>1/(n*(n+1))</pre> 1 AlgEquiv <pre>0.5*x^2+3*x-1</pre> <pre>x^2/2+3*x-1</pre> 1 AlgEquiv <pre>14336000000*x^13+250265600000*\nx^12+1862860800000*x^11+762392\n5760000*x^10+18290677760000*x^\n9+24744757985280*x^8+145672123\n51488*x^7-3267871272960*x^6-64\n08053107200*x^5+670406720000*x\n^4+1179708800000*x^3-429244800\n000*x^2+56696000000*x-26800000\n00</pre> <pre>512*(2*x+5)^7*(5*x-1)^5*(70*x+\n67)</pre> 1 AlgEquiv <pre>14336000000*x^13+250265600000*\nx^12+1862860800000*x^11+762392\n5760000*x^10+18290677760000*x^\n9+24744757985280*x^8+145672123\n51488*x^7-3267871272960*x^6-64\n08053107200*x^5+670406720000*x\n^4+1179708800000*x^3-429244800\n000*x^2+56696000000*x-26800000\n01</pre> <pre>512*(2*x+5)^7*(5*x-1)^5*(70*x+\n67)</pre> 0 AlgEquiv <pre>14336000000*x^13</pre> <pre>512*(2*x+5)^7*(5*x-1)^5*(70*x+\n67)</pre> 0 Trig functions AlgEquiv <pre>cos(x)</pre> <pre>cos(-x)</pre> 1 AlgEquiv <pre>cos(x)^2+sin(x)^2</pre> <pre>1</pre> 1 AlgEquiv <pre>cos(x+y)</pre> <pre>cos(x)*cos(y)-sin(x)*sin(y)</pre> 1 AlgEquiv <pre>cos(x+y)</pre> <pre>cos(x)*cos(y)+sin(x)*sin(y)</pre> 0 AlgEquiv <pre>cos(x#pm#y)</pre> <pre>cos(x)*cos(y)-(#pm#sin(x)*sin(\ny))</pre> 1 ATLogic_True. AlgEquiv <pre>sin(x#pm#y)</pre> <pre>sin(x)*cos(y)#pm#cos(x)*sin(y)</pre> 1 ATLogic_True. AlgEquiv <pre>sin(x#pm#y)</pre> <pre>cos(x)*sin(y)#pm#sin(x)*cos(y)</pre> 0 AlgEquiv <pre>2*cos(x)^2-1</pre> <pre>cos(2*x)</pre> 1 AlgEquiv <pre>1.0*cos(1200*%pi*x)</pre> <pre>cos(1200*%pi*x)</pre> 1 AlgEquiv <pre>diff(tan(10*x)^2,x)</pre> <pre>cos(6*x)</pre> 0 AlgEquiv <pre>exp(%i*%pi)</pre> <pre>-1</pre> 1 AlgEquiv <pre>2*cos(2*x)+x+1</pre> <pre>-sin(x)^2+3*cos(x)^2+x</pre> 1 AlgEquiv <pre>(2*sec(2*t)^2-2)/2</pre> <pre>-(sin(4*t)^2-2*sin(4*t)+cos(4*\nt)^2-1)*(sin(4*t)^2+2*sin(4*t)\n+cos(4*t)^2-1)/(sin(4*t)^2+cos\n(4*t)^2+2*cos(4*t)+1)^2</pre> 1 AlgEquiv <pre>1+cosec(3*x)</pre> <pre>1+csc(3*x)</pre> 1 AlgEquiv <pre>1/(1+exp(-2*x))</pre> <pre>tanh(x)/2+1/2</pre> 1 AlgEquiv <pre>1+cosech(3*x)</pre> <pre>1+csch(3*x)</pre> 1 AlgEquiv <pre>-4*sec(4*z)^2*sin(6*z)-6*tan(4\n*z)*cos(6*z)</pre> <pre>-4*sec(4*z)^2*sin(6*z)-6*tan(4\n*z)*cos(6*z)</pre> 1 AlgEquiv <pre>-4*sec(4*z)^2*sin(6*z)-6*tan(4\n*z)*cos(6*z)</pre> <pre>4*sec(4*z)^2*sin(6*z)+6*tan(4*\nz)*cos(6*z)</pre> 0 AlgEquiv <pre>csc(6*x)^2*(7*sin(6*x)*cos(7*x\n)-6*cos(6*x)*sin(7*x))</pre> <pre>-(6*cos(6*x)*sin(7*x)-7*sin(6*\nx)*cos(7*x))/sin(6*x)^2</pre> 1 AlgEquiv <pre>csc(6*x)^2*(7*sin(6*x)*cos(7*x\n)-6*cos(6*x)*sin(7*x))</pre> <pre>(6*cos(6*x)*sin(7*x)-7*sin(6*x\n)*cos(7*x))/sin(6*x)^2</pre> 0 AlgEquiv <pre>-(7*x^6+4*x^3)/sin(7*y+x^7+x^4\n+1)^2</pre> <pre>-(7*x^6+4*x^3)*csc(7*y+x^7+x^4\n+1)^2</pre> 1 AlgEquiv <pre>sin((2*%pi*n-%pi)/2)</pre> <pre>-cos(n*%pi)</pre> 1 AlgEquiv <pre>sin(x/2)/(1+tan(x)*tan(x/2))</pre> <pre>sin(x/2)*cos(x)</pre> 1 AlgEquiv <pre>(declare(n,integer),trigrat(si\nn((2*%pi*n-%pi)/2)))</pre> <pre>-(-1)^n</pre> 1 AlgEquiv ! <pre>cot(%pi/20)+cot(%pi/24)-cot(%p\ni/10)</pre> <pre>sqrt(1)+sqrt(2)+sqrt(3)+sqrt(4\n)+sqrt(5)+sqrt(6)</pre> -3 AlgEquiv <pre>trigeval(cot(%pi/20)+cot(%pi/2\n4)-cot(%pi/10))</pre> <pre>sqrt(1)+sqrt(2)+sqrt(3)+sqrt(4\n)+sqrt(5)+sqrt(6)</pre> 1 AlgEquiv ! <pre>sin([1/8,1/6, 1/4, 1/3, 1/2, 1\n]*%pi)</pre> <pre>[sqrt(2-sqrt(2))/2,1/2,1/sqrt(\n2),sqrt(3)/2,1,0]</pre> -3 (ATList_wrongentries 1). The entries underlined in red below are those that are incorrect. \\[\\left[ {\\color{red}{\\underline{\\sin \\left( \\frac{\\pi}{8} \\right)}}} , \\frac{1}{2} , \\frac{1}{\\sqrt{2}} , \\frac{\\sqrt{3}}{2} , 1 , 0 \\right] \\] AlgEquiv <pre>trigeval(sin([1/8,1/6, 1/4, 1/\n3, 1/2, 1]*%pi))</pre> <pre>[sqrt(2-sqrt(2))/2,1/2,1/sqrt(\n2),sqrt(3)/2,1,0]</pre> 1 AlgEquiv <pre>1+x</pre> <pre>taylor(1/(1-x),x,0,1)</pre> 1 AlgEquiv <pre>1</pre> <pre>taylor(1/(1-x),x,0,1)</pre> 0 Logarithms AlgEquiv <pre>log(a^2*b)</pre> <pre>2*log(a)+log(b)</pre> 1 AlgEquiv <pre>(2*log(2*x)+x)/(2*x)</pre> <pre>(log(2*x)+2)/(2*sqrt(x))</pre> 0 AlgEquiv <pre>log(abs((x^2-9)))</pre> <pre>log(abs(x-3))+log(abs(x+3))</pre> 0 AlgEquiv <pre>lg(10^x)</pre> <pre>x</pre> 1 AlgEquiv <pre>lg(3^x,3)</pre> <pre>x</pre> 1 AlgEquiv <pre>lg(a^x,a)</pre> <pre>x</pre> 1 AlgEquiv <pre>1+lg(27,3)</pre> <pre>4</pre> 1 AlgEquiv <pre>1+lg(27,3)</pre> <pre>3</pre> 0 AlgEquiv <pre>lg(1/8,2)</pre> <pre>-3</pre> 1 AlgEquiv <pre>lg(root(x,n))</pre> <pre>lg(x,10)/n</pre> 1 AlgEquiv <pre>log(root(x,n))</pre> <pre>lg(x,10)/n</pre> 0 AlgEquiv <pre>x^log(y)</pre> <pre>y^log(x)</pre> 1 Hyperbolic trig AlgEquiv <pre>e^1-e^(-1)</pre> <pre>2*sinh(1)</pre> 1 Lists AlgEquiv <pre>x</pre> <pre>[1,2,3]</pre> 0 ATAlgEquiv_SA_not_list. Your answer should be a list, but is not. Note that the syntax to enter a list is to enclose the comma separated values with square brackets. AlgEquiv <pre>[1,2]</pre> <pre>[1,2,3]</pre> 0 ATList_wronglen. Your list should have \\(3\\) elements, but it actually has \\(2\\). AlgEquiv <pre>[1,2,4]</pre> <pre>[1,2,3]</pre> 0 (ATList_wrongentries 3). The entries underlined in red below are those that are incorrect. \\[\\left[ 1 , 2 , {\\color{red}{\\underline{4}}} \\right] \\] AlgEquiv <pre>[1,x&gt;2]</pre> <pre>[1,2&lt;x]</pre> 1 AlgEquiv <pre>[1,2,[2-x&lt;0,{1,2,2,2, 1,3}]\n]</pre> <pre>[1,2,[2-x&lt;0,{1,2}]]</pre> 0 (ATList_wrongentries 3: (ATList_wrongentries 2: ATSet_wrongsz)). The entries underlined in red below are those that are incorrect. \\[\\left[ 1 , 2 , \\left[ 2-x &lt; 0 , \\left \\{1 , 2 , 3 \\right \\} \\right] \\right] \\] AlgEquiv <pre>[(k+8)/(k^2+4*k-12),-(2*k+6)/(\nk^2+4*k-12)]</pre> <pre>[(k+8)/(k^2+4*k-12),-(2*k+6)/(\nk^2+4*k-12)]</pre> 1 AlgEquiv <pre>[1,2]</pre> <pre>ntuple(1,2)</pre> 0 ATAlgEquiv_SA_not_expression. Your answer should be an expression, not an equation, inequality, list, set or matrix. Rounding of floats AlgEquiv <pre>round(0.5)</pre> <pre>0.0</pre> 1 AlgEquiv <pre>round(1.5)</pre> <pre>2.0</pre> 1 AlgEquiv <pre>round(2.5)</pre> <pre>2.0</pre> 1 AlgEquiv <pre>round(12.5)</pre> <pre>12.0</pre> 1 AlgEquiv <pre>significantfigures(0.5,1)</pre> <pre>0.5</pre> 1 AlgEquiv <pre>significantfigures(1.5,1)</pre> <pre>2.0</pre> 1 AlgEquiv <pre>significantfigures(2.5,1)</pre> <pre>3.0</pre> 1 AlgEquiv <pre>significantfigures(3.5,1)</pre> <pre>4.0</pre> 1 AlgEquiv <pre>significantfigures(11.5,2)</pre> <pre>12.0</pre> 1 AlgEquiv <pre>1500</pre> <pre>scientific_notation(1500,3)</pre> 1 AlgEquiv <pre>1500</pre> <pre>displaysci(1.5,2,3)</pre> 1 AlgEquiv <pre>[3,3.1,3.14,3.142,3.1416,3.141\n59,3.141593,3.1415927]</pre> <pre>makelist(significantfigures(%p\ni,i),i,8)</pre> 1 Sets AlgEquiv <pre>x</pre> <pre>{1,2,3}</pre> 0 ATAlgEquiv_SA_not_set. Your answer should be a set, but is not. Note that the syntax to enter a set is to enclose the comma separated values with curly brackets. AlgEquiv <pre>co(1,2)</pre> <pre>{1,2,3}</pre> 0 ATAlgEquiv_SA_not_set. Your answer should be a set, but is not. Note that the syntax to enter a set is to enclose the comma separated values with curly brackets. AlgEquiv <pre>{1,2}</pre> <pre>{1,2,3}</pre> 0 ATSet_wrongsz. Your set should have \\(3\\) different elements, but it actually has \\(2\\). AlgEquiv <pre>{2/4, 1/3}</pre> <pre>{1/2, 1/3}</pre> 1 AlgEquiv <pre>{A[1],A[2],A[4]}</pre> <pre>{A[1],A[2],A[3]}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{A_{4} \\right \\}\\] AlgEquiv <pre>{A[1],A[2],A[3]}</pre> <pre>{A[1],A[2],A[3]}</pre> 1 AlgEquiv <pre>{1,2,4}</pre> <pre>{1,2,3}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{4 \\right \\}\\] AlgEquiv <pre>{1,x&gt;4}</pre> <pre>{4&lt;x, 1}</pre> 1 AlgEquiv <pre>{x-1=0,x&gt;1 and 5&gt;x}</pre> <pre>{x&gt;1 and x&lt;5,x=1}</pre> 1 AlgEquiv <pre>{x-1=0,x&gt;1 and 5&gt;x}</pre> <pre>{x&gt;1 and x&lt;5,x=2}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{x-1=0 \\right \\}\\] AlgEquiv <pre>{x-1=0,x&gt;1 and 5&gt;x}</pre> <pre>{x&gt;1 and x&lt;3,x=1}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{5-x &gt; 0\\,{\\mbox{ and }}\\, x-1 &gt; 0 \\right \\}\\] Equivalence for elements of sets is different from expressions: see docs. AlgEquiv ! <pre>{-sqrt(2)/sqrt(3)}</pre> <pre>{-2/sqrt(6)}</pre> -3 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{-\\frac{\\sqrt{2}}{\\sqrt{3}} \\right \\}\\] AlgEquiv ! <pre>{[-sqrt(2)/sqrt(3),0],[2/sqrt(\n6),0]}</pre> <pre>{[2/sqrt(6),0],[-2/sqrt(6),0]}</pre> -3 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{\\left[ -\\frac{\\sqrt{2}}{\\sqrt{3}} , 0 \\right] \\right \\}\\] AlgEquiv <pre>ev(radcan({-sqrt(2)/sqrt(3)}),\nsimp)</pre> <pre>ev(radcan({-2/sqrt(6)}),simp)</pre> 1 AlgEquiv <pre>ev(radcan(ratsimp({(-sqrt(10)/\n2)-2,sqrt(10)/2-2},algebraic:t\nrue)),simp)</pre> <pre>ev(radcan(ratsimp({(-sqrt(5)/s\nqrt(2))-2,sqrt(5)/sqrt(2)-2},a\nlgebraic:true)),simp)</pre> 1 AlgEquiv <pre>{(2-2^(5/2))/2,(2^(5/2)+2)/2}</pre> <pre>{1-2^(3/2),2^(3/2)+1}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{\\frac{2-2^{\\frac{5}{2}}}{2} , \\frac{2^{\\frac{5}{2}}+2}{2} \\right \\}\\] AlgEquiv <pre>ev(radcan({(2-2^(5/2))/2,(2^(5\n/2)+2)/2}),simp)</pre> <pre>{1-2^(3/2),2^(3/2)+1}</pre> 1 AlgEquiv <pre>{(x-a)^6000}</pre> <pre>{(a-x)^6000}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{{\\left(x-a\\right)}^{6000} \\right \\}\\] AlgEquiv <pre>{(k+8)/(k^2+4*k-12),-(2*k+6)/(\nk^2+4*k-12)}</pre> <pre>{(k+8)/(k^2+4*k-12),-(2*k+6)/(\nk^2+4*k-12)}</pre> 1 Matrices AlgEquiv <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2],[2,3])</pre> 1 AlgEquiv <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2,3],[2,3,3])</pre> 0 ATMatrix_wrongsz_columns. Your matrix should be \\(2\\) by \\(3\\), but it is actually \\(2\\) by \\(2\\). AlgEquiv <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2],[2,5])</pre> 0 ATMatrix_wrongentries. The entries underlined in red below are those that are incorrect. \\[ \\left[\\begin{array}{cc} 1 &amp; 2 \\\\ 2 &amp; {\\color{red}{\\underline{3}}} \\end{array}\\right]\\] AlgEquiv <pre>matrix([0.33,1],[1,1])</pre> <pre>matrix([0.333,1],[1,1])</pre> 0 ATMatrix_wrongentries. The entries underlined in red below are those that are incorrect. \\[ \\left[\\begin{array}{cc} {\\color{red}{\\underline{0.33}}} &amp; 1 \\\\ 1 &amp; 1 \\end{array}\\right]\\] AlgEquiv <pre>matrix([x+x,2],[2,x*x])</pre> <pre>matrix([2*x,2],[2,x^2])</pre> 1 AlgEquiv <pre>matrix([epsilon[0],2],[2,x^2])</pre> <pre>matrix([epsilon[0],2],[2,x^2])</pre> 1 AlgEquiv <pre>matrix([epsilon[2],2],[2,x^2])</pre> <pre>matrix([epsilon[0],2],[2,x^3])</pre> 0 ATMatrix_wrongentries. The entries underlined in red below are those that are incorrect. \\[ \\left[\\begin{array}{cc} {\\color{red}{\\underline{\\varepsilon_{2}}}} &amp; 2 \\\\ 2 &amp; {\\color{red}{\\underline{x^2}}} \\end{array}\\right]\\] AlgEquiv <pre>matrix([x&gt;4,{1,x^2}],[[1,2]\n,[1,3]])</pre> <pre>matrix([4-x&lt;0,{x^2, 1}],[[1\n,2],[1,3]])</pre> 1 AlgEquiv <pre>matrix([x&gt;4,{1,x^2}],[[1,2]\n,[1,3]])</pre> <pre>matrix([4-x&lt;0,{x^2, 1}],[[1\n,2],[1,4]])</pre> 0 ATMatrix_wrongentries. The entries underlined in red below are those that are incorrect. \\[ \\left[\\begin{array}{cc} x &gt; 4 &amp; \\left \\{1 , x^2 \\right \\} \\\\ \\left[ 1 , 2 \\right] &amp; \\left[ 1 , {\\color{red}{\\underline{3}}} \\right] \\end{array}\\right]\\] Vectors AlgEquiv <pre>a</pre> <pre>stackvector(a)</pre> 0 Equations AlgEquiv <pre>1</pre> <pre>x=1</pre> 0 ATAlgEquiv_SA_not_equation. Your answer should be an equation, but is not. AlgEquiv <pre>x=1</pre> <pre>x=1</pre> 1 ATEquation_sides AlgEquiv <pre>1=x</pre> <pre>1=x</pre> 1 ATEquation_sides AlgEquiv <pre>1=x</pre> <pre>x=1</pre> 1 ATEquation_sides_op AlgEquiv <pre>1=1</pre> <pre>1=x</pre> 0 ATEquation_default AlgEquiv <pre>1=1</pre> <pre>x=1</pre> 0 ATEquation_default AlgEquiv <pre>x=2</pre> <pre>x=1</pre> 0 ATEquation_lhs_notrhs AlgEquiv <pre>2=x</pre> <pre>x=1</pre> 0 ATEquation_default AlgEquiv <pre>x=x</pre> <pre>y=y</pre> 1 ATEquation_zero AlgEquiv <pre>x+y=1</pre> <pre>y=1-x</pre> 1 AlgEquiv <pre>2*x+2*y=1</pre> <pre>y=0.5-x</pre> 1 ATEquation_ratio AlgEquiv <pre>1/x+1/y=2</pre> <pre>y = x/(2*x-1)</pre> 1 ATEquation_ratio AlgEquiv <pre>y=sin(2*x)</pre> <pre>y/2=cos(x)*sin(x)</pre> 1 ATEquation_ratio AlgEquiv <pre>y=(x-a)^6000</pre> <pre>y=(x-a)^6000</pre> 1 ATEquation_sides AlgEquiv <pre>y=(x-a)^5999</pre> <pre>y=(x-a)^6000</pre> 0 ATEquation_lhs_notrhs AlgEquiv <pre>y=(a-x)^6000</pre> <pre>y=(x-a)^6000</pre> 1 ATEquation_sides AlgEquiv <pre>y=(a-x)^5999</pre> <pre>y=(x-a)^5999</pre> 0 ATEquation_lhs_notrhs AlgEquiv <pre>y=(a-x)^59999</pre> <pre>y=(x-a)^5999</pre> 0 ATEquation_lhs_notrhs AlgEquiv <pre>x+y=i</pre> <pre>y=i-x</pre> 1 AlgEquiv <pre>(1+%i)*(x+y)=0</pre> <pre>y=-x</pre> 1 AlgEquiv <pre>s^2*%e^(s*t)=0</pre> <pre>s^2=0</pre> 0 ATEquation_default AlgEquiv <pre>0=-x+y/A+(y-z)/B</pre> <pre>0=x-y/A-(y-z)/B</pre> 1 AlgEquiv <pre>x^6000-x^6001=x^5999</pre> <pre>x^5999*(1-x+x^2)=0</pre> 1 ATEquation_ratio AlgEquiv <pre>x^6000-x^6001=x^5999</pre> <pre>x^5999*(1-x+x^3)=0</pre> 0 ATEquation_default AlgEquiv <pre>258552*x^7*(81*x^8+1)^398</pre> <pre>x^3*(x^4+1)^399</pre> 0 AlgEquiv <pre>Ia*(R1+R2+R3)-Ib*R3=0</pre> <pre>-Ia*(R1+R2+R3)+Ib*R3=0</pre> 1 AlgEquiv <pre>a=0 or b=0</pre> <pre>a*b=0</pre> 1 ATEquation_sides AlgEquiv <pre>a*b=0</pre> <pre>a=0 or b=0</pre> 1 ATEquation_sides AlgEquiv <pre>a*x=a*y</pre> <pre>x=y</pre> 0 ATEquation_default AlgEquiv <pre>a*x=a*y</pre> <pre>a=0 or x=y</pre> 1 ATEquation_ratio Unary Equations AlgEquiv <pre>1</pre> <pre>stackeq(1)</pre> 1 AlgEquiv <pre>stackeq(1)</pre> <pre>1</pre> 1 AlgEquiv <pre>stackeq(1)</pre> <pre>0</pre> 0 Equations: Loose/gain roots with nth powers of each side. AlgEquiv <pre>x=y</pre> <pre>x^2=y^2</pre> 0 ATEquation_default AlgEquiv <pre>(x-2)^2=0</pre> <pre>x=2</pre> 0 ATEquation_default AlgEquiv <pre>4*x^2-71*x+220 = 0 or 14*x^2-9\n1*x+140 = 0</pre> <pre>x = 5/2 or x = 4 or x = 55/4</pre> 0 ATEquation_default AlgEquiv <pre>4*x^2-71*x+220 = 0 or 14*x^2-9\n1*x+140 = 0</pre> <pre>x = 5/2 or x = 4 or x=4 or x =\n 55/4</pre> 1 ATEquation_sides AlgEquiv <pre>x^2=4</pre> <pre>x=2 or x=-2</pre> 1 ATEquation_ratio AlgEquiv <pre>a^3*b^3=0</pre> <pre>a=0 or b=0</pre> 0 ATEquation_default AlgEquiv <pre>a^3*b^3=0</pre> <pre>a*b=0</pre> 0 ATEquation_default AlgEquiv <pre>(x-y)*(x+y)=0</pre> <pre>x^2=y^2</pre> 1 ATEquation_ratio AlgEquiv <pre>x=1</pre> <pre>(x-1)^3=0</pre> 0 ATEquation_default AlgEquiv <pre>sqrt(x)=sqrt(y)</pre> <pre>x=y</pre> 0 ATEquation_default AlgEquiv <pre>x=sqrt(a)</pre> <pre>x^2=a</pre> 0 ATEquation_default AlgEquiv <pre>(x-sqrt(a))*(x+sqrt(a))=0</pre> <pre>x^2=a</pre> 1 ATEquation_ratio AlgEquiv <pre>(x-%i*sqrt(a))*(x+%i*sqrt(a))=\n0</pre> <pre>x^2=-a</pre> 1 ATEquation_ratio AlgEquiv <pre>(x-%i*sqrt(abs(a)))*(x+%i*sqrt\n(abs(a)))=0</pre> <pre>x^2=-abs(a)</pre> 1 ATEquation_ratio AlgEquiv <pre>y=sqrt(1-x^2)</pre> <pre>x^2+y^2=1</pre> 0 ATEquation_default AlgEquiv <pre>(y-sqrt(1-x^2))*(y+sqrt(1-x^2)\n)=0</pre> <pre>x^2+y^2=1</pre> 1 ATEquation_ratio AlgEquiv <pre>(y-sqrt((1-x)*(1+x)))*(y+sqrt(\n(1-x)*(1+x)))=0</pre> <pre>x^2+y^2=1</pre> 1 ATEquation_ratio AlgEquiv <pre>(x-1)*(x+1)*(y-1)*(y+1)=0</pre> <pre>y^2+x^2=1+x^2*y^2</pre> 1 ATEquation_ratio Equations: edge cases. Teacher must enter an equation, all or none here. AlgEquiv <pre>all</pre> <pre>x=x</pre> 1 ATEquation_zero AlgEquiv <pre>true</pre> <pre>x=x</pre> 1 ATEquation_zero AlgEquiv <pre>x=x</pre> <pre>all</pre> 1 ATEquation_zero AlgEquiv <pre>all</pre> <pre>all</pre> 1 ATEquation_zero AlgEquiv <pre>true</pre> <pre>all</pre> 1 ATEquation_zero AlgEquiv <pre>a=a</pre> <pre>x=x</pre> 1 ATEquation_zero AlgEquiv <pre>false</pre> <pre>x=x</pre> 0 ATEquation_zero_fail AlgEquiv <pre>false</pre> <pre>all</pre> 0 ATEquation_zero_fail AlgEquiv <pre>none</pre> <pre>all</pre> 0 ATEquation_zero_fail AlgEquiv <pre>all</pre> <pre>none</pre> 0 ATEquation_empty_fail AlgEquiv <pre>2=3</pre> <pre>1=4</pre> 1 ATEquation_empty AlgEquiv <pre>none</pre> <pre>1=2</pre> 1 ATEquation_empty AlgEquiv <pre>false</pre> <pre>1=2</pre> 1 ATEquation_empty AlgEquiv <pre>none</pre> <pre>none</pre> 1 ATEquation_empty AlgEquiv <pre>false</pre> <pre>none</pre> 1 ATEquation_empty AlgEquiv <pre>3=0</pre> <pre>none</pre> 1 ATEquation_empty AlgEquiv <pre>0=3</pre> <pre>none</pre> 1 ATEquation_empty AlgEquiv <pre>all</pre> <pre>1=2</pre> 0 ATEquation_empty_fail AlgEquiv <pre>true</pre> <pre>1=2</pre> 0 ATEquation_empty_fail AlgEquiv <pre>{}</pre> <pre>1=2</pre> 0 ATAlgEquiv_SA_not_equation. Your answer should be an equation, but is not. AlgEquiv <pre>[]</pre> <pre>1=2</pre> 0 ATAlgEquiv_SA_not_equation. Your answer should be an equation, but is not. AlgEquiv <pre>{}</pre> <pre>none</pre> 0 ATAlgEquiv_SA_not_logic. Your answer should be an equation, inequality or a logical combination of many of these, but is not. Sets of real numbers AlgEquiv <pre>x^2</pre> <pre>cc(1,3)</pre> 0 ATAlgEquiv_SA_not_realset. Your answer should be a subset of the real numbers. This could be a set of numbers, or a collection of intervals. AlgEquiv <pre>%union(oo(1,2),oo(3,4))</pre> <pre>%union(oo(1,2),oo(3,4))</pre> 1 ATRealSet_true. AlgEquiv <pre>%union(oc(1,2),co(2,3))</pre> <pre>oo(1,3)</pre> 1 ATRealSet_true. AlgEquiv <pre>%union(oc(1,2),co(2,3))</pre> <pre>cc(1,3)</pre> 0 ATRealSet_false. AlgEquiv <pre>{-1,1}</pre> <pre>%union({-1,1})</pre> 1 ATRealSet_true. AlgEquiv <pre>{1,3}</pre> <pre>cc(1,3)</pre> 0 ATRealSet_false. AlgEquiv <pre>%intersection(oc(-1,1),co(1,2)\n)</pre> <pre>%union({1})</pre> 1 ATRealSet_true. AlgEquiv <pre>oo(-inf,1)</pre> <pre>oo(-inf,1)</pre> 1 ATRealSet_true. AlgEquiv <pre>oo(-1,inf)</pre> <pre>oo(0,inf)</pre> 0 ATRealSet_false. AlgEquiv <pre>%union(oc(-inf,0),oo(-1,4))</pre> <pre>oo(-inf,4)</pre> 1 ATRealSet_true. AlgEquiv <pre>%union(oo(-inf,1),oo(-1,inf))</pre> <pre>oo(-inf,inf)</pre> 1 ATRealSet_true. AlgEquiv <pre>all</pre> <pre>oo(-inf,inf)</pre> 1 ATRealSet_true. AlgEquiv <pre>co(1,2)</pre> <pre>1 &lt;= x nounand x&lt;2</pre> 0 ATAlgEquiv_SA_not_logic. Your answer should be an equation, inequality or a logical combination of many of these, but is not. AlgEquiv <pre>1 &lt;= x nounand x&lt;2</pre> <pre>co(1,2)</pre> 0 ATAlgEquiv_SA_not_realset. Your answer should be a subset of the real numbers. This could be a set of numbers, or a collection of intervals. AlgEquiv <pre>minf &lt;= x</pre> <pre>co(minf,inf)</pre> 0 ATAlgEquiv_SA_not_realset. Your answer should be a subset of the real numbers. This could be a set of numbers, or a collection of intervals. AlgEquiv <pre>-inf &lt;= x</pre> <pre>co(minf,inf)</pre> 0 ATAlgEquiv_SA_not_realset. Your answer should be a subset of the real numbers. This could be a set of numbers, or a collection of intervals. AlgEquiv <pre>x &lt;= inf</pre> <pre>oc(minf,inf)</pre> 0 ATAlgEquiv_SA_not_realset. Your answer should be a subset of the real numbers. This could be a set of numbers, or a collection of intervals. AlgEquiv <pre>minf &lt;= x</pre> <pre>oo(minf,inf)</pre> 0 ATAlgEquiv_SA_not_realset. Your answer should be a subset of the real numbers. This could be a set of numbers, or a collection of intervals. AlgEquiv <pre>single_variable_solver_real(mi\nnf &lt;= x)</pre> <pre>co(minf,inf)</pre> 1 ATRealSet_true. AlgEquiv <pre>single_variable_solver_real(-i\nnf &lt;= x)</pre> <pre>co(minf,inf)</pre> 1 ATRealSet_true. AlgEquiv <pre>single_variable_solver_real(x \n&lt;= inf)</pre> <pre>oc(minf,inf)</pre> 1 ATRealSet_true. AlgEquiv <pre>single_variable_solver_real(mi\nnf &lt;= x)</pre> <pre>oo(minf,inf)</pre> 0 ATRealSet_false. Complex numbers AlgEquiv <pre>a=b/%i</pre> <pre>%i*a=b</pre> 1 ATEquation_num_i AlgEquiv <pre>b/%i=a</pre> <pre>%i*a=b</pre> 1 ATEquation_num_i AlgEquiv <pre>b=a/%i</pre> <pre>%i*a=b</pre> 0 ATEquation_lhs_notrhs_op AlgEquiv <pre>a*(2+%i)=b</pre> <pre>a=b/(2+%i)</pre> 1 ATEquation_ratio AlgEquiv <pre>a*(2+%i)=b</pre> <pre>a=b*(2-%i)/5</pre> 1 ATEquation_num_i AlgEquiv <pre>a*(2+%i)=b</pre> <pre>a=b*(2-%i)/4</pre> 0 ATEquation_default AlgEquiv <pre>i</pre> <pre>disp_complex(0,1)</pre> 0 Absolute value in equations AlgEquiv <pre>abs(x)=abs(y)</pre> <pre>x=y</pre> 0 ATEquation_default AlgEquiv <pre>abs(x)=abs(y)</pre> <pre>x=y or x=-y</pre> 1 AlgEquiv <pre>abs(x)=abs(y)</pre> <pre>(x-y)*(x+y)=0</pre> 1 Functions AlgEquiv <pre>f(x):=1/0</pre> <pre>f(x):=x^2</pre> -1 TEST_FAILED TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. AlgEquiv <pre>1</pre> <pre>f(x):=x^2</pre> 0 ATAlgEquiv_SA_not_function. Your answer should be a function, defined using the operator :=, but is not. AlgEquiv <pre>f(x)=x^2</pre> <pre>f(x):=x^2</pre> 0 ATAlgEquiv_SA_not_function. Your answer should be a function, defined using the operator :=, but is not. AlgEquiv <pre>f(x):=x^2</pre> <pre>f(x,y):=x^2+y^2</pre> 0 ATFunction_length_args. ATFunction_false. AlgEquiv <pre>f(x):=x^2</pre> <pre>f(x)=x^2</pre> 0 ATAlgEquiv_SA_not_equation. Your answer should be an equation, but is not. AlgEquiv <pre>f(x):=x^2</pre> <pre>f(x):=x^2</pre> 1 ATFunction_true. AlgEquiv <pre>f(x):=x^2</pre> <pre>f(x):=sin(x)</pre> 0 ATFunction_false. AlgEquiv <pre>g(x):=x^2</pre> <pre>f(x):=x^2</pre> 0 ATFunction_wrongname. ATFunction_true. AlgEquiv <pre>f(y):=y^2</pre> <pre>f(x):=x^2</pre> 1 ATFunction_arguments_different. ATFunction_true. AlgEquiv <pre>f(a,b):=a^2+b^2</pre> <pre>f(x,y):=x^2+y^2</pre> 1 ATFunction_arguments_different. ATFunction_true. Inequalities AlgEquiv <pre>1</pre> <pre>x&gt;1</pre> 0 ATAlgEquiv_SA_not_inequality. Your answer should be an inequality, but is not. AlgEquiv <pre>x=1</pre> <pre>x&gt;1 and x&lt;5</pre> 0 ATAlgEquiv_TA_not_equation. You have entered an equation, but an equation is not expected here. You may have typed something like \"y=2*x+1\" when you only needed to type \"2*x+1\". AlgEquiv <pre>x&lt;1</pre> <pre>x&gt;1</pre> 0 ATInequality_backwards. Your inequality appears to be backwards. AlgEquiv <pre>1&lt;x</pre> <pre>x&gt;1</pre> 1 AlgEquiv <pre>a&lt;b</pre> <pre>b&gt;a</pre> 1 AlgEquiv <pre>2&lt;2*x</pre> <pre>x&gt;1</pre> 1 AlgEquiv <pre>-2&gt;-2*x</pre> <pre>x&gt;1</pre> 1 AlgEquiv <pre>x&gt;1</pre> <pre>x&lt;=1</pre> 0 ATInequality_strict. ATInequality_backwards. Your inequality should not be strict! Your inequality appears to be backwards. AlgEquiv <pre>x&gt;=2</pre> <pre>x&lt;2</pre> 0 ATInequality_nonstrict. ATInequality_backwards. Your inequality should be strict, but is not! Your inequality appears to be backwards. AlgEquiv <pre>x&gt;=1</pre> <pre>x&gt;2</pre> 0 ATInequality_nonstrict. Your inequality should be strict, but is not! AlgEquiv <pre>x&gt;1</pre> <pre>x&gt;1</pre> 1 AlgEquiv <pre>x&gt;=1</pre> <pre>x&gt;=1</pre> 1 AlgEquiv <pre>x&gt;2</pre> <pre>x&gt;1</pre> 0 AlgEquiv <pre>1&lt;x</pre> <pre>x&gt;1</pre> 1 AlgEquiv <pre>2*x&gt;=x^2</pre> <pre>x^2&lt;=2*x</pre> 1 AlgEquiv <pre>2*x&gt;=x^2</pre> <pre>x^2&lt;=2*x</pre> 1 AlgEquiv <pre>3*x^2&lt;9*a</pre> <pre>x^2-3*a&lt;0</pre> 1 AlgEquiv <pre>x^2&gt;4</pre> <pre>x&gt;2 or x&lt;-2</pre> 1 ATLogic_True. AlgEquiv <pre>1&lt;x or x&lt;-3</pre> <pre>x&lt;-3 or 1&lt;x</pre> 1 ATLogic_True. AlgEquiv <pre>1&lt;x or x&lt;-3</pre> <pre>x&lt;-1 or 3&lt;x</pre> 0 AlgEquiv <pre>x&gt;1 and x&lt;5</pre> <pre>x&gt;1 and x&lt;5</pre> 1 ATLogic_True. AlgEquiv <pre>x&gt;1 and x&lt;5</pre> <pre>5&gt;x and 1&lt;x</pre> 1 ATLogic_True. AlgEquiv <pre>not (x&lt;=2 and -2&lt;=x)</pre> <pre>x&gt;2 or -2&gt;x</pre> 1 ATLogic_True. AlgEquiv <pre>x&gt;2 or -2&gt;x</pre> <pre>not (x&lt;=2 and -2&lt;=x)</pre> 1 ATLogic_True. AlgEquiv <pre>x&gt;=1 or 1&lt;=x</pre> <pre>x&gt;=1</pre> 1 AlgEquiv <pre>x&gt;=1 and x&lt;=1</pre> <pre>x=1</pre> 1 ATInequality_solver. AlgEquiv <pre>(x&gt;4 and x&lt;5) or (x&lt;-\n4 and x&gt;-5) or (x+5&gt;0 an\nd x&lt;-4)</pre> <pre>(x&gt;-5 and x&lt;-4) or (x&gt;\n;4 and x&lt;5)</pre> 1 ATLogic_True. AlgEquiv <pre>(x&gt;4 and x&lt;5) or (x&lt;-\n4 and x&gt;-5) or (x+5&gt;0 an\nd x&lt;-4)</pre> <pre>(x&gt;-5 and x&lt;-4) or (x&gt;\n;8 and x&lt;5)</pre> 0 AlgEquiv <pre>(x &lt; 0 nounor x &gt;= 1) no\nunand x &lt;= 3</pre> <pre>x &lt; 0 or (x &gt;= 1 and x &amp;\nlt;= 3)</pre> 1 ATLogic_True. AlgEquiv <pre>(x &lt; 0 nounor x &gt;= 1) no\nunand x &lt;= 3</pre> <pre>x &lt; 0 or x &gt;= 1 and x &amp;l\nt;= 3</pre> 1 ATLogic_True. AlgEquiv <pre>(x &lt; 0 nounor x &gt;= 1) no\nunand x &lt;= 3</pre> <pre>x &lt; 0 or (x &gt;= 1 and x &amp;\nlt;= 3)</pre> 1 ATLogic_True. AlgEquiv <pre>(x &lt; 0 nounor x &gt;= 1) no\nunand x &lt;= 3</pre> <pre>(x &lt; 0 or x &gt;= 1) and x \n&lt;= 3</pre> 1 ATLogic_True. AlgEquiv <pre>(x &lt; 0 nounor x &gt;= 1) no\nunand x &lt;= 3</pre> <pre>x &lt; 0 or (x &gt;= 1 and x &amp;\nlt;= 3)</pre> 1 ATLogic_True. AlgEquiv <pre>natural_domain(1/x^2)</pre> <pre>natural_domain(1/x)</pre> 1 ATRealSet_true. AlgEquiv <pre>x^4&gt;=0</pre> <pre>x^2&gt;=0</pre> 1 AlgEquiv <pre>x^4&gt;=16</pre> <pre>x^2&gt;=4</pre> 1 AlgEquiv <pre>x^4&gt;=16</pre> <pre>x^2&gt;=4</pre> 1 AlgEquiv <pre>-3&lt;=x</pre> <pre>-3&lt;=x nounand x&lt;=3</pre> 0 AlgEquiv <pre>{2,-2}</pre> <pre>x&gt;2 nounor -2&gt;x</pre> 0 ATAlgEquiv_SA_not_logic. Your answer should be an equation, inequality or a logical combination of many of these, but is not. AlgEquiv <pre>x^2&lt;4</pre> <pre>x&lt;2 nounand x&gt;-2</pre> 1 ATLogic_Solver_True. AlgEquiv <pre>x^2&lt;6</pre> <pre>x&lt;2 nounand x&gt;-2</pre> 0 AlgEquiv <pre>x&gt;1 nounand x&lt;-1</pre> <pre>false</pre> 1 ATLogic_Solver_True. AlgEquiv <pre>x&gt;1 nounand x&lt;3</pre> <pre>true</pre> 0 AlgEquiv <pre>x&gt;1 nounor x&lt;3</pre> <pre>true</pre> 1 ATLogic_Solver_True. AlgEquiv <pre>x&gt;1 nounor x&lt;3</pre> <pre>all</pre> 1 ATLogic_Solver_True. AlgEquiv <pre>abs(x)&lt;1</pre> <pre>abs(x)&lt;1</pre> 1 AlgEquiv <pre>abs(x)&lt;1</pre> <pre>abs(x)&lt;2</pre> 0 AlgEquiv <pre>abs(x)&lt;1</pre> <pre>abs(x)&gt;1</pre> 0 ATInequality_backwards. Your inequality appears to be backwards. AlgEquiv ! <pre>abs(x)&lt;2</pre> <pre>-2&lt;x and x&lt;2</pre> -3 AlgEquiv ! <pre>-2&lt;x and x&lt;2</pre> <pre>abs(x)&lt;2</pre> -3 AlgEquiv <pre>abs(x)&lt;2</pre> <pre>-1&lt;x and x&lt;1</pre> 0 AlgEquiv <pre>x^2&lt;=9</pre> <pre>abs(x)&lt;3</pre> 0 AlgEquiv ! <pre>x^2&lt;=9</pre> <pre>abs(x)&lt;=3</pre> -3 AlgEquiv ! <pre>x^6&lt;1</pre> <pre>abs(x)&lt;1</pre> -3 AlgEquiv ! <pre>abs(x)&gt;1</pre> <pre>x&lt;-1 or x&gt;1</pre> -3 AlgEquiv <pre>minf &lt; x</pre> <pre>minf &lt;= x</pre> 0 ATInequality_strict. Your inequality should not be strict! AlgEquiv <pre>x&gt;minf</pre> <pre>minf &lt; x</pre> 1 AlgEquiv <pre>x&gt;-inf</pre> <pre>minf &lt; x</pre> 1 AlgEquiv <pre>x&lt;2*inf</pre> <pre>x&lt;inf</pre> 0 AlgEquiv <pre>minf &lt; x nounand x &lt;1</pre> <pre>x&lt;1</pre> 1 AlgEquiv <pre>minf &lt; x nounand x &lt;1</pre> <pre>x&lt;2</pre> 0 Maxima and infinity AlgEquiv <pre>2*inf</pre> <pre>inf</pre> 0 AlgEquiv <pre>-inf</pre> <pre>minf</pre> 0 Not equal to AlgEquiv <pre>x#1</pre> <pre>x#1</pre> 1 ATLogic_True. AlgEquiv <pre>x#(1+1)</pre> <pre>x#2</pre> 1 ATLogic_True. AlgEquiv <pre>1#x</pre> <pre>x#1</pre> 1 ATLogic_True. AlgEquiv <pre>a#b</pre> <pre>b#a</pre> 1 AlgEquiv <pre>x#2</pre> <pre>x-2#0</pre> 1 ATLogic_True. AlgEquiv <pre>[x#2]</pre> <pre>[x-2#0]</pre> 1 AlgEquiv <pre>x-3#0</pre> <pre>x#2</pre> 0 AlgEquiv <pre>x#2</pre> <pre>x&lt;2 nounor x&gt;2</pre> 1 ATLogic_Solver_True. AlgEquiv <pre>x^2-3#1</pre> <pre>x&lt;-2 nounor (x&lt;-2 and x&amp;\nlt;2) nounor 2&lt;x</pre> 0 AlgEquiv <pre>x^2-3#1</pre> <pre>x&lt;-2 nounor (-2&lt;x and x&amp;\nlt;2) nounor 2&lt;x</pre> 1 ATLogic_Solver_True. AlgEquiv <pre>x#1</pre> <pre>x#0</pre> 0 Surds AlgEquiv <pre>sqrt(12)</pre> <pre>2*sqrt(3)</pre> 1 AlgEquiv <pre>sqrt(11+6*sqrt(2))</pre> <pre>3+sqrt(2)</pre> 1 AlgEquiv <pre>(19601-13860*sqrt(2))^(7/4)</pre> <pre>(5*sqrt(2)-7)^7</pre> 1 AlgEquiv <pre>(19601-13861*sqrt(2))^(7/4)</pre> <pre>(5*sqrt(2)-7)^7</pre> 0 AlgEquiv <pre>(19601-13861*sqrt(2))^(7/4)</pre> <pre>(5*sqrt(2)-7)^7</pre> 0 AlgEquiv <pre>sqrt(2*log(26)+4-2*log(2))</pre> <pre>sqrt(2*log(13)+4)</pre> 1 AlgEquiv <pre>sqrt(2)*sqrt(3)+2*(sqrt(2/3))*\nx-(2/3)*(sqrt(2/3))*x^2+(4/9)*\n(sqrt(2/3))*x^3</pre> <pre>4*sqrt(6)*x^3/27-(2*sqrt(6)*x^\n2)/9+(2*sqrt(6)*x)/3+sqrt(6)</pre> 1 Factorials and binomials AlgEquiv <pre>(n+1)*n!</pre> <pre>(n+1)!</pre> 1 AlgEquiv <pre>n/n!</pre> <pre>1/(n-1)!</pre> 1 AlgEquiv <pre>n/n!</pre> <pre>1/(n+1)!</pre> 0 AlgEquiv <pre>n!/((k-1)!*(n-k+1)!)</pre> <pre>n!*k/(k!*(n-k+1)!)</pre> 1 AlgEquiv <pre>n!/(k!*(n-k)!)</pre> <pre>n!*(n-k+1)/(k!*(n-k+1)!)</pre> 1 AlgEquiv <pre>n!/(k!*(n-k)!)</pre> <pre>binomial(n,k)</pre> 1 AlgEquiv <pre>binomial(n,k)+binomial(n,k+1)</pre> <pre>binomial(n+1,k+1)</pre> 1 AlgEquiv <pre>n!/((k-1)!*(n-k+1)!)+n!/(k!*(n\n-k)!)</pre> <pre>n!*k/(k!*(n-k+1)!)+n!*(n-k+1)/\n(k!*(n-k+1)!)</pre> 1 AlgEquiv <pre>binomial(n,k)+binomial(n,k+1)</pre> <pre>binomial(n+1,k)</pre> 0 AlgEquiv <pre>binomial(n,k)</pre> <pre>binomial(n,n-k)</pre> 1 AlgEquiv <pre>175!*56!/(55!*176!)</pre> <pre>17556/55176</pre> 1 Unevaluated derviatives AlgEquiv <pre>3*s*diff(q(s),s)</pre> <pre>3*s*diff(q(s),s)</pre> 1 Sums and products AlgEquiv <pre>sum(k^n,n,0,3)</pre> <pre>sum(k^n,n,0,3)</pre> 1 AlgEquiv <pre>1+k+k^2+k^3</pre> <pre>sum(k^n,n,0,3)</pre> 1 AlgEquiv <pre>1+k+k^2</pre> <pre>sum(k^n,n,0,3)</pre> 0 AlgEquiv <pre>n*(n+1)*(2*n+1)/6</pre> <pre>sum(k^2,k,1,n)</pre> 1 AlgEquiv <pre>sum((k+1)^2,k,0,n-1)</pre> <pre>sum(k^2,k,1,n)</pre> 1 AlgEquiv <pre>product(cos(k*x),k,1,3)</pre> <pre>product(cos(k*x),k,1,3)</pre> 1 AlgEquiv <pre>cos(x)*cos(2*x)*cos(3*x)</pre> <pre>product(cos(k*x),k,1,3)</pre> 1 AlgEquiv <pre>cos(x)*cos(2*x)</pre> <pre>product(cos(k*x),k,1,3)</pre> 0 Scientific units are ignored AlgEquiv <pre>9.81*m/s^2</pre> <pre>stackunits(9.81,m/s^2)</pre> 1 AlgEquiv <pre>6*stackunits(1,m)</pre> <pre>stackunits(6,m)</pre> 1 AlgEquiv <pre>stackunits(2,m)^2</pre> <pre>stackunits(4,m^2)</pre> 1 AlgEquiv <pre>stackunits(2,s)^2</pre> <pre>stackunits(4,m^2)</pre> 0 Maxima does not simplify -inf (I agree!) AlgEquiv <pre>-inf</pre> <pre>minf</pre> 0 These currently fail AlgEquiv ! <pre>2/%i*ln(sqrt((1+z)/2)+%i*sqrt(\n(1-z)/2))</pre> <pre>-%i*ln(z+%i*sqrt(1-z^2))</pre> -3 AlgEquiv ! <pre>abs(x^2-4)/(abs(x-2)*abs(x+2))</pre> <pre>1</pre> -3 AlgEquiv ! <pre>abs(x^2-4)</pre> <pre>abs(x-2)*abs(x+2)</pre> -3 AlgEquiv ! <pre>(-1)^n*cos(x)^n</pre> <pre>(-cos(x))^n</pre> -3 AlgEquiv ! <pre>(sqrt(108)+10)^(1/3)-(sqrt(108\n)-10)^(1/3)</pre> <pre>2</pre> -3 AlgEquiv ! <pre>(sqrt(2+sqrt(2))+sqrt(2-sqrt(2\n)))/(2*sqrt(2))</pre> <pre>sqrt(sqrt(2)+2)/2</pre> -3 AlgEquiv ! <pre>sqrt(2*x*sqrt(x^2+1)+2*x^2+1)-\nsqrt(x^2+1)-x</pre> <pre>0</pre> -3 AlgEquiv ! <pre>(77+20*sqrt(13))^(1/6)-(77-20*\nsqrt(13))^(1/6)</pre> <pre>1</pre> -3 AlgEquiv ! <pre>(930249+416020*sqrt(5))^(1/30)\n-(930249-416020*sqrt(5))^(1/30\n)</pre> <pre>1</pre> -3 AlgEquiv ! <pre>cos(2*%pi/17)</pre> <pre>(-1+sqrt(17)+sqrt(34-2*sqrt(17\n)))/16+(2*sqrt(17+3*sqrt(17)-s\nqrt(34-2*sqrt(17))-2*sqrt(34+2\n*sqrt(17))))/16</pre> -3 AlgEquiv ! <pre>(41-sqrt(511))/2</pre> <pre>(sqrt((4*(cos((1/2*(acos((61/1\n040*sqrt(130)))-atan(11/3)))))\n^(2))+21)-(2*cos((1/2*(acos((6\n1/1040*sqrt(130)))-atan(11 / 3\n))))))^(2)</pre> -3 AlgEquiv ! <pre>a*(1+sqrt(2))=b</pre> <pre>a=b*(sqrt(2)-1)/3</pre> -3 ATEquation_default This is only equivalent for x&gt;=0... AlgEquiv ! <pre>atan(1/2)</pre> <pre>%pi/2-atan(2)</pre> -3 This is true for all x... AlgEquiv ! <pre>asinh(x)</pre> <pre>ln(x+sqrt(x^2+1))</pre> -3 Logical expressions AlgEquiv <pre>true and false</pre> <pre>false</pre> 1 ATLogic_True. AlgEquiv <pre>true or false</pre> <pre>false</pre> 0 AlgEquiv <pre>A and B</pre> <pre>B and A</pre> 1 ATLogic_True. AlgEquiv <pre>A and B</pre> <pre>C and A</pre> 0 AlgEquiv <pre>A and B=C</pre> <pre>C=B and A</pre> 1 ATLogic_True. AlgEquiv <pre>A and (B and C)</pre> <pre>A and B and C</pre> 1 ATLogic_True. AlgEquiv <pre>A and (B or C)</pre> <pre>A and (B or C)</pre> 1 ATLogic_True. AlgEquiv <pre>(A and B) or (A and C)</pre> <pre>A and (B or C)</pre> 1 ATLogic_True. AlgEquiv <pre>-(b#pm#sqrt(b^2-4*a*c))</pre> <pre>-b#pm#sqrt(b^2-4*a*c)</pre> 1 ATLogic_True. AlgEquiv <pre>x=-b#pm#c^2</pre> <pre>x=c^2-b or x=-c^2-b</pre> 1 ATLogic_True. AlgEquiv <pre>x#pm#a = y#pm#b</pre> <pre>x#pm#a = y#pm#b</pre> 1 ATEquation_sides AlgEquiv <pre>x#pm#a = y#pm#b</pre> <pre>x#pm#a = y#pm#c</pre> 0 ATEquation_lhs_notrhs AlgEquiv <pre>not(A) and not(B)</pre> <pre>not(A or B)</pre> 1 ATLogic_True. AlgEquiv <pre>not(A) and not(B)</pre> <pre>not(A and B)</pre> 0 AlgEquiv <pre>not(A) or B</pre> <pre>boolean_form(A implies B)</pre> 1 AlgEquiv <pre>not(A) or B</pre> <pre>A implies B</pre> 1 ATLogic_True. AlgEquiv <pre>not(A) and B</pre> <pre>A implies B</pre> 0 AlgEquiv <pre>(not A and B) or (not B and A)</pre> <pre>A xor B</pre> 1 ATLogic_True. AlgEquiv <pre>(A and B) or (not A and not B)</pre> <pre>A xnor B</pre> 1 ATLogic_True. AlgEquiv <pre>{not(A) or B,A and B}</pre> <pre>{A implies B,A and B}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{{\\rm not}\\left( A \\right)\\,{\\mbox{ or }}\\, B \\right \\}\\] AlgEquiv <pre>{A implies B,A and B}</pre> <pre>{not(A) and B,A and B}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{A\\,{\\mbox{ implies }}\\, B \\right \\}\\] Differential equations AlgEquiv <pre>diff(x^2,x)</pre> <pre>2*x</pre> 1 AlgEquiv <pre>diff(x^2,x)</pre> <pre>'diff(x^2,x)</pre> 1 AlgEquiv <pre>noundiff(x^2,x)</pre> <pre>2*x</pre> 1 AlgEquiv <pre>diff(y,x)</pre> <pre>0</pre> 1 AlgEquiv <pre>noundiff(y,x)</pre> <pre>0</pre> 1 AlgEquiv <pre>diff(y(x),x)</pre> <pre>0</pre> 0 AlgEquiv <pre>diff(y(x),x)</pre> <pre>diff(y,x)</pre> 0 AlgEquiv <pre>diff(y,x)</pre> <pre>diff(y,x,2)</pre> 1 Basic support for strings AlgEquiv <pre>\"Hello\"</pre> <pre>\"Hello\"</pre> 1 ATAlgEquiv_String AlgEquiv <pre>\"hello\"</pre> <pre>\"Hello\"</pre> 0 ATAlgEquiv_String AlgEquiv <pre>W</pre> <pre>\"Hello\"</pre> 0 ATAlgEquiv_SA_not_string. Your answer should be a string, but is not. AlgEquiv <pre>\"Hello\"</pre> <pre>x^2</pre> 0 ATAlgEquiv_SA_not_expression. Your answer should be an expression, not an equation, inequality, list, set or matrix."},{"location":"Authoring/Answer_Tests/Results/AlgEquivNouns/","title":"AlgEquivNouns: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> AlgEquivNouns Test?Student responseTeacher answerOptMarkAnswer note AlgEquivNouns <pre>1/0</pre> <pre>1</pre> -1 ATAlgEquivNouns_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. AlgEquivNouns <pre>1</pre> <pre>1/0</pre> -1 ATAlgEquivNouns_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. AlgEquivNouns <pre></pre> <pre>(x-1)^2</pre> -1 ATAlgEquivNounsTEST_FAILED-Empty SA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty student answer, probably a CAS validation problem when authoring the question. AlgEquivNouns <pre>x^2</pre> <pre></pre> -1 ATAlgEquivNounsTEST_FAILED-Empty TA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty teacher answer, probably a CAS validation problem when authoring the question. AlgEquivNouns <pre>x-1)^2</pre> <pre>(x-1)^2</pre> -1 ATAlgEquivNounsTEST_FAILED-Empty SA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty student answer, probably a CAS validation problem when authoring the question. AlgEquivNouns <pre>diff(x^2,x)</pre> <pre>2*x</pre> 1 AlgEquivNouns <pre>diff(x^2,x)</pre> <pre>'diff(x^2,x)</pre> 0 AlgEquivNouns <pre>diff(x^2,x)</pre> <pre>'diff(x^2,x)</pre> 0 AlgEquivNouns <pre>'diff(y,x)</pre> <pre>noundiff(y,x)</pre> 1 AlgEquivNouns <pre>diff(y,x)</pre> <pre>0</pre> 1 AlgEquivNouns <pre>'diff(y,x)</pre> <pre>0</pre> 0 AlgEquivNouns <pre>noundiff(y,x)</pre> <pre>0</pre> 0 AlgEquivNouns <pre>diff(y(x),x)</pre> <pre>0</pre> 0 AlgEquivNouns <pre>'diff(y,x,1)</pre> <pre>'diff(y,x,2)</pre> 0 AlgEquivNouns <pre>'diff(y(x),x)</pre> <pre>'diff(y,x)</pre> 0 AlgEquivNouns <pre>subst(y,y(x),'diff(y,x)+y\n=1)</pre> <pre>'diff(y,x)+y=1</pre> 1 ATEquation_sides AlgEquivNouns <pre>subst(y,y(x),'diff(y(x),x\n)+y(x)=1)</pre> <pre>'diff(y,x)+y=1</pre> 1 ATEquation_sides AlgEquivNouns <pre>subst(y(x),y,'diff(y,x)+y\n=1)</pre> <pre>'diff(y(x),x)+y(x)=1</pre> 1 ATEquation_sides AlgEquivNouns <pre>subst(y(x),y,'diff(y,x)+y\n=1)</pre> <pre>'diff(y,x)+y=1</pre> 0 ATEquation_default AlgEquivNouns <pre>subst(y(x),y,'diff(y(x),x\n)+y(x)=1)</pre> <pre>'diff(y,x)+y=1</pre> -1 ATAlgEquivNouns_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. subst: cannot substitute y(x) for operator y in expression y(x)  AlgEquivNouns <pre>y_x</pre> <pre>'diff(y,x)</pre> 0 Partials AlgEquivNouns <pre>noundiff(f,x,1,y,1)</pre> <pre>noundiff(noundiff(f,x),y)</pre> 1 AlgEquivNouns <pre>noundiff(noundiff(f,y),x)</pre> <pre>noundiff(noundiff(f,x),y)</pre> 1 AlgEquivNouns <pre>noundiff(noundiff(f,x),x)</pre> <pre>noundiff(f,x,2)</pre> 1 Differential equations AlgEquivNouns <pre>noundiff(H,x,2) = -R/T</pre> <pre>noundiff(H,x,2) + R/T = 0</pre> 1 ATEquation_ratio AlgEquivNouns <pre>'diff(H,x,2) = -R/T</pre> <pre>noundiff(H,x,2) + R/T = 0</pre> 1 ATEquation_ratio AlgEquivNouns <pre>y(t)=int(s^2,s,0,t)</pre> <pre>y(t)=t^3/3</pre> 1 ATEquation_sides AlgEquivNouns <pre>y(t)='int(s^2,s,0,t)</pre> <pre>y(t)=t^3/3</pre> 0 ATEquation_lhs_notrhs AlgEquivNouns <pre>y(t)='int(s^2,s,0,t)</pre> <pre>y(t)=nounint(s^2,s,0,t)</pre> 1 ATEquation_sides Logic nouns are still evaluated AlgEquivNouns <pre>true nounand false</pre> <pre>false</pre> 1 ATLogic_True."},{"location":"Authoring/Answer_Tests/Results/CasEqual/","title":"CasEqual: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> CasEqual Test?Student responseTeacher answerOptMarkAnswer note CasEqual <pre>1/0</pre> <pre>x^2-2*x+1</pre> -1 ATCASEqual_STACKERROR_SAns. CasEqual <pre>x</pre> <pre>1/0</pre> -1 ATCASEqual_STACKERROR_TAns. CasEqual <pre>0.5</pre> <pre>1/2</pre> <pre>x</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>x=1</pre> <pre>1</pre> 0 ATCASEqual ATAlgEquiv_TA_not_equation. You have entered an equation, but an equation is not expected here. You may have typed something like \"y=2*x+1\" when you only needed to type \"2*x+1\". Case sensitivity CasEqual <pre>a</pre> <pre>A</pre> 0 ATCASEqual_false. CasEqual <pre>exdowncase(X^2-2*X+1)</pre> <pre>x^2-2*x+1</pre> 1 ATCASEqual_true. Numbers CasEqual <pre>4^(-1/2)</pre> <pre>1/2</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>ev(4^(-1/2),simp)</pre> <pre>ev(1/2,simp)</pre> 1 ATCASEqual_true. CasEqual <pre>2^2</pre> <pre>4</pre> 0 ATCASEqual (AlgEquiv-true). Powers CasEqual <pre>a^2/b^3</pre> <pre>a^2*b^(-3)</pre> 0 ATCASEqual (AlgEquiv-true). Expressions with subscripts CasEqual <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> 1 ATCASEqual_true. CasEqual <pre>rho*z*V/(4*pi*epsilon[1]*(R^2+\nz^2)^(3/2))</pre> <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> 0 ATCASEqual_false. Mix of floats and rational numbers CasEqual <pre>0.5</pre> <pre>1/2</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>x^(1/2)</pre> <pre>sqrt(x)</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>ev(x^(1/2),simp)</pre> <pre>ev(sqrt(x),simp)</pre> 1 ATCASEqual_true. CasEqual <pre>abs(x)</pre> <pre>sqrt(x^2)</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>ev(abs(x),simp)</pre> <pre>ev(sqrt(x^2),simp)</pre> 1 ATCASEqual_true. CasEqual <pre>x-1</pre> <pre>(x^2-1)/(x+1)</pre> 0 ATCASEqual (AlgEquiv-true). Polynomials and rational function CasEqual <pre>x+x</pre> <pre>2*x</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>ev(x+x,simp)</pre> <pre>ev(2*x,simp)</pre> 1 ATCASEqual_true. CasEqual <pre>x+x^2</pre> <pre>x^2+x</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>ev(x+x^2,simp)</pre> <pre>ev(x^2+x,simp)</pre> 1 ATCASEqual_true. CasEqual <pre>(x-1)^2</pre> <pre>x^2-2*x+1</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>(x-1)^(-2)</pre> <pre>1/(x^2-2*x+1)</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>1/n-1/(n+1)</pre> <pre>1/(n*(n+1))</pre> 0 ATCASEqual (AlgEquiv-true). Trig functions CasEqual <pre>cos(x)</pre> <pre>cos(-x)</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>ev(cos(x),simp)</pre> <pre>ev(cos(-x),simp)</pre> 1 ATCASEqual_true. CasEqual <pre>cos(x)^2+sin(x)^2</pre> <pre>1</pre> 0 ATCASEqual (AlgEquiv-true). CasEqual <pre>2*cos(x)^2-1</pre> <pre>cos(2*x)</pre> 0 ATCASEqual (AlgEquiv-true). Predicate function wrapper CasEqual <pre>imag_numberp(2*%i)</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>imag_numberp(%e^(%i*%pi/2))</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>imag_numberp(2)</pre> <pre>false</pre> 1 ATCASEqual_true. CasEqual <pre>imag_numberp(%e^(%pi/2))</pre> <pre>false</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(3*%e^(%i*\n%pi/6))</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(3)</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(%e^(%i*%p\ni/6))</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(%e^%i)</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(%e^(%pi/6\n))</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(3+%i)</pre> <pre>false</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(%e^(%i)/4\n)</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>complex_exponentialp(3*exp(%i*\n%pi/6))</pre> <pre>true</pre> 1 ATCASEqual_true. CasEqual <pre>integerp(-1)</pre> <pre>true</pre> 0 ATCASEqual_false. CasEqual <pre>integerp(ev(-1,simp))</pre> <pre>true</pre> 1 ATCASEqual_true."},{"location":"Authoring/Answer_Tests/Results/CompSquare/","title":"CompSquare: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> CompSquare Test?Student responseTeacher answerOptMarkAnswer note CompSquare <pre>1/0</pre> <pre>0</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  CompSquare <pre>1/0</pre> <pre>0</pre> <pre>x</pre> -1 ATCompSquare_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. CompSquare <pre>0</pre> <pre>1/0</pre> <pre>x</pre> -1 ATCompSquare_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. CompSquare <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATCompSquare_STACKERROR_Opt. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Category errors. CompSquare <pre>1</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_SA_not_depend_var. Your answer should depend on the variable \\(x\\) but it does not! CompSquare <pre>(t-1)^2+1</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_SA_not_depend_var. Your answer should depend on the variable \\(x\\) but it does not! CompSquare <pre>(x-1)^2+1=0</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_STACKERROR_LIST. Your answer should be an expression, not an equation, inequality, list, set or matrix. CompSquare <pre>sin(x-1)+a-1</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_false_not_AlgEquiv. Trivial cases CompSquare <pre>1</pre> <pre>1</pre> <pre>x</pre> 1 ATCompSquare_true_trivial. CompSquare <pre>x-a</pre> <pre>x-a</pre> <pre>x</pre> 1 ATCompSquare_true_trivial. CompSquare <pre>x^2</pre> <pre>x^2</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>x^2-1</pre> <pre>(x-1)*(x+1)</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>(x-1)^2*k</pre> <pre>(x-1)^2*k</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>(x-1)^2/k</pre> <pre>(x-1)^2/k</pre> <pre>x</pre> 1 ATCompSquare_true. Normal cases CompSquare <pre>(x-1)^2+1</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>(1-x)^2+1</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>(X-1)^2+1</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_SA_not_depend_var. Your answer should depend on the variable \\(x\\) but it does not! CompSquare <pre>9*(x-1)^2+1</pre> <pre>(3*x-3)^2+1</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>-(x-1)^2</pre> <pre>-(x-1)^2</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>-(1-x)^2</pre> <pre>-(x-1)^2</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>-(x-1)^2+3</pre> <pre>-(x-1)^2+3</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>-(1-x)^2+3</pre> <pre>-(x-1)^2+3</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>-4*(x-1)^2+3</pre> <pre>-4*(x-1)^2+3</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>-4*(x-1)^2+3</pre> <pre>-(2*x-2)^2+3</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>3-4*(x-1)^2</pre> <pre>-(2*x-2)^2+3</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>(x-1)^2+1</pre> <pre>(x+1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_true_not_AlgEquiv. Your answer appears to be in the correct form, but is not equivalent to the correct answer. CompSquare <pre>(x-a^2)^2+1+b</pre> <pre>(x-a^2)^2+1+b</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>x^2-2*x+2</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_false_no_summands. The completed square is of the form \\( a(\\cdots\\cdots)^2 + b\\) where \\(a\\) and \\(b\\) do not depend on your variable. More than one of your summands appears to depend on the variable in your answer. CompSquare <pre>x+1</pre> <pre>(x-1)^2+1</pre> <pre>x</pre> 0 ATCompSquare_false_not_AlgEquiv. CompSquare <pre>a*(x-1)^2+1</pre> <pre>a*(x-1)^2+1</pre> <pre>x</pre> 1 ATCompSquare_true. CompSquare <pre>-a*(x-1)^2+1</pre> <pre>1-a*(x-1)^2</pre> <pre>x</pre> 1 ATCompSquare_true. Not simple variable CompSquare <pre>(sin(x)-1)^2+1</pre> <pre>(sin(x)-1)^2+1</pre> <pre>sin(x)</pre> 1 ATCompSquare_true. CompSquare <pre>(x^2-1)^2+1</pre> <pre>(x^2-1)^2+1</pre> <pre>x^2</pre> 1 ATCompSquare_true. CompSquare <pre>(y-1)^2+1</pre> <pre>(y-1)^2+1</pre> <pre>y</pre> 1 ATCompSquare_true. CompSquare <pre>(y+1)^2+1</pre> <pre>(y-1)^2+1</pre> <pre>y</pre> 0 ATCompSquare_true_not_AlgEquiv. Your answer appears to be in the correct form, but is not equivalent to the correct answer. CompSquare <pre>(x-1)^2+1</pre> <pre>(sin(x)-1)^2+1</pre> <pre>sin(x)</pre> 0 ATCompSquare_SA_not_depend_var. Your answer should depend on the variable \\({\\it facdum}\\) but it does not!"},{"location":"Authoring/Answer_Tests/Results/Diff/","title":"Diff: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> Diff Test?Student responseTeacher answerOptMarkAnswer note Diff <pre>1/0</pre> <pre>3*x^2</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  Diff <pre>0</pre> <pre>1/0</pre> <pre>(x</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Option field is invalid. You have a missing right bracket ) in the expression: (x. Diff <pre>1/0</pre> <pre>3*x^2</pre> <pre>x</pre> -1 ATDiff_STACKERROR_SAns. Diff <pre>0</pre> <pre>1/0</pre> <pre>x</pre> -1 ATDiff_STACKERROR_TAns. Diff <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATDiff_STACKERROR_Opt. Basic tests Diff <pre>3*x^2</pre> <pre>3*x^2</pre> <pre>x</pre> 1 ATDiff_true. Diff <pre>3*X^2</pre> <pre>3*x^2</pre> <pre>x</pre> 0 ATDiff_var_SB_notSA. Diff <pre>x^4/4</pre> <pre>3*x^2</pre> <pre>x</pre> 0 ATDiff_int. It looks like you have integrated instead! Diff <pre>x^4/4+1</pre> <pre>3*x^2</pre> <pre>x</pre> 0 ATDiff_int. It looks like you have integrated instead! Diff <pre>x^4/4+c</pre> <pre>3*x^2</pre> <pre>x</pre> 0 ATDiff_int. It looks like you have integrated instead! Diff <pre>y=x^4/4</pre> <pre>x^4/4</pre> <pre>x</pre> 0 ATDiff_SA_not_expression. Your answer should be an expression, not an equation, inequality, list, set or matrix. Diff <pre>x^4/4</pre> <pre>y=x^4/4</pre> <pre>x</pre> 0 Diff <pre>y=x^4/4</pre> <pre>y=x^4/4</pre> <pre>x</pre> 0 ATDiff_SA_not_expression. Your answer should be an expression, not an equation, inequality, list, set or matrix. Diff <pre>6000*(x-a)^5999</pre> <pre>6000*(x-a)^5999</pre> <pre>x</pre> 1 ATDiff_true. Diff <pre>5999*(x-a)^5999</pre> <pre>6000*(x-a)^5999</pre> <pre>x</pre> 0 Variable mismatch tests Diff <pre>y^2-2*y+1</pre> <pre>x^2-2*x+1</pre> <pre>x</pre> 0 ATDiff_var_SB_notSA. Diff <pre>x^2-2*x+1</pre> <pre>y^2-2*y+1</pre> <pre>x</pre> 0 ATDiff_var_SA_notSB. Diff <pre>y^2+2*y+1</pre> <pre>x^2-2*x+1</pre> <pre>z</pre> 0 ATDiff_var_notSASB_SAnceSB. Diff <pre>x^4/4</pre> <pre>3*x^2</pre> <pre>y</pre> 0 Edge cases Diff <pre>e^x+c</pre> <pre>e^x</pre> <pre>x</pre> 0 ATDiff_int. It looks like you have integrated instead! Diff <pre>e^x+2</pre> <pre>e^x</pre> <pre>x</pre> 0 ATDiff_int. It looks like you have integrated instead! Diff <pre>n*x^n</pre> <pre>n*x^(n-1)</pre> <pre>x</pre> -1 ATDiff_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. TIMEDOUT Diff <pre>n*x^n</pre> <pre>(assume(n&gt;0), n*x^(n-1))</pre> <pre>x</pre> 0"},{"location":"Authoring/Answer_Tests/Results/EqualComAss/","title":"EqualComAss: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> EqualComAss Test?Student responseTeacher answerOptMarkAnswer note EqualComAss <pre>1/0</pre> <pre>0</pre> -1 ATEqualComAss_STACKERROR_SAns. EqualComAss <pre>0</pre> <pre>1/0</pre> -1 ATEqualComAss_STACKERROR_TAns. Numbers EqualComAss <pre>2/4</pre> <pre>1/2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>3^2</pre> <pre>8</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>3^2</pre> <pre>9</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>cos(0)</pre> <pre>1</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>4^(1/2)</pre> <pre>2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>1/3^(1/2)</pre> <pre>(1/3)^(1/2)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>sqrt(3)/3</pre> <pre>(1/3)^(1/2)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>sqrt(3)</pre> <pre>3^(1/2)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>2*sqrt(2)</pre> <pre>sqrt(8)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>2*2^(1/2)</pre> <pre>sqrt(8)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>sqrt(2)/4</pre> <pre>1/sqrt(8)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>1/sqrt(2)</pre> <pre>2^(1/2)/2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>4.0</pre> <pre>4</pre> 0 ATEqualComAss (AlgEquiv-true). Case sensitivity EqualComAss <pre>X</pre> <pre>x</pre> 0 ATEqualComAss (AlgEquiv-false)ATAlgEquiv_WrongCase. EqualComAss <pre>exdowncase(X)</pre> <pre>x</pre> 1 EqualComAss <pre>exdowncase((X-1)^2)</pre> <pre>x^2-2*x+1</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>exdowncase(X^2-2*X+1)</pre> <pre>x^2-2*x+1</pre> 1 Powers EqualComAss <pre>a^2/b^3</pre> <pre>a^2*b^(-3)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>lg(a^x,a)</pre> <pre>x</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>x^(2/4)</pre> <pre>x^(1/2)</pre> 0 ATEqualComAss (AlgEquiv-true). Simple polynomials EqualComAss <pre>1+2*x</pre> <pre>x*2+1</pre> 1 EqualComAss <pre>1+x</pre> <pre>2*x+1</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>1+x+x</pre> <pre>2*x+1</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(x+y)+z</pre> <pre>z+x+y</pre> 1 EqualComAss <pre>x*x</pre> <pre>x^2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(x+5)*x</pre> <pre>x*(5+x)</pre> 1 EqualComAss <pre>x*(x+5)</pre> <pre>5*x+x^2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(1-x)^2</pre> <pre>(x-1)^2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(a-x)^6000</pre> <pre>(x-a)^6000</pre> 0 ATEqualComAss (AlgEquiv-true). Expressions with subscripts EqualComAss <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> 1 EqualComAss <pre>rho*z*V/(4*pi*epsilon[1]*(R^2+\nz^2)^(3/2))</pre> <pre>rho*z*V/(4*pi*epsilon[0]*(R^2+\nz^2)^(3/2))</pre> 0 ATEqualComAss (AlgEquiv-false). Unary minus EqualComAss <pre>-1+2</pre> <pre>2-1</pre> 1 EqualComAss <pre>-1*2+3*4</pre> <pre>3*4-1*2</pre> 1 EqualComAss <pre>(-1*2)+3*4</pre> <pre>10</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>-1*2+3*4</pre> <pre>3*4-1*2</pre> 1 EqualComAss <pre>x*(-y)</pre> <pre>-x*y</pre> 1 EqualComAss <pre>x*(-y)</pre> <pre>-(x*y)</pre> 1 EqualComAss <pre>(-x)*(-x)</pre> <pre>x*x</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(-x)*(-x)</pre> <pre>x^2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>-1/4*%pi*i</pre> <pre>-(%i*%pi)/4</pre> 0 ATEqualComAss (AlgEquiv-true). Rational expressions EqualComAss <pre>1/2</pre> <pre>3/6</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>1/(1+2*x)</pre> <pre>1/(2*x+1)</pre> 1 EqualComAss <pre>2/(4+2*x)</pre> <pre>1/(x+2)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(a*b)/c</pre> <pre>a*(b/c)</pre> 1 EqualComAss <pre>((x+1)/(x*(x-1)))*(x-1)</pre> <pre>((x+1)*(x-1))/(x*(x-1))</pre> 1 EqualComAss <pre>(-x)/y</pre> <pre>-(x/y)</pre> 1 EqualComAss <pre>x/(-y)</pre> <pre>-(x/y)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>-1/(1-x)</pre> <pre>1/(x-1)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>1/2*1/x</pre> <pre>1/(2*x)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(k+8)/(k^2+4*k-12)</pre> <pre>(k+8)/(k^2+4*k-12)</pre> 1 EqualComAss <pre>(k+8)/(k^2+4*k-12)</pre> <pre>(k+8)/((k-2)*(k+6))</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(k+7)/(k^2+4*k-12)</pre> <pre>(k+8)/(k^2+4*k-12)</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>-(2*k+6)/(k^2+4*k-12)</pre> <pre>-(2*k+6)/(k^2+4*k-12)</pre> 1 EqualComAss <pre>(a+b)/1</pre> <pre>(b+a)/1</pre> 1 No simplicifcation here EqualComAss <pre>1*x</pre> <pre>x</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>23+0*x</pre> <pre>23</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>x+0</pre> <pre>x</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>x^1</pre> <pre>x</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(1/2)*(a+b)</pre> <pre>(a+b)/2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>1/3*logbase(27,6)</pre> <pre>logbase(27,6)/3</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>1/3*lg(27,6)</pre> <pre>lg(27,6)/3</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>lg(root(x, n))</pre> <pre>lg(x, 10)/n</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>exp(x)</pre> <pre>%e^x</pre> 1 EqualComAss <pre>exp(x)^2</pre> <pre>%e^(2*x)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>exp(x)^2</pre> <pre>(%e^(x))^2</pre> 1 EqualComAss <pre>1/3*i</pre> <pre>i/3</pre> 0 ATEqualComAss (AlgEquiv-true). Complex numbers EqualComAss <pre>%i</pre> <pre>e^(i*pi/2)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(4*sqrt(3)*%i+4)^(1/5)</pre> <pre>rectform((4*sqrt(3)*%i+4)^(1/5\n))</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(4*sqrt(3)*%i+4)^(1/5)</pre> <pre>8^(1/5)*(cos(%pi/15)+%i*sin(%p\ni/15))</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>(4*sqrt(3)*%i+4)^(1/5)</pre> <pre>polarform((4*sqrt(3)*%i+4)^(1/\n5))</pre> 0 ATEqualComAss (AlgEquiv-true). Equations EqualComAss <pre>y=x</pre> <pre>x=y</pre> 1 EqualComAss <pre>x+1</pre> <pre>y=2*x+1</pre> 0 ATEqualComAss ATAlgEquiv_SA_not_equation. Your answer should be an equation, but is not. EqualComAss <pre>y=1+2*x</pre> <pre>y=2*x+1</pre> 1 EqualComAss <pre>y=x+x+1</pre> <pre>y=1+2*x</pre> 0 ATEqualComAss (AlgEquiv-true). Logic EqualComAss <pre>A and B</pre> <pre>B and A</pre> 1 EqualComAss <pre>A or B</pre> <pre>B or A</pre> 1 EqualComAss <pre>A or B</pre> <pre>B and A</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>not(true)</pre> <pre>false</pre> 0 ATEqualComAss (AlgEquiv-true). Sets EqualComAss <pre>{2*x+1,2}</pre> <pre>{2, 1+x*2}</pre> 1 EqualComAss <pre>2</pre> <pre>{2}</pre> 0 ATEqualComAss ATAlgEquiv_SA_not_set. Your answer should be a set, but is not. Note that the syntax to enter a set is to enclose the comma separated values with curly brackets. EqualComAss <pre>{2*x+1, 1+1}</pre> <pre>{2, 1+x*2}</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>{1,2}</pre> <pre>{1,{2}}</pre> 0 ATEqualComAss (AlgEquiv-false)ATSet_wrongentries. EqualComAss <pre>{4,3}</pre> <pre>{3,4}</pre> 1 EqualComAss <pre>{4,4}</pre> <pre>{4}</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>{-1,1,-1}</pre> <pre>{-1,-1,1}</pre> 1 EqualComAss <pre>{-1,1,-1}</pre> <pre>{-1,1}</pre> 0 ATEqualComAss (AlgEquiv-true). Lists EqualComAss <pre>[2*x+1,2]</pre> <pre>[1+x*2,2]</pre> 1 EqualComAss <pre>[x+x+1, 1+1]</pre> <pre>[1+x*2,2]</pre> 0 ATEqualComAss (AlgEquiv-true). Matrices EqualComAss <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2],[2,3])</pre> 1 EqualComAss <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2,3],[2,3,3])</pre> 0 ATEqualComAss (AlgEquiv-false)ATMatrix_wrongsz_columns. EqualComAss <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2],[2,5])</pre> 0 ATEqualComAss (AlgEquiv-false)ATMatrix_wrongentries. EqualComAss <pre>matrix([1,2],[2,2+1])</pre> <pre>matrix([1,2],[2,3])</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>matrix([x+x, 1],[1, 1])</pre> <pre>matrix([2*x, 1],[1, 1])</pre> 0 ATEqualComAss (AlgEquiv-true). Sums and products EqualComAss <pre>sum(k^n,n,0,3)</pre> <pre>sum(k^n,n,0,3)</pre> 1 EqualComAss <pre>1+k+k^2+k^3</pre> <pre>sum(k^n,n,0,3)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>sum(k,k,0,1+n)</pre> <pre>sum(k,k,0,n+1)</pre> 1 EqualComAss <pre>(n+1)*(n+2)/2</pre> <pre>sum(k,k,0,n+1)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>product(cos(k*x),k,1,3)</pre> <pre>product(cos(k*x),k,1,3)</pre> 1 EqualComAss <pre>cos(x)*cos(2*x)*cos(3*x)</pre> <pre>product(cos(k*x),k,1,3)</pre> 0 ATEqualComAss (AlgEquiv-true). Inequalities are not commutative under this test EqualComAss <pre>-6/5 &gt; x</pre> <pre>x &lt; -6/5</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>x&lt;1 and -3&lt;x</pre> <pre>-3&lt;x and x&lt;1</pre> 1 EqualComAss <pre>1&gt;x and -3&lt;x</pre> <pre>-3&lt;x and x&lt;1</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>make_less_ineq(-6/5 &gt; x)</pre> <pre>x &lt; -6/5</pre> 1 EqualComAss <pre>make_less_ineq(1&gt;x and -3&amp;l\nt;x)</pre> <pre>-3&lt;x and x&lt;1</pre> 1 EqualComAss <pre>make_less_ineq(6/3 &gt; x)</pre> <pre>x &lt; 2</pre> 0 ATEqualComAss (AlgEquiv-true). Unary Equations EqualComAss <pre>1</pre> <pre>stackeq(1)</pre> 1 EqualComAss <pre>stackeq(1)</pre> <pre>1</pre> 1 EqualComAss <pre>stackeq(1+1)</pre> <pre>2</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>stackeq(1)</pre> <pre>0</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>lowesttermsp(1/3)</pre> <pre>true</pre> 1 EqualComAss <pre>lowesttermsp(2/6)</pre> <pre>true</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>lowesttermsp(x^2/x)</pre> <pre>true</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>lowesttermsp(-y/-x)</pre> <pre>true</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>lowesttermsp((x^2-1)/(x-1))</pre> <pre>true</pre> 0 ATEqualComAss (AlgEquiv-false). EqualComAss <pre>lowesttermsp((x^2-1)/(x+2))</pre> <pre>true</pre> 1 Bad things in denominators EqualComAss <pre>rationalized(1+sqrt(3)/3)</pre> <pre>true</pre> 1 EqualComAss <pre>rationalized(1+1/sqrt(3))</pre> <pre>[sqrt(3)]</pre> 1 EqualComAss <pre>rationalized(1/sqrt(3))</pre> <pre>[sqrt(3)]</pre> 1 EqualComAss <pre>rationalized(1/sqrt(2)+i/sqrt(\n2))</pre> <pre>[sqrt(2),sqrt(2)]</pre> 1 EqualComAss <pre>rationalized(sqrt(2)/2+1/sqrt(\n3))</pre> <pre>[sqrt(3)]</pre> 1 EqualComAss <pre>rationalized(1/sqrt(2)+1/sqrt(\n3))</pre> <pre>[sqrt(2),sqrt(3)]</pre> 1 EqualComAss <pre>rationalized(1/(1+i))</pre> <pre>[i]</pre> 1 EqualComAss <pre>rationalized(1/(1+1/root(3,2))\n)</pre> <pre>[root(3,2)]</pre> 1 Differential Equations EqualComAss <pre>diff(y,x)</pre> <pre>0</pre> 1 EqualComAss <pre>diff(x^2,x)</pre> <pre>2*x</pre> 1 EqualComAss <pre>noundiff(x^2,x)</pre> <pre>2*x</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>diff(y,x)</pre> <pre>'diff(y,x)</pre> 0 ATEqualComAss (AlgEquiv-true). EqualComAss <pre>noundiff(y,x)</pre> <pre>'diff(y,x)</pre> 1 EqualComAss <pre>'diff(y(x),x)</pre> <pre>'diff(y(x),x,1)</pre> 1 EqualComAss <pre>noundiff(y(x),x)=-x/4</pre> <pre>4*noundiff(y(x),x)+x=0</pre> 0 ATEqualComAss (AlgEquiv-true)."},{"location":"Authoring/Answer_Tests/Results/EqualComAssRules/","title":"EqualComAssRules: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> EqualComAssRules Test?Student responseTeacher answerOptMarkAnswer note EqualComAssRules <pre>1/0</pre> <pre>0</pre> <pre>[]</pre> -1 ATEqualComAssRules_STACKERROR_SAns. EqualComAssRules <pre>0</pre> <pre>1/0</pre> <pre>[]</pre> -1 ATEqualComAssRules_STACKERROR_TAns. EqualComAssRules <pre>0+a</pre> <pre>a</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  EqualComAssRules <pre>0+a</pre> <pre>a</pre> <pre>x</pre> -1 ATEqualComAssRules_Opt_List. The option to this answer test must be a non-empty list of supported rules. This is an error. Please contact your teacher. EqualComAssRules <pre>0+a</pre> <pre>a</pre> <pre>[x]</pre> -1 ATEqualComAssRules_Opt_Wrong. The option to this answer test must be a non-empty list of supported rules. This is an error. Please contact your teacher. EqualComAssRules <pre>0+a</pre> <pre>a</pre> <pre>[intMul,intFac]</pre> -1 ATEqualComAssRules_Opt_Incompatible. The option to this answer test contains incompatible rules. This is an error. Please contact your teacher. Basic cases EqualComAssRules <pre>1+1</pre> <pre>3</pre> <pre>[zeroAdd]</pre> 0 ATEqualComAssRules (AlgEquiv-false). EqualComAssRules <pre>1+1</pre> <pre>2</pre> <pre>[zeroAdd]</pre> 0 EqualComAssRules <pre>1+1</pre> <pre>2</pre> <pre>[testdebug,zero\nAdd]</pre> 0 ATEqualComAssRules: [1 nounadd 1,2]. EqualComAssRules <pre>0+a</pre> <pre>a</pre> <pre>[zeroAdd]</pre> 1 EqualComAssRules <pre>a+0</pre> <pre>a</pre> <pre>[zeroAdd]</pre> 1 EqualComAssRules <pre>1*a</pre> <pre>a</pre> <pre>[testdebug,zero\nAdd]</pre> 0 ATEqualComAssRules: [1 nounmul a,a]. EqualComAssRules <pre>1*a</pre> <pre>a</pre> <pre>[oneMul]</pre> 1 EqualComAssRules <pre>1*a</pre> <pre>a</pre> <pre>ID_TRANS</pre> 1 EqualComAssRules <pre>a/1</pre> <pre>a</pre> <pre>ID_TRANS</pre> 1 EqualComAssRules <pre>0*a</pre> <pre>0</pre> <pre>ID_TRANS</pre> 1 EqualComAssRules <pre>0-1*i</pre> <pre>-i</pre> <pre>ID_TRANS</pre> 1 EqualComAssRules <pre>0-i</pre> <pre>-i</pre> <pre>ID_TRANS</pre> 1 EqualComAssRules <pre>2+1*i</pre> <pre>2+i</pre> <pre>ID_TRANS</pre> 1 EqualComAssRules <pre>x^0+x^1/1+x^2/2+x^3/3!+x^4/4!</pre> <pre>1+x+x^2/2+x^3/3!+x^4/4!</pre> <pre>ID_TRANS</pre> 1 EqualComAssRules <pre>%e^x</pre> <pre>exp(x)</pre> <pre>[testdebug,ID_T\nRANS]</pre> 1 ATEqualComAssRules: [%e nounpow x,%e nounpow x]. EqualComAssRules <pre>12*%e^((2*(%pi/2)*%i)/2)</pre> <pre>12*exp(%i*(%pi/2))</pre> <pre>ID_TRANS</pre> 0 EqualComAssRules <pre>12*%e^((2*(%pi/2)*%i)/2)</pre> <pre>12*exp(%i*(%pi/2))</pre> <pre>[ID_TRANS,[negN\neg,negDiv,negOr\nd],[recipMul,di\nvDiv,divCancel]\n,[intAdd,intMul\n,intPow]]</pre> 1 EqualComAssRules <pre>0^(1-1)</pre> <pre>0</pre> <pre>ID_TRANS</pre> 0 ATEqualComAssRules_STACKERROR_SAns. EqualComAssRules <pre>0*a</pre> <pre>0</pre> <pre>delete(zeroMul,\n ID_TRANS)</pre> 0 EqualComAssRules <pre>-(-a)</pre> <pre>a</pre> <pre>[negNeg]</pre> 1 EqualComAssRules <pre>-(-(-a))</pre> <pre>-a</pre> <pre>[negNeg]</pre> 1 EqualComAssRules <pre>-(-(-a))</pre> <pre>a</pre> <pre>[testdebug,negN\neg]</pre> 0 ATEqualComAssRules (AlgEquiv-false). EqualComAssRules <pre>3/(-x)</pre> <pre>-3/x</pre> <pre>ID_TRANS</pre> 0 EqualComAssRules <pre>3/(-x)</pre> <pre>-3/x</pre> <pre>[testdebug,ID_T\nRANS]</pre> 0 ATEqualComAssRules: [3 nounmul UNARY_RECIP UNARY_MINUS nounmul x,UNARY_MINUS nounmul 3 nounmul UNARY_RECIP x]. EqualComAssRules <pre>-x*(x+1)</pre> <pre>x*(-x-1)</pre> <pre>[negDist]</pre> 1 EqualComAssRules <pre>-x*(x-1)</pre> <pre>x*(1-x)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>-x*(x-1)</pre> <pre>x*(1-x)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>-5*x*(3-x)</pre> <pre>5*x*(x-3)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>-x*(x-1)*(x+1)</pre> <pre>x*(x-1)*(-x-1)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>-x*(x-1)*(x+1)</pre> <pre>x*(1-x)*(x+1)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>-x*(y-1)*(x-1)</pre> <pre>x*(1-x)*(y-1)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>-x*(y-1)*(x-1)</pre> <pre>x*(x-1)*(1-y)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>(x-y)*(y-x)</pre> <pre>-(x-y)*(x-y)</pre> <pre>NEG_TRANS</pre> 1 EqualComAssRules <pre>(x-y)*(y-x)</pre> <pre>-(x-y)^2</pre> <pre>[testdebug,NEG_\nTRANS]</pre> 0 ATEqualComAssRules: [UNARY_MINUS nounmul (x nounadd UNARY_MINUS nounmul y) nounmul (x nounadd UNARY_MINUS nounmul y),UNARY_MINUS nounmul (x nounadd UNARY_MINUS nounmul y) nounpow 2]. EqualComAssRules <pre>-x*(x-1)*(x+1)</pre> <pre>x*(1-x)*(x+1)</pre> <pre>[testdebug,negD\nist,negNeg]</pre> 0 ATEqualComAssRules: [x nounmul (UNARY_MINUS nounmul 1 nounadd UNARY_MINUS nounmul x) nounmul (x nounadd UNARY_MINUS nounmul 1),x nounmul (1 nounadd UNARY_MINUS nounmul x) nounmul (1 nounadd x)]. EqualComAssRules <pre>-x*(y-1)*(x-1)</pre> <pre>x*(x-1)*(1-y)</pre> <pre>[testdebug,negD\nist,negNeg]</pre> 0 ATEqualComAssRules: [x nounmul (1 nounadd UNARY_MINUS nounmul x) nounmul (y nounadd UNARY_MINUS nounmul 1),x nounmul (1 nounadd UNARY_MINUS nounmul y) nounmul (x nounadd UNARY_MINUS nounmul 1)]. EqualComAssRules <pre>3/(-x)</pre> <pre>-3/x</pre> <pre>[negDiv]</pre> 1 EqualComAssRules <pre>3/(-x)</pre> <pre>ev(-3,simp)/x</pre> <pre>[negDiv]</pre> 1 EqualComAssRules <pre>(-a)/(-x)</pre> <pre>-(-a/x)</pre> <pre>[testdebug,ID_T\nRANS]</pre> 0 ATEqualComAssRules: [UNARY_MINUS nounmul a nounmul UNARY_RECIP UNARY_MINUS nounmul x,UNARY_MINUS nounmul UNARY_MINUS nounmul a nounmul UNARY_RECIP x]. EqualComAssRules <pre>(-a)/(-x)</pre> <pre>-(-a/x)</pre> <pre>[negDiv]</pre> 1 EqualComAssRules <pre>(-a)/(-x)</pre> <pre>a/x</pre> <pre>[testdebug,negD\niv]</pre> 0 ATEqualComAssRules: [UNARY_MINUS nounmul UNARY_MINUS nounmul a nounmul UNARY_RECIP x,a nounmul UNARY_RECIP x]. EqualComAssRules <pre>(-a)/(-x)</pre> <pre>a/x</pre> <pre>[negDiv,negNeg]</pre> 1 EqualComAssRules <pre>1/(-x)</pre> <pre>(-1)/x</pre> <pre>[negDiv]</pre> 1 EqualComAssRules <pre>1/(-x)</pre> <pre>ev(-1,simp)/x</pre> <pre>[negDiv]</pre> 1 EqualComAssRules <pre>(2/-3)*(x-y)</pre> <pre>-(2/3)*(x-y)</pre> <pre>[negDiv]</pre> 1 EqualComAssRules <pre>(2/-3)*(x-y)</pre> <pre>(2/3)*(y-x)</pre> <pre>[negDiv]</pre> 0 EqualComAssRules <pre>(2/-3)*(x-y)</pre> <pre>(2/3)*(y-x)</pre> <pre>[negDiv,negOrd]</pre> 1 EqualComAssRules <pre>-2/(1-x)</pre> <pre>2/(x-1)</pre> <pre>[testdebug,negD\niv]</pre> 0 ATEqualComAssRules: [UNARY_MINUS nounmul 2 nounmul UNARY_RECIP (1 nounadd UNARY_MINUS nounmul x),2 nounmul UNARY_RECIP (x nounadd UNARY_MINUS nounmul 1)]. EqualComAssRules <pre>1/2*3/x</pre> <pre>3/(2*x)</pre> <pre>[testdebug,ID_T\nRANS]</pre> 0 ATEqualComAssRules: [3 nounmul (UNARY_RECIP 2) nounmul UNARY_RECIP x,3 nounmul UNARY_RECIP 2 nounmul x]. EqualComAssRules <pre>1/2*3/x</pre> <pre>3/(2*x)</pre> <pre>[ID_TRANS,recip\nMul]</pre> 1 EqualComAssRules <pre>5/2*3/x</pre> <pre>15/(2*x)</pre> <pre>[testdebug,ID_T\nRANS,recipMul]</pre> 0 ATEqualComAssRules: [3 nounmul 5 nounmul UNARY_RECIP 2 nounmul x,15 nounmul UNARY_RECIP 2 nounmul x]. EqualComAssRules <pre>-(x-y)</pre> <pre>y-x</pre> <pre>[negOrd]</pre> 1 EqualComAssRules <pre>5/2*3/x</pre> <pre>15/(2*x)</pre> <pre>[ID_TRANS,recip\nMul,intMul]</pre> 1 EqualComAssRules <pre>(3+2)*x+x</pre> <pre>5*x+x</pre> <pre>[ID_TRANS,intAd\nd]</pre> 1 EqualComAssRules <pre>(3-5)*x+x</pre> <pre>-2*x+x</pre> <pre>[ID_TRANS,intAd\nd]</pre> 1 EqualComAssRules <pre>7*x*(-3*x)</pre> <pre>-21*x*x</pre> <pre>[ID_TRANS,intMu\nl]</pre> 1 EqualComAssRules <pre>(-7*x)*(-3*x)</pre> <pre>21*x*x</pre> <pre>[testdebug,ID_T\nRANS,intMul]</pre> 0 ATEqualComAssRules: [UNARY_MINUS nounmul UNARY_MINUS nounmul 21 nounmul x nounmul x,21 nounmul x nounmul x]. EqualComAssRules <pre>(-7*x)*(-3*x)</pre> <pre>21*x*x</pre> <pre>[ID_TRANS,intMu\nl,negNeg]</pre> 1 ev(a/b/c, simp)=a/(b*c) EqualComAssRules <pre>a/b/c</pre> <pre>a/(b*c)</pre> <pre>[testdebug,ID_T\nRANS]</pre> 0 ATEqualComAssRules: [a nounmul (UNARY_RECIP b) nounmul UNARY_RECIP c,a nounmul UNARY_RECIP b nounmul c]. EqualComAssRules <pre>a/b/c</pre> <pre>a/(b*c)</pre> <pre>[ID_TRANS,recip\nMul]</pre> 1 EqualComAssRules <pre>(a/b)/c</pre> <pre>a/(b*c)</pre> <pre>[ID_TRANS,recip\nMul]</pre> 1 ev(a/(b/c), simp)=(a*c)/b EqualComAssRules <pre>a/(b/c)</pre> <pre>(a*c)/b</pre> <pre>[testdebug,ID_T\nRANS]</pre> 0 ATEqualComAssRules: [a nounmul UNARY_RECIP b nounmul UNARY_RECIP c,a nounmul c nounmul UNARY_RECIP b]. EqualComAssRules <pre>a/(b/c)</pre> <pre>(a*c)/b</pre> <pre>[testdebug,ID_T\nRANS,recipMul]</pre> 0 ATEqualComAssRules: [a nounmul UNARY_RECIP b nounmul UNARY_RECIP c,a nounmul c nounmul UNARY_RECIP b]. EqualComAssRules <pre>a/(b/c)</pre> <pre>(a*c)/b</pre> <pre>[ID_TRANS,divDi\nv]</pre> 1 EqualComAssRules <pre>A*a/(B*b/c)</pre> <pre>A*(a*c)/(B*b)</pre> <pre>[ID_TRANS,divDi\nv]</pre> 1 EqualComAssRules <pre>A*a/(B*b/c)*1/d</pre> <pre>A*(a*c)/(B*b)*1/d</pre> <pre>[ID_TRANS,divDi\nv]</pre> 1 EqualComAssRules <pre>D*A*a/(B*b/c)*1/d</pre> <pre>A*(a*c)/(B*b)*D/d</pre> <pre>[ID_TRANS,divDi\nv]</pre> 1 EqualComAssRules <pre>A*a/(B*b/c)*1/d</pre> <pre>A*(a*c)/(B*b*d)</pre> <pre>[testdebug,ID_T\nRANS,divDiv]</pre> 0 ATEqualComAssRules: [A nounmul a nounmul c nounmul (UNARY_RECIP B nounmul b) nounmul UNARY_RECIP d,A nounmul a nounmul c nounmul UNARY_RECIP B nounmul b nounmul d]. EqualComAssRules <pre>A*a/(B*b/c)*1/d</pre> <pre>A*(a*c)/(B*b*d)</pre> <pre>[ID_TRANS,divDi\nv,recipMul]</pre> 1 EqualComAssRules <pre>A/(B/(C/D))</pre> <pre>A*C/(B*D)</pre> <pre>[testdebug,ID_T\nRANS,divDiv]</pre> 0 ATEqualComAssRules: [A nounmul C nounmul (UNARY_RECIP B) nounmul UNARY_RECIP D,A nounmul C nounmul UNARY_RECIP B nounmul D]. EqualComAssRules <pre>A/(B/(C/D))</pre> <pre>A*C/(B*D)</pre> <pre>[ID_TRANS,divDi\nv,recipMul]</pre> 1 EqualComAssRules <pre>18</pre> <pre>2*3^2</pre> <pre>[intFac]</pre> 1 EqualComAssRules <pre>0+%i*(-(1/27))</pre> <pre>-(%i/27)</pre> <pre>[[zeroAdd,zeroM\nul,oneMul,onePo\nw,idPow,zeroPow\n,zPow,oneDiv],[\nnegNeg,negDiv,n\negOrd],[recipMu\nl,divDiv,divCan\ncel],[intAdd,in\ntMul,intPow]]</pre> 1 EqualComAssRules <pre>x=sqrt(3)+2</pre> <pre>x=3^(1/2)+2</pre> <pre>[ID_TRANS,sqrtR\nem]</pre> 1 EqualComAssRules <pre>x=sqrt(3)+2 nounor x=-sqrt(3)-\n2</pre> <pre>x=3^(1/2)+2 nounor x=-3^(1/2)-\n2</pre> <pre>ID_TRANS</pre> 0 EqualComAssRules <pre>x=sqrt(3)+2 nounor x=-sqrt(3)-\n2</pre> <pre>x=3^(1/2)+2 nounor x=-3^(1/2)-\n2</pre> <pre>[ID_TRANS,sqrtR\nem]</pre> 1 EqualComAssRules <pre>x=sqrt(3)+2 nounor x=-sqrt(3)+\n7</pre> <pre>x=3^(1/2)+2 nounor x=-3^(1/2)-\n2</pre> <pre>[ID_TRANS,sqrtR\nem]</pre> 0 ATEqualComAssRules (AlgEquiv-false)ATEquation_default. EqualComAssRules <pre>1/sqrt(3)</pre> <pre>1/3^(1/2)</pre> <pre>[ID_TRANS,sqrtR\nem]</pre> 1 EqualComAssRules <pre>1/sqrt(3)</pre> <pre>3^(-1/2)</pre> <pre>[ID_TRANS,sqrtR\nem]</pre> 0"},{"location":"Authoring/Answer_Tests/Results/Equiv/","title":"Equiv: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> Equiv Test?Student responseTeacher answerOptMarkAnswer note Equiv <pre>x</pre> <pre>[x^2=4,x=2 or x=-2]</pre> -1 ATEquiv_SA_not_list. The first argument to the Equiv answer test should be a list, but the test failed. Please contact your teacher. Equiv <pre>[x^2=4,x=2 or x=-2]</pre> <pre>x</pre> -1 ATEquiv_SB_not_list. The second argument to the Equiv answer test should be a list, but the test failed. Please contact your teacher. Equiv <pre>[1/0]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> -1 ATEquiv_STACKERROR_SAns. Equiv <pre>[x^2=4,x=2 or x=-2]</pre> <pre>[1/0]</pre> -1 ATEquiv_STACKERROR_TAns. Equiv <pre>[x^2=4,x=2 or x=-2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=4,x=#pm#2,x=2 and x=-2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 0 (EMPTYCHAR, EQUIVCHAR,ANDOR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x= \\pm 2&amp; \\cr \\color{red}{\\mbox{and/or confusion!}}&amp;\\left\\{\\begin{array}{l}x=2\\cr x=-2\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=4,x=2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 0 (EMPTYCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{red}{\\Leftarrow}&amp;x=2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=4,x=2]</pre> <pre>[x^2=4,x=2]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=4,x^2-4=0,(x-2)*(x+2)=0,x\n=2 or x=-2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-4=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-2\\right)\\cdot \\left(x+2\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=4,x= #pm#2, x=2 or x=-2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x= \\pm 2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-6*x+9=0,x=3]</pre> <pre>[x^2-6*x+9=0,x=3]</pre> 1 (EMPTYCHAR,SAMEROOTS) \\[\\begin{array}{lll} &amp;x^2-6\\cdot x+9=0&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=3&amp; \\cr \\end{array}\\] Equiv <pre>[]</pre> <pre>[]</pre> 1 (EMPTYCHAR) \\[\\begin{array}{lll} &amp;\\left[ \\right] &amp; \\cr \\end{array}\\] Equiv <pre>[x^2=-1]</pre> <pre>[]</pre> 1 (EMPTYCHAR) \\[\\begin{array}{lll} &amp;x^2=-1&amp; \\cr \\end{array}\\] Equiv <pre>[x=x,all]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x=x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbb{R}&amp; \\cr \\end{array}\\] Equiv <pre>[x=x,true]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x=x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbf{True}&amp; \\cr \\end{array}\\] Equiv <pre>[x=x,false]</pre> <pre>[]</pre> 0 (EMPTYCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;x=x&amp; \\cr \\color{red}{?}&amp;\\mathbf{False}&amp; \\cr \\end{array}\\] Equiv <pre>[1=1,all]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;1=1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbb{R}&amp; \\cr \\end{array}\\] Equiv <pre>[1=1,true]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;1=1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbf{True}&amp; \\cr \\end{array}\\] Equiv <pre>[0=0,all]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;0=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbb{R}&amp; \\cr \\end{array}\\] Equiv <pre>[0=0,true]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;0=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbf{True}&amp; \\cr \\end{array}\\] Equiv <pre>[1=2,false]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;1=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbf{False}&amp; \\cr \\end{array}\\] Equiv <pre>[1=2,none]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;1=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\emptyset&amp; \\cr \\end{array}\\] Equiv <pre>[1=2,{}]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;1=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left \\{ \\right \\}&amp; \\cr \\end{array}\\] Equiv <pre>[1=2,[]]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;1=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left[ \\right] &amp; \\cr \\end{array}\\] Equiv <pre>[x=1,X=1]</pre> <pre>[]</pre> 0 (EMPTYCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;x=1&amp; \\cr \\color{red}{?}&amp;X=1&amp; \\cr \\end{array}\\] Equiv <pre>[1/(x^2+1)=1/((x+%i)*(x-%i)),t\nrue]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{1}{x^2+1}=\\frac{1}{\\left(x+\\mathrm{i}\\right)\\cdot \\left(x-\\mathrm{i}\\right)}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbf{True}&amp; \\cr \\end{array}\\] Equiv <pre>[2^2,stackeq(4)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK) \\[\\begin{array}{lll} &amp;2^2&amp; \\cr \\color{green}{\\checkmark}&amp;=4&amp; \\cr \\end{array}\\] Equiv <pre>[2^2,stackeq(3)]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR) \\[\\begin{array}{lll} &amp;2^2&amp; \\cr \\color{red}{\\Rightarrow}&amp;=3&amp; \\cr \\end{array}\\] Equiv <pre>[2^2,4]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;2^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;4&amp; \\cr \\end{array}\\] Equiv <pre>[2^2,3]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR) \\[\\begin{array}{lll} &amp;2^2&amp; \\cr \\color{red}{\\Rightarrow}&amp;3&amp; \\cr \\end{array}\\] Equiv <pre>[lg(64,4),lg(4^3,4),3*lg(4,4),\n3]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\log_{4}\\left(64\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\log_{4}\\left(4^3\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;3\\cdot \\log_{4}\\left(4\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;3&amp; \\cr \\end{array}\\] Equiv <pre>[lg(64,4),stackeq(lg(4^3,4)),s\ntackeq(3*lg(4,4)),stackeq(3)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\log_{4}\\left(64\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\log_{4}\\left(4^3\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=3\\cdot \\log_{4}\\left(4\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=3&amp; \\cr \\end{array}\\] Equiv <pre>[x=1 or x=2,x=1 or 2]</pre> <pre>[]</pre> 0 (EMPTYCHAR,MISSINGVAR) \\[\\begin{array}{lll} &amp;x=1\\,{\\mbox{ or }}\\, x=2&amp; \\cr \\color{red}{\\mbox{Missing assignments}}&amp;x=1\\,{\\mbox{ or }}\\, 2&amp; \\cr \\end{array}\\] Equiv <pre>[x=1 or x=2,x=1 and x=2]</pre> <pre>[]</pre> 0 (EMPTYCHAR,ANDOR) \\[\\begin{array}{lll} &amp;x=1\\,{\\mbox{ or }}\\, x=2&amp; \\cr \\color{red}{\\mbox{and/or confusion!}}&amp;\\left\\{\\begin{array}{l}x=1\\cr x=2\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[x=1 and y=2,x=1 or y=2]</pre> <pre>[]</pre> 0 (EMPTYCHAR,ANDOR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}x=1\\cr y=2\\cr \\end{array}\\right.&amp; \\cr \\color{red}{\\mbox{and/or confusion!}}&amp;x=1\\,{\\mbox{ or }}\\, y=2&amp; \\cr \\end{array}\\] Equiv <pre>[a=b,a^2=b^2]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR) \\[\\begin{array}{lll} &amp;a=b&amp; \\cr \\color{red}{\\Rightarrow}&amp;a^2=b^2&amp; \\cr \\end{array}\\] Equiv <pre>[a=b,sqrt(a)=sqrt(b)]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;a=b&amp; \\cr \\color{red}{\\Leftarrow}&amp;\\sqrt{a}=\\sqrt{b}&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b^2,a=b]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;a^2=b^2&amp; \\cr \\color{red}{\\Leftarrow}&amp;a=b&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b^2,a=b or a=-b]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a^2=b^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, a=-b&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b^2,a= #pm#b,a= b or a=-b\n]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a^2=b^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a= \\pm b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, a=-b&amp; \\cr \\end{array}\\] Equiv <pre>[9*x^2/2-81*x/2+90=5*x^2/2-5*x\n-20 nounor 9*x^2/2-81*x/2+90=-\n(5*x^2/2-5*x-20),9*x^2-81*x+18\n0=5*x^2-10*x-40 nounor 9*x^2-8\n1*x+180=-5*x^2+10*x+40,4*x^2-7\n1*x+220=0 nounor 14*x^2-91*x+1\n40=0,x=(71 #pm# sqrt(71^2-4*4*\n220))/(2*4) nounor x=(91 #pm# \nsqrt(91^2-4*14*140))/(2*14),x=\n55/4 nounor x=4 nounor x=5/2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR,SAMEROOTS) \\[\\begin{array}{lll} &amp;\\frac{9\\cdot x^2}{2}-\\frac{81\\cdot x}{2}+90=\\frac{5\\cdot x^2}{2}-5\\cdot x-20\\,{\\mbox{ or }}\\, \\frac{9\\cdot x^2}{2}-\\frac{81\\cdot x}{2}+90=-\\left(\\frac{5\\cdot x^2}{2}-5\\cdot x-20\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;9\\cdot x^2-81\\cdot x+180=5\\cdot x^2-10\\cdot x-40\\,{\\mbox{ or }}\\, 9\\cdot x^2-81\\cdot x+180=-5\\cdot x^2+10\\cdot x+40&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;4\\cdot x^2-71\\cdot x+220=0\\,{\\mbox{ or }}\\, 14\\cdot x^2-91\\cdot x+140=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\frac{{71 \\pm \\sqrt{71^2-4\\cdot 4\\cdot 220}}}{2\\cdot 4}\\,{\\mbox{ or }}\\, x=\\frac{{91 \\pm \\sqrt{91^2-4\\cdot 14\\cdot 140}}}{2\\cdot 14}&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=\\frac{55}{4}\\,{\\mbox{ or }}\\, x=4\\,{\\mbox{ or }}\\, x=\\frac{5}{2}&amp; \\cr \\end{array}\\] Equiv <pre>[a=b,abs(a)=abs(b),a=b]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;a=b&amp; \\cr \\color{red}{\\Rightarrow}&amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\color{red}{\\Leftarrow}&amp;a=b&amp; \\cr \\end{array}\\] Equiv <pre>[abs(a)=abs(b),a=b or a=-b]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, a=-b&amp; \\cr \\end{array}\\] Equiv <pre>[abs(a)=abs(b),a^2=b^2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2=b^2&amp; \\cr \\end{array}\\] Equiv <pre>[x^3=8,x=2]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;x^3=8&amp; \\cr \\color{red}{\\Leftarrow}&amp;x=2&amp; \\cr \\end{array}\\] Equiv <pre>[x^3=8,x=2]</pre> <pre>[]</pre> <pre>[assumereal]</pre> 1 (ASSUMEREALVARS, EQUIVCHARREAL) \\[\\begin{array}{lll}\\color{blue}{(\\mathbb{R})}&amp;x^3=8&amp; \\cr \\color{green}{\\Leftrightarrow}\\, \\color{blue}{(\\mathbb{R})}&amp;x=2&amp; \\cr \\end{array}\\] Equiv <pre>[abs(x-1/2)+abs(x+1/2)=2,abs(x\n)=1]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left| x-\\frac{1}{2}\\right| +\\left| x+\\frac{1}{2}\\right| =2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left| x\\right| =1&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=9 and a&gt;0,a=3]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}a^2=9\\cr a &gt; 0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=3&amp; \\cr \\end{array}\\] Equiv <pre>[T=2*pi*sqrt(L/g),T^2=4*pi^2*L\n/g,g=4*pi^2*L/T^2]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;T=2\\cdot \\pi\\cdot \\sqrt{\\frac{L}{g}}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;T^2=\\frac{4\\cdot \\pi^2\\cdot L}{g}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;g=\\frac{4\\cdot \\pi^2\\cdot L}{T^2}&amp; \\cr \\end{array}\\] Equiv <pre>[a=b,a^2=b^2]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;a=b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2=b^2&amp; \\cr \\end{array}\\] Equiv <pre>[a=b,sqrt(a)=sqrt(b)]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;a=b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sqrt{a}=\\sqrt{b}&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b^2,a=b]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;a^2=b^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b^2,a=b or a=-b]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;a^2=b^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, a=-b&amp; \\cr \\end{array}\\] Equiv <pre>[a=b,abs(a)=abs(b)]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;a=b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\end{array}\\] Equiv <pre>[abs(a)=abs(b),a=b]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b&amp; \\cr \\end{array}\\] Equiv <pre>[abs(a)=abs(b),a=-b]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=-b&amp; \\cr \\end{array}\\] Equiv <pre>[abs(a)=abs(b),a=b or a=-b]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, a=-b&amp; \\cr \\end{array}\\] Equiv <pre>[x=abs(-2),x=2]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x=\\left| -2\\right| &amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2&amp; \\cr \\end{array}\\] Equiv <pre>[abs(a)=abs(b),a^2=b^2]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;\\left| a\\right| =\\left| b\\right| &amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2=b^2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=9,x=#pm#3,x=3 or x=-3,x=3\n]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x^2=9&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x= \\pm 3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=3\\,{\\mbox{ or }}\\, x=-3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=3&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=9,x=3]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x^2=9&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=3&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=2,x=#pm#sqrt(2),x=sqrt(2)\n or x=-sqrt(2)]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x^2=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x= \\pm \\sqrt{2}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\sqrt{2}\\,{\\mbox{ or }}\\, x=-\\sqrt{2}&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=2,x=sqrt(2)]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x^2=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\sqrt{2}&amp; \\cr \\end{array}\\] Equiv <pre>[x^2 = a^2-b,x = sqrt(a^2-b)]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x^2=a^2-b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\sqrt{a^2-b}&amp; \\cr \\end{array}\\] Equiv <pre>[2*(x-3) = 4*x-3*(x+2),2*x-6=x\n-6,x=0]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;2\\cdot \\left(x-3\\right)=4\\cdot x-3\\cdot \\left(x+2\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x-6=x-6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=0&amp; \\cr \\end{array}\\] Equiv <pre>[2*(x-3) = 5*x-3*(x+2),2*x-6=2\n*x-6,0=0,all]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;2\\cdot \\left(x-3\\right)=5\\cdot x-3\\cdot \\left(x+2\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x-6=2\\cdot x-6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;0=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\mathbb{R}&amp; \\cr \\end{array}\\] Equiv <pre>[2*(x-3) = 5*x-3*(x+1),2*x-6=2\n*x-3,0=3,{}]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;2\\cdot \\left(x-3\\right)=5\\cdot x-3\\cdot \\left(x+1\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x-6=2\\cdot x-3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;0=3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left \\{ \\right \\}&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b^2,a^2-b^2=0,(a-b)*(a+b)\n=0,a=b or a=-b]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a^2=b^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2-b^2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(a-b\\right)\\cdot \\left(a+b\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, a=-b&amp; \\cr \\end{array}\\] Equiv <pre>[a^3=b^3,a^3-b^3=0,(a-b)*(a^2+\na*b+b^2)=0,(a-b)=0,a=b]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR,IMPLIEDCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a^3=b^3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^3-b^3=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(a-b\\right)\\cdot \\left(a^2+a\\cdot b+b^2\\right)=0&amp; \\cr \\color{red}{\\Leftarrow}&amp;a-b=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b&amp; \\cr \\end{array}\\] Equiv <pre>[a^3=b^3,a^3-b^3=0,(a-b)*(a^2+\na*b+b^2)=0,(a-b)=0 or (a^2+a*b\n+b^2)=0, a=b or (a+(1+%i*sqrt(\n3))/2*b)*(a+(1-%i*sqrt(3))/2*b\n)=0, a=b or a=-(1+%i*sqrt(3))/\n2*b or a=-(1-%i*sqrt(3))/2*b]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a^3=b^3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^3-b^3=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(a-b\\right)\\cdot \\left(a^2+a\\cdot b+b^2\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a-b=0\\,{\\mbox{ or }}\\, a^2+a\\cdot b+b^2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, \\left(a+\\frac{1+\\mathrm{i}\\cdot \\sqrt{3}}{2}\\cdot b\\right)\\cdot \\left(a+\\frac{1-\\mathrm{i}\\cdot \\sqrt{3}}{2}\\cdot b\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b\\,{\\mbox{ or }}\\, a=\\frac{-\\left(1+\\mathrm{i}\\cdot \\sqrt{3}\\right)}{2}\\cdot b\\,{\\mbox{ or }}\\, a=\\frac{-\\left(1-\\mathrm{i}\\cdot \\sqrt{3}\\right)}{2}\\cdot b&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-x=30,x^2-x-30=0,(x-6)*(x+\n5)=0,x-6=0 or x+5=0,x=6 or x=-\n5]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2-x=30&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-x-30=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-6\\right)\\cdot \\left(x+5\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x-6=0\\,{\\mbox{ or }}\\, x+5=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=6\\,{\\mbox{ or }}\\, x=-5&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=2,x^2-2=0,(x-sqrt(2))*(x+\nsqrt(2))=0,x=sqrt(2) or x=-sqr\nt(2)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-\\sqrt{2}\\right)\\cdot \\left(x+\\sqrt{2}\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\sqrt{2}\\,{\\mbox{ or }}\\, x=-\\sqrt{2}&amp; \\cr \\end{array}\\] Equiv <pre>[x^2=2,x=#pm#sqrt(2),x=sqrt(2)\n or x=-sqrt(2)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x= \\pm \\sqrt{2}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\sqrt{2}\\,{\\mbox{ or }}\\, x=-\\sqrt{2}&amp; \\cr \\end{array}\\] Equiv <pre>[(2*x-7)^2=(x+1)^2,(2*x-7)^2 -\n(x+1)^2=0,(2*x-7+x+1)*(2*x-7-x\n-1)=0,(3*x-6)*(x-8)=0,x=2 or x\n=8]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;{\\left(2\\cdot x-7\\right)}^2={\\left(x+1\\right)}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(2\\cdot x-7\\right)}^2-{\\left(x+1\\right)}^2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(2\\cdot x-7+x+1\\right)\\cdot \\left(2\\cdot x-7-x-1\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(3\\cdot x-6\\right)\\cdot \\left(x-8\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=8&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-6*x=-9,(x-3)^2=0,x-3=0,x=\n3]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR,SAMEROOTS, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2-6\\cdot x=-9&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x-3\\right)}^2=0&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x-3=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=3&amp; \\cr \\end{array}\\] Equiv <pre>[(2*x-7)^2=(x+1)^2,sqrt((2*x-7\n)^2)=sqrt((x+1)^2),2*x-7=x+1,x\n=8]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR,IMPLIEDCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;{\\left(2\\cdot x-7\\right)}^2={\\left(x+1\\right)}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sqrt{{\\left(2\\cdot x-7\\right)}^2}=\\sqrt{{\\left(x+1\\right)}^2}&amp; \\cr \\color{red}{\\Leftarrow}&amp;2\\cdot x-7=x+1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=8&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-10*x+9 = 0, (x-5)^2-16 = \n0, (x-5)^2 =16, x-5 =#pm#4, x-\n5 =4 or x-5=-4, x = 1 or x = 9\n]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2-10\\cdot x+9=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x-5\\right)}^2-16=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x-5\\right)}^2=16&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x-5= \\pm 4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x-5=4\\,{\\mbox{ or }}\\, x-5=-4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=1\\,{\\mbox{ or }}\\, x=9&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-2*p*x-q=0,x^2-2*p*x=q,x^2\n-2*p*x+p^2=q+p^2,(x-p)^2=q+p^2\n,x-p=#pm#sqrt(q+p^2),x-p=sqrt(\nq+p^2) or x-p=-sqrt(q+p^2),x=p\n+sqrt(q+p^2) or x=p-sqrt(q+p^2\n)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2-2\\cdot p\\cdot x-q=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-2\\cdot p\\cdot x=q&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-2\\cdot p\\cdot x+p^2=q+p^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x-p\\right)}^2=q+p^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x-p= \\pm \\sqrt{q+p^2}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x-p=\\sqrt{q+p^2}\\,{\\mbox{ or }}\\, x-p=-\\sqrt{q+p^2}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=p+\\sqrt{q+p^2}\\,{\\mbox{ or }}\\, x=p-\\sqrt{q+p^2}&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-10*x+7=0,(x-5)^2-18=0,(x-\n5)^2=sqrt(18)^2,(x-5)^2-sqrt(1\n8)^2=0,(x-5-sqrt(18))*(x-5+sqr\nt(18))=0,x=5-sqrt(18) or x=5+s\nqrt(18)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2-10\\cdot x+7=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x-5\\right)}^2-18=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x-5\\right)}^2={\\sqrt{18}}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x-5\\right)}^2-{\\sqrt{18}}^2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-5-\\sqrt{18}\\right)\\cdot \\left(x-5+\\sqrt{18}\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=5-\\sqrt{18}\\,{\\mbox{ or }}\\, x=5+\\sqrt{18}&amp; \\cr \\end{array}\\] Equiv <pre>[9*x^2/2-81*x/2+90=5*x^2/2-5*x\n-20,4*x^2-71*x+220 = 0,x = (71\n #pm# 39)/8,x=55/4 nounor x=4]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{9\\cdot x^2}{2}-\\frac{81\\cdot x}{2}+90=\\frac{5\\cdot x^2}{2}-5\\cdot x-20&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;4\\cdot x^2-71\\cdot x+220=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\frac{{71 \\pm 39}}{8}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\frac{55}{4}\\,{\\mbox{ or }}\\, x=4&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+2*a*x = 0, x*(x+2*a)=0, (\nx+a-a)*(x+a+a)=0, (x+a)^2-a^2=\n0]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2+2\\cdot a\\cdot x=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\cdot \\left(x+2\\cdot a\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x+a-a\\right)\\cdot \\left(x+a+a\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x+a\\right)}^2-a^2=0&amp; \\cr \\end{array}\\] Equiv <pre>[x^3-1=0,(x-1)*(x^2+x+1)=0,x=1\n]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;x^3-1=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-1\\right)\\cdot \\left(x^2+x+1\\right)=0&amp; \\cr \\color{red}{\\Leftarrow}&amp;x=1&amp; \\cr \\end{array}\\] Equiv <pre>[x^3-1=0,(x-1)*(x^2+x+1)=0,x=1\n or x^2+x+1=0,x=1 or x = -(sqr\nt(3)*%i+1)/2 or x=(sqrt(3)*%i-\n1)/2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^3-1=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-1\\right)\\cdot \\left(x^2+x+1\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=1\\,{\\mbox{ or }}\\, x^2+x+1=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=1\\,{\\mbox{ or }}\\, x=\\frac{-\\left(\\sqrt{3}\\cdot \\mathrm{i}+1\\right)}{2}\\,{\\mbox{ or }}\\, x=\\frac{\\sqrt{3}\\cdot \\mathrm{i}-1}{2}&amp; \\cr \\end{array}\\] Equiv <pre>[a*x^2+b*x+c=0 or a=0,a^2*x^2+\na*b*x+a*c=0,(a*x)^2+b*(a*x)+a*\nc=0, (a*x)^2+b*(a*x)+b^2/4-b^2\n/4+a*c=0,(a*x+b/2)^2-b^2/4+a*c\n=0,(a*x+b/2)^2=b^2/4-a*c, a*x+\nb/2= #pm#sqrt(b^2/4-a*c),a*x=-\nb/2+sqrt(b^2/4-a*c) or a*x=-b/\n2-sqrt(b^2/4-a*c), (a=0 or x=(\n-b+sqrt(b^2-4*a*c))/(2*a)) or \n(a=0 or x=(-b-sqrt(b^2-4*a*c))\n/(2*a)), a^2=0 or x=(-b+sqrt(b\n^2-4*a*c))/(2*a) or x=(-b-sqrt\n(b^2-4*a*c))/(2*a)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a\\cdot x^2+b\\cdot x+c=0\\,{\\mbox{ or }}\\, a=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2\\cdot x^2+a\\cdot b\\cdot x+a\\cdot c=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(a\\cdot x\\right)}^2+b\\cdot \\left(a\\cdot x\\right)+a\\cdot c=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(a\\cdot x\\right)}^2+b\\cdot \\left(a\\cdot x\\right)+\\frac{b^2}{4}-\\frac{b^2}{4}+a\\cdot c=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(a\\cdot x+\\frac{b}{2}\\right)}^2-\\frac{b^2}{4}+a\\cdot c=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(a\\cdot x+\\frac{b}{2}\\right)}^2=\\frac{b^2}{4}-a\\cdot c&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a\\cdot x+\\frac{b}{2}= \\pm \\sqrt{\\frac{b^2}{4}-a\\cdot c}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a\\cdot x=-\\frac{b}{2}+\\sqrt{\\frac{b^2}{4}-a\\cdot c}\\,{\\mbox{ or }}\\, a\\cdot x=-\\frac{b}{2}-\\sqrt{\\frac{b^2}{4}-a\\cdot c}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=0\\,{\\mbox{ or }}\\, x=\\frac{-b+\\sqrt{b^2-4\\cdot a\\cdot c}}{2\\cdot a}\\,{\\mbox{ or }}\\, \\left(a=0\\,{\\mbox{ or }}\\, x=\\frac{-b-\\sqrt{b^2-4\\cdot a\\cdot c}}{2\\cdot a}\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2=0\\,{\\mbox{ or }}\\, x=\\frac{-b+\\sqrt{b^2-4\\cdot a\\cdot c}}{2\\cdot a}\\,{\\mbox{ or }}\\, x=\\frac{-b-\\sqrt{b^2-4\\cdot a\\cdot c}}{2\\cdot a}&amp; \\cr \\end{array}\\] Equiv <pre>[a*x^2+b*x=-c,4*a^2*x^2+4*a*b*\nx+b^2=b^2-4*a*c,(2*a*x+b)^2=b^\n2-4*a*c,2*a*x+b=#pm#sqrt(b^2-4\n*a*c),2*a*x=-b#pm#sqrt(b^2-4*a\n*c),x=(-b#pm#sqrt(b^2-4*a*c))/\n(2*a)]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;a\\cdot x^2+b\\cdot x=-c&amp; \\cr \\color{red}{\\Rightarrow}&amp;4\\cdot a^2\\cdot x^2+4\\cdot a\\cdot b\\cdot x+b^2=b^2-4\\cdot a\\cdot c&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(2\\cdot a\\cdot x+b\\right)}^2=b^2-4\\cdot a\\cdot c&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot a\\cdot x+b= \\pm \\sqrt{b^2-4\\cdot a\\cdot c}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot a\\cdot x={-b \\pm \\sqrt{b^2-4\\cdot a\\cdot c}}&amp; \\cr \\color{red}{?}&amp;x=\\frac{{-b \\pm \\sqrt{b^2-4\\cdot a\\cdot c}}}{2\\cdot a}&amp; \\cr \\end{array}\\] Equiv <pre>[a*x^2+b*x=-c or a=0,4*a^2*x^2\n+4*a*b*x+b^2=b^2-4*a*c,(2*a*x+\nb)^2=b^2-4*a*c,2*a*x+b=#pm#sqr\nt(b^2-4*a*c),2*a*x=-b#pm#sqrt(\nb^2-4*a*c),x=(-b#pm#sqrt(b^2-4\n*a*c))/(2*a) or a=0]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a\\cdot x^2+b\\cdot x=-c\\,{\\mbox{ or }}\\, a=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;4\\cdot a^2\\cdot x^2+4\\cdot a\\cdot b\\cdot x+b^2=b^2-4\\cdot a\\cdot c&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(2\\cdot a\\cdot x+b\\right)}^2=b^2-4\\cdot a\\cdot c&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot a\\cdot x+b= \\pm \\sqrt{b^2-4\\cdot a\\cdot c}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot a\\cdot x={-b \\pm \\sqrt{b^2-4\\cdot a\\cdot c}}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\frac{{-b \\pm \\sqrt{b^2-4\\cdot a\\cdot c}}}{2\\cdot a}\\,{\\mbox{ or }}\\, a=0&amp; \\cr \\end{array}\\] Equiv <pre>[sqrt(3*x+4) = 2+sqrt(x+2), 3*\nx+4=4+4*sqrt(x+2)+(x+2),x-1=2*\nsqrt(x+2),x^2-2*x+1 = 4*x+8,x^\n2-6*x-7 = 0,(x-7)*(x+1) = 0,x=\n7 or x=-1]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR, EQUIVCHAR,IMPLIESCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\sqrt{3\\cdot x+4}=2+\\sqrt{x+2}&amp;{\\color{blue}{{x \\in {\\left[ -\\frac{4}{3},\\, \\infty \\right)}}}}\\cr \\color{red}{\\Rightarrow}&amp;3\\cdot x+4=4+4\\cdot \\sqrt{x+2}+\\left(x+2\\right)&amp;{\\color{blue}{{x \\in {\\left[ -2,\\, \\infty \\right)}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;x-1=2\\cdot \\sqrt{x+2}&amp;{\\color{blue}{{x \\in {\\left[ -2,\\, \\infty \\right)}}}}\\cr \\color{red}{\\Rightarrow}&amp;x^2-2\\cdot x+1=4\\cdot x+8&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-6\\cdot x-7=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-7\\right)\\cdot \\left(x+1\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=7\\,{\\mbox{ or }}\\, x=-1&amp; \\cr \\end{array}\\] Equiv <pre>[sqrt(3*x+4) = 2+sqrt(x+2), 3*\nx+4=4+4*sqrt(x+2)+(x+2),x-1=2*\nsqrt(x+2),x^2-2*x+1 = 4*x+8,x^\n2-6*x-7 = 0,(x-7)*(x+1) = 0,x=\n7 or x=-1,x=7]</pre> <pre>[]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;\\sqrt{3\\cdot x+4}=2+\\sqrt{x+2}&amp;{\\color{blue}{{x \\in {\\left[ 0,\\, \\infty \\right)}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;3\\cdot x+4=4+4\\cdot \\sqrt{x+2}+\\left(x+2\\right)&amp;{\\color{blue}{{x \\in {\\left[ 0,\\, \\infty \\right)}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;x-1=2\\cdot \\sqrt{x+2}&amp;{\\color{blue}{{x \\in {\\left[ 0,\\, \\infty \\right)}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;x^2-2\\cdot x+1=4\\cdot x+8&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-6\\cdot x-7=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-7\\right)\\cdot \\left(x+1\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=7\\,{\\mbox{ or }}\\, x=-1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=7&amp; \\cr \\end{array}\\] Equiv <pre>[x*(x-1)*(x-2)=0,x*(x-1)=0,x*(\nx-1)*(x-2)=0,x*(x^2-2)=0]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIEDCHAR,IMPLIESCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;x\\cdot \\left(x-1\\right)\\cdot \\left(x-2\\right)=0&amp; \\cr \\color{red}{\\Leftarrow}&amp;x\\cdot \\left(x-1\\right)=0&amp; \\cr \\color{red}{\\Rightarrow}&amp;x\\cdot \\left(x-1\\right)\\cdot \\left(x-2\\right)=0&amp; \\cr \\color{red}{?}&amp;x\\cdot \\left(x^2-2\\right)=0&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-6*x=-9,x=3]</pre> <pre>[]</pre> 1 (EMPTYCHAR,SAMEROOTS) \\[\\begin{array}{lll} &amp;x^2-6\\cdot x=-9&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=3&amp; \\cr \\end{array}\\] Equiv <pre>[x=1 nounor x=-2 nounor x=1,x^\n3-3*x=-2,x=1 nounor x=-2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR,SAMEROOTS) \\[\\begin{array}{lll} &amp;x=1\\,{\\mbox{ or }}\\, x=-2\\,{\\mbox{ or }}\\, x=1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^3-3\\cdot x=-2&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=1\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] Equiv <pre>[9*x^3-24*x^2+13*x=2,x=1/3 nou\nnor x=2]</pre> <pre>[]</pre> 1 (EMPTYCHAR,SAMEROOTS) \\[\\begin{array}{lll} &amp;9\\cdot x^3-24\\cdot x^2+13\\cdot x=2&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=\\frac{1}{3}\\,{\\mbox{ or }}\\, x=2&amp; \\cr \\end{array}\\] Equiv <pre>[(x-2)^43*(x+1/3)^60=0,(3*x+1)\n^4*(x-2)^2=0,x=-1/3 nounor x=2\n]</pre> <pre>[]</pre> 1 (EMPTYCHAR,SAMEROOTS,SAMEROOTS) \\[\\begin{array}{lll} &amp;{\\left(x-2\\right)}^{43}\\cdot {\\left(x+\\frac{1}{3}\\right)}^{60}=0&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;{\\left(3\\cdot x+1\\right)}^4\\cdot {\\left(x-2\\right)}^2=0&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=\\frac{-1}{3}\\,{\\mbox{ or }}\\, x=2&amp; \\cr \\end{array}\\] Equiv <pre>[2^x=4,x*log(2)=log(4),x=log(2\n^2)/log(2),x=2*log(2)/log(2),x\n=2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;2^{x}=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\cdot \\ln \\left( 2 \\right)=\\ln \\left( 4 \\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\frac{\\ln \\left( 2^2 \\right)}{\\ln \\left( 2 \\right)}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=\\frac{2\\cdot \\ln \\left( 2 \\right)}{\\ln \\left( 2 \\right)}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2&amp; \\cr \\end{array}\\] Equiv <pre>[x^log(y),stackeq(e^(log(x)*lo\ng(y))),stackeq(e^(log(y)*log(x\n))),stackeq(y^log(x))]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;x^{\\ln \\left( y \\right)}&amp; \\cr \\color{green}{\\checkmark}&amp;=e^{\\ln \\left( x \\right)\\cdot \\ln \\left( y \\right)}&amp; \\cr \\color{green}{\\checkmark}&amp;=e^{\\ln \\left( y \\right)\\cdot \\ln \\left( x \\right)}&amp; \\cr \\color{green}{\\checkmark}&amp;=y^{\\ln \\left( x \\right)}&amp; \\cr \\end{array}\\] Equiv <pre>[lg(x+17,3)-2=lg(2*x,3),lg(x+1\n7,3)-lg(2*x,3)=2,lg((x+17)/(2*\nx),3)=2,(x+17)/(2*x)=3^2,(x+17\n)=18*x,17*x=17,x=1]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR,EQUIVLOG, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\log_{3}\\left(x+17\\right)-2=\\log_{3}\\left(2\\cdot x\\right)&amp;{\\color{blue}{{x \\in {\\left( 0,\\, \\infty \\right)}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\log_{3}\\left(x+17\\right)-\\log_{3}\\left(2\\cdot x\\right)=2&amp;{\\color{blue}{{x \\in {\\left( 0,\\, \\infty \\right)}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\log_{3}\\left(\\frac{x+17}{2\\cdot x}\\right)=2&amp; \\cr \\color{green}{\\log(?)}&amp;\\frac{x+17}{2\\cdot x}=3^2&amp;{\\color{blue}{{x \\not\\in {\\left \\{0 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;x+17=18\\cdot x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;17\\cdot x=17&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=1&amp; \\cr \\end{array}\\] Equiv <pre>[a=logbase(9,3),3^a=9,3^a=3^2,\na=2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a=\\log_{3}\\left(9\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;3^{a}=9&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;3^{a}=3^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=2&amp; \\cr \\end{array}\\] Equiv <pre>[x=(1+y/n)^n,x^(1/n)=(1+y/n),y\n/n=x^(1/n)-1,y=n*(x^(1/n)-1)]</pre> <pre>[]</pre> 0 (EMPTYCHAR,QMCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x={\\left(1+\\frac{y}{n}\\right)}^{n}&amp; \\cr \\color{red}{?}&amp;x^{\\frac{1}{n}}=1+\\frac{y}{n}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{y}{n}=x^{\\frac{1}{n}}-1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;y=n\\cdot \\left(x^{\\frac{1}{n}}-1\\right)&amp; \\cr \\end{array}\\] Equiv <pre>[a^3=b^3,a^3-b^3=0,(a-b)*(a^2+\na*b+b^2)=0,(a-b)=0,a=b]</pre> <pre>[]</pre> <pre>[assumereal]</pre> 0 (ASSUMEREALVARS, EQUIVCHAR, EQUIVCHAR,IMPLIEDCHAR, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{(\\mathbb{R})}&amp;a^3=b^3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^3-b^3=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(a-b\\right)\\cdot \\left(a^2+a\\cdot b+b^2\\right)=0&amp; \\cr \\color{red}{\\Leftarrow}&amp;a-b=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=b&amp; \\cr \\end{array}\\] Equiv <pre>[x^3-1=0,(x-1)*(x^2+x+1)=0,x=1\n]</pre> <pre>[]</pre> <pre>[assumereal]</pre> 1 (ASSUMEREALVARS, EQUIVCHAR, EQUIVCHARREAL) \\[\\begin{array}{lll}\\color{blue}{(\\mathbb{R})}&amp;x^3-1=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-1\\right)\\cdot \\left(x^2+x+1\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}\\, \\color{blue}{(\\mathbb{R})}&amp;x=1&amp; \\cr \\end{array}\\] Equiv <pre>[x^4=2,x^4-2=0,(x^2-sqrt(2))*(\nx^2+sqrt(2))=0,x^2=sqrt(2),x=#\npm# 2^(1/4)]</pre> <pre>[]</pre> <pre>[assumereal]</pre> 1 (ASSUMEREALVARS, EQUIVCHAR, EQUIVCHAR, EQUIVCHARREAL, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{(\\mathbb{R})}&amp;x^4=2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^4-2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x^2-\\sqrt{2}\\right)\\cdot \\left(x^2+\\sqrt{2}\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}\\, \\color{blue}{(\\mathbb{R})}&amp;x^2=\\sqrt{2}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x= \\pm 2^{\\frac{1}{4}}&amp; \\cr \\end{array}\\] Equiv <pre>[6*x-12=3*(x-2),6*x-12+3*(x-2)\n=0,9*x-18=0,x=2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;6\\cdot x-12=3\\cdot \\left(x-2\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;6\\cdot x-12+3\\cdot \\left(x-2\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;9\\cdot x-18=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-6*x+9=0,x^2-6*x=-9,x*(x-6\n)=3*-3,x=3 or x-6=-3,x=3]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR,SAMEROOTS) \\[\\begin{array}{lll} &amp;x^2-6\\cdot x+9=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-6\\cdot x=-9&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\cdot \\left(x-6\\right)=3\\cdot \\left(-3\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=3\\,{\\mbox{ or }}\\, x-6=-3&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=3&amp; \\cr \\end{array}\\] Equiv <pre>[(x+3)*(2-x)=4,x+3=4 or (2-x)=\n4,x=1 or x=-2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left(x+3\\right)\\cdot \\left(2-x\\right)=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x+3=4\\,{\\mbox{ or }}\\, 2-x=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=1\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] Equiv <pre>[(x-p)*(x-q)=0,x^2-p*x-q*x+p*q\n=0,1+q-x-p-p*q+p*x+x+q*x-x^2=1\n-p+q,(1+q-x)*(1-p+x)=1-p+q,(1+\nq-x)=1-p+q or (1-p+x)=1-p+q,x=\np or x=q]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left(x-p\\right)\\cdot \\left(x-q\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-p\\cdot x+\\left(-q\\right)\\cdot x+p\\cdot q=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;1+q-x-p+\\left(-p\\right)\\cdot q+p\\cdot x+x+q\\cdot x-x^2=1-p+q&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(1+q-x\\right)\\cdot \\left(1-p+x\\right)=1-p+q&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;1+q-x=1-p+q\\,{\\mbox{ or }}\\, 1-p+x=1-p+q&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=p\\,{\\mbox{ or }}\\, x=q&amp; \\cr \\end{array}\\] Equiv <pre>[a=b, a^2=a*b, a^2-b^2=a*b-b^2\n, (a-b)*(a+b)=b*(a-b), a+b=b, \n2*a=a, 1=2]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR, EQUIVCHAR, EQUIVCHAR,IMPLIEDCHAR, EQUIVCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;a=b&amp; \\cr \\color{red}{\\Rightarrow}&amp;a^2=a\\cdot b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2-b^2=a\\cdot b-b^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(a-b\\right)\\cdot \\left(a+b\\right)=b\\cdot \\left(a-b\\right)&amp; \\cr \\color{red}{\\Leftarrow}&amp;a+b=b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot a=a&amp; \\cr \\color{red}{\\Leftarrow}&amp;1=2&amp; \\cr \\end{array}\\] Equiv <pre>[a=b or a=0, a^2=a*b, a^2-b^2=\na*b-b^2, (a-b)*(a+b)=b*(a-b), \na+b=b or a-b=0, 2*a=a or a=b, \n2=1 or a=0 or a=b, a=0 or a=b]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;a=b\\,{\\mbox{ or }}\\, a=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2=a\\cdot b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2-b^2=a\\cdot b-b^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(a-b\\right)\\cdot \\left(a+b\\right)=b\\cdot \\left(a-b\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a+b=b\\,{\\mbox{ or }}\\, a-b=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot a=a\\,{\\mbox{ or }}\\, a=b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2=1\\,{\\mbox{ or }}\\, a=0\\,{\\mbox{ or }}\\, a=b&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a=0\\,{\\mbox{ or }}\\, a=b&amp; \\cr \\end{array}\\] Equiv <pre>[(x^2-4)/(x-2)=0,(x-2)*(x+2)/(\nx-2)=0,x+2=0,x=-2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{x^2-4}{x-2}=0&amp;{\\color{blue}{{x \\not\\in {\\left \\{2 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{\\left(x-2\\right)\\cdot \\left(x+2\\right)}{x-2}=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x+2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=-2&amp; \\cr \\end{array}\\] Equiv <pre>[(x^2-4)/(x-2)=0,(x^2-4)=0,(x-\n2)*(x+2)=0,x=-2 or x=2]</pre> <pre>[]</pre> 0 (EMPTYCHAR,IMPLIESCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{x^2-4}{x-2}=0&amp;{\\color{blue}{{x \\not\\in {\\left \\{2 \\right \\}}}}}\\cr \\color{red}{\\Rightarrow}&amp;x^2-4=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-2\\right)\\cdot \\left(x+2\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=-2\\,{\\mbox{ or }}\\, x=2&amp; \\cr \\end{array}\\] Equiv <pre>[5*x/(2*x+1)-3/(x+1) = 1,5*x*(\nx+1)-3*(2*x+1)=(x+1)*(2*x+1),5\n*x^2+5*x-6*x-3=2*x^2+3*x+1,3*x\n^2-4*x-4=0,(x-2)*(3*x+2)=0,x=2\n or x=-2/3]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{5\\cdot x}{2\\cdot x+1}-\\frac{3}{x+1}=1&amp;{\\color{blue}{{x \\not\\in {\\left \\{-1 , -\\frac{1}{2} \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;5\\cdot x\\cdot \\left(x+1\\right)-3\\cdot \\left(2\\cdot x+1\\right)=\\left(x+1\\right)\\cdot \\left(2\\cdot x+1\\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;5\\cdot x^2+5\\cdot x-6\\cdot x-3=2\\cdot x^2+3\\cdot x+1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;3\\cdot x^2-4\\cdot x-4=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-2\\right)\\cdot \\left(3\\cdot x+2\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=\\frac{-2}{3}&amp; \\cr \\end{array}\\] Equiv <pre>[(x+10)/(x-6)-5= (4*x-40)/(13-\nx),(x+10-5*(x-6))/(x-6)= (4*x-\n40)/(13-x), (4*x-40)/(6-x)= (4\n*x-40)/(13-x),6-x= 13-x,6= 13]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR,QMCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{x+10}{x-6}-5=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{6 , 13 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{x+10-5\\cdot \\left(x-6\\right)}{x-6}=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{6 , 13 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{4\\cdot x-40}{6-x}=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{6 , 13 \\right \\}}}}}\\cr \\color{red}{?}&amp;6-x=13-x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;6=13&amp; \\cr \\end{array}\\] Equiv <pre>[(x+5)/(x-7)-5= (4*x-40)/(13-x\n),(x+5-5*(x-7))/(x-7)= (4*x-40\n)/(13-x), (4*x-40)/(7-x)= (4*x\n-40)/(13-x),7-x= 13-x,7= 13]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR,IMPLIEDCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{x+5}{x-7}-5=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{7 , 13 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{x+5-5\\cdot \\left(x-7\\right)}{x-7}=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{7 , 13 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{4\\cdot x-40}{7-x}=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{7 , 13 \\right \\}}}}}\\cr \\color{red}{\\Leftarrow}&amp;7-x=13-x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;7=13&amp; \\cr \\end{array}\\] Equiv <pre>[(x+5)/(x-7)-5= (4*x-40)/(13-x\n),(x+5-5*(x-7))/(x-7)= (4*x-40\n)/(13-x), (4*x-40)/(7-x)= (4*x\n-40)/(13-x),7-x= 13-x or 4*x-4\n0=0,7= 13 or 4*x=40,x=10]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{x+5}{x-7}-5=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{7 , 13 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{x+5-5\\cdot \\left(x-7\\right)}{x-7}=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{7 , 13 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{4\\cdot x-40}{7-x}=\\frac{4\\cdot x-40}{13-x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{7 , 13 \\right \\}}}}}\\cr \\color{green}{\\Leftrightarrow}&amp;7-x=13-x\\,{\\mbox{ or }}\\, 4\\cdot x-40=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;7=13\\,{\\mbox{ or }}\\, 4\\cdot x=40&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=10&amp; \\cr \\end{array}\\] Equiv <pre>[a*x^2+b*x+c=0,a=0 nounand b=0\n nounand c=0,a*x^2+b*x+c=0]</pre> <pre>[]</pre> 1 (EMPTYCHAR,EQUATECOEFFLOSS(x),EQUATECOEFFGAIN(x)) \\[\\begin{array}{lll} &amp;a\\cdot x^2+b\\cdot x+c=0&amp; \\cr \\color{green}{\\equiv (\\cdots ? x)}&amp;\\left\\{\\begin{array}{l}a=0\\cr b=0\\cr c=0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{(\\cdots ? x)\\equiv}&amp;a\\cdot x^2+b\\cdot x+c=0&amp; \\cr \\end{array}\\] Equiv <pre>[a*x^2+b*x+c=A*x^2+B*x+C,a=A n\nounand b=B nounand c=C,a*x^2+b\n*x+c=A*x^2+B*x+C]</pre> <pre>[]</pre> 1 (EMPTYCHAR,EQUATECOEFFLOSS(x),EQUATECOEFFGAIN(x)) \\[\\begin{array}{lll} &amp;a\\cdot x^2+b\\cdot x+c=A\\cdot x^2+B\\cdot x+C&amp; \\cr \\color{green}{\\equiv (\\cdots ? x)}&amp;\\left\\{\\begin{array}{l}a=A\\cr b=B\\cr c=C\\cr \\end{array}\\right.&amp; \\cr \\color{green}{(\\cdots ? x)\\equiv}&amp;a\\cdot x^2+b\\cdot x+c=A\\cdot x^2+B\\cdot x+C&amp; \\cr \\end{array}\\] Equiv <pre>[(x-1)*(x+4), stackeq(x^2-x+4*\nx-4),stackeq(x^2+3*x-4)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\left(x-1\\right)\\cdot \\left(x+4\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2-x+4\\cdot x-4&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2+3\\cdot x-4&amp; \\cr \\end{array}\\] Equiv <pre>[(x-1)*(x+4), stackeq(x^2-x+4*\nx-4),stackeq(x^2+3*x-4)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\left(x-1\\right)\\cdot \\left(x+4\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2-x+4\\cdot x-4&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2+3\\cdot x-4&amp; \\cr \\end{array}\\] Equiv <pre>[x^2-2,stackeq((x-sqrt(2))*(x+\nsqrt(2)))]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK) \\[\\begin{array}{lll} &amp;x^2-2&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(x-\\sqrt{2}\\right)\\cdot \\left(x+\\sqrt{2}\\right)&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+4,stackeq((x-2*i)*(x+2*i)\n)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK) \\[\\begin{array}{lll} &amp;x^2+4&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(x-2\\cdot \\mathrm{i}\\right)\\cdot \\left(x+2\\cdot \\mathrm{i}\\right)&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+2*a*x,x^2+2*a*x+a^2-a^2,(\nx+a)^2-a^2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2+2\\cdot a\\cdot x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2+2\\cdot a\\cdot x+a^2-a^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x+a\\right)}^2-a^2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+2*a*x,stackeq(x^2+2*a*x+a\n^2-a^2),stackeq((x+a)^2-a^2)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;x^2+2\\cdot a\\cdot x&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2+2\\cdot a\\cdot x+a^2-a^2&amp; \\cr \\color{green}{\\checkmark}&amp;={\\left(x+a\\right)}^2-a^2&amp; \\cr \\end{array}\\] Equiv <pre>[(y-z)/(y*z)+(z-x)/(z*x)+(x-y)\n/(x*y),(x*(y-z)+y*(z-x)+z*(x-y\n))/(x*y*z),0]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\frac{y-z}{y\\cdot z}+\\frac{z-x}{z\\cdot x}+\\frac{x-y}{x\\cdot y}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{x\\cdot \\left(y-z\\right)+y\\cdot \\left(z-x\\right)+z\\cdot \\left(x-y\\right)}{x\\cdot y\\cdot z}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;0&amp; \\cr \\end{array}\\] Equiv <pre>[(y-z)/(y*z)+(z-x)/(z*x)+(x-y)\n/(x*y),stackeq((x*(y-z)+y*(z-x\n)+z*(x-y))/(x*y*z)),stackeq(0)\n]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\frac{y-z}{y\\cdot z}+\\frac{z-x}{z\\cdot x}+\\frac{x-y}{x\\cdot y}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{x\\cdot \\left(y-z\\right)+y\\cdot \\left(z-x\\right)+z\\cdot \\left(x-y\\right)}{x\\cdot y\\cdot z}&amp; \\cr \\color{green}{\\checkmark}&amp;=0&amp; \\cr \\end{array}\\] Equiv <pre>[2*(a^2*b^2+b^2*c^2+c^2*a^2)-(\na^4+b^4+c^4),stackeq(4*a^2*b^2\n-(a^4+b^4+c^4+2*a^2*b^2-2*b^2*\nc^2-2*c^2*a^2)),stackeq((2*a*b\n)^2-(b^2+a^2-c^2)^2,(2*a*b+b^2\n+a^2-c^2)*(2*a*b-b^2-a^2+c^2))\n,stackeq(((a+b)^2-c^2)*(c^2-(a\n-b)^2)),stackeq((a+b+c)*(a+b-c\n)*(c+a-b)*(c-a+b))]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;2\\cdot \\left(a^2\\cdot b^2+b^2\\cdot c^2+c^2\\cdot a^2\\right)-\\left(a^4+b^4+c^4\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=4\\cdot a^2\\cdot b^2-\\left(a^4+b^4+c^4+2\\cdot a^2\\cdot b^2-2\\cdot b^2\\cdot c^2-2\\cdot c^2\\cdot a^2\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;={\\left(2\\cdot a\\cdot b\\right)}^2-{\\left(b^2+a^2-c^2\\right)}^2&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left({\\left(a+b\\right)}^2-c^2\\right)\\cdot \\left(c^2-{\\left(a-b\\right)}^2\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(a+b+c\\right)\\cdot \\left(a+b-c\\right)\\cdot \\left(c+a-b\\right)\\cdot \\left(c-a+b\\right)&amp; \\cr \\end{array}\\] Equiv <pre>[abs(x-1/2)+abs(x+1/2)-2,stack\neq(abs(x)-1)]</pre> <pre>[]</pre> 0 (EMPTYCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;\\left| x-\\frac{1}{2}\\right| +\\left| x+\\frac{1}{2}\\right| -2&amp; \\cr \\color{red}{?}&amp;=\\left| x\\right| -1&amp; \\cr \\end{array}\\] Equiv <pre>[11*sqrt(abs(x)+1)=25-x,11^2*(\nabs(x)+1)=(25-x)^2,11^2*abs(x)\n=(25-x)^2-11^2,11^4*x^2=((25-x\n)^2-11^2)^2, ((25-x)^2-11^2)^2\n-11^4*x^2=0,((25-x)^2-11^2-11^\n2*x)*((25-x)^2-11^2+11^2*x)=0,\n(x^2-50*x+504-121*x)*(x^2-50*x\n+504+121*x)=0, (x-168)*(x-3)*(\nx+8)*(x+63)=0]</pre> <pre>[]</pre> 0 (EMPTYCHAR,QMCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;11\\cdot \\sqrt{\\left| x\\right| +1}=25-x&amp; \\cr \\color{red}{?}&amp;11^2\\cdot \\left(\\left| x\\right| +1\\right)={\\left(25-x\\right)}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;11^2\\cdot \\left| x\\right| ={\\left(25-x\\right)}^2-11^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;11^4\\cdot x^2={\\left({\\left(25-x\\right)}^2-11^2\\right)}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left({\\left(25-x\\right)}^2-11^2\\right)}^2-11^4\\cdot x^2=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left({\\left(25-x\\right)}^2-11^2+\\left(-11^2\\right)\\cdot x\\right)\\cdot \\left({\\left(25-x\\right)}^2-11^2+11^2\\cdot x\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x^2-50\\cdot x+504-121\\cdot x\\right)\\cdot \\left(x^2-50\\cdot x+504+121\\cdot x\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-168\\right)\\cdot \\left(x-3\\right)\\cdot \\left(x+8\\right)\\cdot \\left(x+63\\right)=0&amp; \\cr \\end{array}\\] Equiv <pre>[1/(x^2+1)=1/((x+%i)*(x-%i)), \nstackeq(1/(2*%i)*(1/(x-%i)-1/(\nx+%i)))]</pre> <pre>[]</pre> 1 (CHECKMARK, CHECKMARK) \\[\\begin{array}{lll}\\color{green}{\\checkmark}&amp;\\frac{1}{x^2+1}=\\frac{1}{\\left(x+\\mathrm{i}\\right)\\cdot \\left(x-\\mathrm{i}\\right)}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{1}{2\\cdot \\mathrm{i}}\\cdot \\left(\\frac{1}{x-\\mathrm{i}}-\\frac{1}{x+\\mathrm{i}}\\right)&amp; \\cr \\end{array}\\] Equiv <pre>[((a-b)/(a^2+a*b))/((a^2-2*a*b\n+b^2)/(a^4-b^4)),stackeq(((a-b\n)*(a-b)*(a+b)*(a^2+b^2))/(a*(a\n+b)*(a-b)^2)),stackeq((a^2+b^2\n)/a),stackeq(a+b^2/a)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\frac{\\frac{a-b}{a^2+a\\cdot b}}{\\frac{a^2-2\\cdot a\\cdot b+b^2}{a^4-b^4}}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(a-b\\right)\\cdot \\left(a-b\\right)\\cdot \\left(a+b\\right)\\cdot \\left(a^2+b^2\\right)}{a\\cdot \\left(a+b\\right)\\cdot {\\left(a-b\\right)}^2}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{a^2+b^2}{a}&amp; \\cr \\color{green}{\\checkmark}&amp;=a+\\frac{b^2}{a}&amp; \\cr \\end{array}\\] Equiv <pre>[a^4+4*b^4,stackeq((a^2)^2+4*a\n^2*b^2+(2*b^2)^2-4*a^2*b^2),st\nackeq((a^2+2*b^2)^2-(2*a*b)^2)\n,stackeq((2*b^2-2*a*b+a^2)*(2*\nb^2+2*a*b+a^2))]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;a^4+4\\cdot b^4&amp; \\cr \\color{green}{\\checkmark}&amp;={\\left(a^2\\right)}^2+4\\cdot a^2\\cdot b^2+{\\left(2\\cdot b^2\\right)}^2-4\\cdot a^2\\cdot b^2&amp; \\cr \\color{green}{\\checkmark}&amp;={\\left(a^2+2\\cdot b^2\\right)}^2-{\\left(2\\cdot a\\cdot b\\right)}^2&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(2\\cdot b^2-2\\cdot a\\cdot b+a^2\\right)\\cdot \\left(2\\cdot b^2+2\\cdot a\\cdot b+a^2\\right)&amp; \\cr \\end{array}\\] Equiv <pre>[sum(k,k,1,n+1),stackeq(sum(k,\nk,1,n)+(n+1)),stackeq(n*(n+1)/\n2 +n+1),stackeq((n+1)*(n+1+1)/\n2),stackeq((n+1)*(n+2)/2)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\sum_{k=1}^{n+1}{k}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\sum_{k=1}^{n}{k}+\\left(n+1\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n\\cdot \\left(n+1\\right)}{2}+n+1&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n+1\\right)\\cdot \\left(n+1+1\\right)}{2}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n+1\\right)\\cdot \\left(n+2\\right)}{2}&amp; \\cr \\end{array}\\] Equiv <pre>[log((a-1)^n*product(x_i^(-a),\ni,1,n)),stackeq(n*log(a-1)-a*s\num(log(x_i),i,1,n))]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK) \\[\\begin{array}{lll} &amp;\\ln \\left( {\\left(a-1\\right)}^{n}\\cdot \\prod_{i=1}^{n}{\\frac{1}{{{x}_{i}}^{a}}} \\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=n\\cdot \\ln \\left( a-1 \\right)-a\\cdot \\sum_{i=1}^{n}{\\ln \\left( {x}_{i} \\right)}&amp; \\cr \\end{array}\\] Equiv <pre>[binomial(n,k)+binomial(n,k+1)\n,stackeq(n!/(k!*(n-k)!)+n!/((k\n+1)!*(n-k-1)!)),stackeq(n!/(k!\n*(n-k)*(n-k-1)!)+n!/((k+1)!*(n\n-k-1)!)),stackeq(n!/(k!*(n-k-1\n)!)*(1/(n-k)+1/(k+1))),stackeq\n(n!/(k!*(n-k-1)!)*((n+1)/((n-k\n)*(k+1)))),stackeq((n+1)*n!/(k\n!*(n-k-1)!)*(1/((k+1)*(n-k))))\n,stackeq((n+1)*n!/((k+1)*k!*(n\n-k)*(n-k-1)!)),stackeq(((n+1)!\n/((k+1)!)*(1/((n-k)*(n-k-1)!))\n)),stackeq((n+1)!/((k+1)!*(n-k\n)!)),stackeq(binomial(n+1,k+1)\n)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;{{n}\\choose{k}}+{{n}\\choose{k+1}}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n!}{k!\\cdot \\left(n-k\\right)!}+\\frac{n!}{\\left(k+1\\right)!\\cdot \\left(n-k-1\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n!}{k!\\cdot \\left(n-k\\right)\\cdot \\left(n-k-1\\right)!}+\\frac{n!}{\\left(k+1\\right)!\\cdot \\left(n-k-1\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n!}{k!\\cdot \\left(n-k-1\\right)!}\\cdot \\left(\\frac{1}{n-k}+\\frac{1}{k+1}\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n!}{k!\\cdot \\left(n-k-1\\right)!}\\cdot \\left(\\frac{n+1}{\\left(n-k\\right)\\cdot \\left(k+1\\right)}\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n+1\\right)\\cdot n!}{k!\\cdot \\left(n-k-1\\right)!}\\cdot \\left(\\frac{1}{\\left(k+1\\right)\\cdot \\left(n-k\\right)}\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n+1\\right)\\cdot n!}{\\left(k+1\\right)\\cdot k!\\cdot \\left(n-k\\right)\\cdot \\left(n-k-1\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n+1\\right)!}{\\left(k+1\\right)!}\\cdot \\left(\\frac{1}{\\left(n-k\\right)\\cdot \\left(n-k-1\\right)!}\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n+1\\right)!}{\\left(k+1\\right)!\\cdot \\left(n-k\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;={{n+1}\\choose{k+1}}&amp; \\cr \\end{array}\\] Equiv <pre>[binomial(n,k)+binomial(n,k-1)\n,stackeq(n!/((k-1)!*(n-k+1)!)+\nn!/(k!*(n-k)!)),stackeq(n!*k/(\nk!*(n-k+1)!)+n!*(n-k+1)/(k!*(n\n-k+1)!)),stackeq(n!*k/(k!*(n-k\n+1)!)+n!/(k!*(n-k)!)),stackeq(\n((n-k+1)*n!+k*n!)/(k!*(n-k+1)!\n)),stackeq(((n+1)*n!)/(k!*(n-k\n+1)!))]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;{{n}\\choose{k}}+{{n}\\choose{k-1}}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n!}{\\left(k-1\\right)!\\cdot \\left(n-k+1\\right)!}+\\frac{n!}{k!\\cdot \\left(n-k\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n!\\cdot k}{k!\\cdot \\left(n-k+1\\right)!}+\\frac{n!\\cdot \\left(n-k+1\\right)}{k!\\cdot \\left(n-k+1\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{n!\\cdot k}{k!\\cdot \\left(n-k+1\\right)!}+\\frac{n!}{k!\\cdot \\left(n-k\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n-k+1\\right)\\cdot n!+k\\cdot n!}{k!\\cdot \\left(n-k+1\\right)!}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\frac{\\left(n+1\\right)\\cdot n!}{k!\\cdot \\left(n-k+1\\right)!}&amp; \\cr \\end{array}\\] Equiv <pre>[(x-1)^2=(x-1)*(x-1), stackeq(\nx^2-2*x+1)]</pre> <pre>[]</pre> 1 (CHECKMARK, CHECKMARK) \\[\\begin{array}{lll}\\color{green}{\\checkmark}&amp;{\\left(x-1\\right)}^2=\\left(x-1\\right)\\cdot \\left(x-1\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2-2\\cdot x+1&amp; \\cr \\end{array}\\] Equiv <pre>[(x-1)^2=(x-1)*(x-1), stackeq(\nx^2-2*x+2)]</pre> <pre>[]</pre> 0 (CHECKMARK,QMCHAR) \\[\\begin{array}{lll}\\color{green}{\\checkmark}&amp;{\\left(x-1\\right)}^2=\\left(x-1\\right)\\cdot \\left(x-1\\right)&amp; \\cr \\color{red}{?}&amp;=x^2-2\\cdot x+2&amp; \\cr \\end{array}\\] Equiv <pre>[(x-2)^2=(x-1)*(x-1), stackeq(\nx^2-2*x+1)]</pre> <pre>[]</pre> 0 (QMCHAR, CHECKMARK) \\[\\begin{array}{lll}\\color{red}{?}&amp;{\\left(x-2\\right)}^2=\\left(x-1\\right)\\cdot \\left(x-1\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2-2\\cdot x+1&amp; \\cr \\end{array}\\] Equiv <pre>[4^((n+1)+1)-1= 4*4^(n+1)-1,st\nackeq(4*(4^(n+1)-1)+3)]</pre> <pre>[]</pre> 1 (CHECKMARK, CHECKMARK) \\[\\begin{array}{lll}\\color{green}{\\checkmark}&amp;4^{n+1+1}-1=4\\cdot 4^{n+1}-1&amp; \\cr \\color{green}{\\checkmark}&amp;=4\\cdot \\left(4^{n+1}-1\\right)+3&amp; \\cr \\end{array}\\] Equiv <pre>[2*x+3*y=6 and 4*x+9*y=15,2*x+\n3*y=6 and -2*x=-3,3+3*y=6 and \n2*x=3,y=1 and x=3/2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}2\\cdot x+3\\cdot y=6\\cr 4\\cdot x+9\\cdot y=15\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}2\\cdot x+3\\cdot y=6\\cr -2\\cdot x=-3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}3+3\\cdot y=6\\cr 2\\cdot x=3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}y=1\\cr x=\\frac{3}{2}\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[2*x+3*y=6 and 4*x+9*y=15,2*x+\n3*y=6 and -2*x=-3,3+3*y=6 and \n2*x=3,y=1 and x=3]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}2\\cdot x+3\\cdot y=6\\cr 4\\cdot x+9\\cdot y=15\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}2\\cdot x+3\\cdot y=6\\cr -2\\cdot x=-3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}3+3\\cdot y=6\\cr 2\\cdot x=3\\cr \\end{array}\\right.&amp; \\cr \\color{red}{?}&amp;\\left\\{\\begin{array}{l}y=1\\cr x=3\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+y^2=8 and x=y, 2*x^2=8 an\nd y=x, x^2=4 and y=x, x= #pm#2\n and y=x, (x= 2 and y=x) or (x\n=-2 and y=x), (x=2 and y=2) or\n (x=-2 and y=-2)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}x^2+y^2=8\\cr x=y\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}2\\cdot x^2=8\\cr y=x\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x^2=4\\cr y=x\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x= \\pm 2\\cr y=x\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ and }}\\, y=x\\,{\\mbox{ or }}\\, x=-2\\,{\\mbox{ and }}\\, y=x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ and }}\\, y=2\\,{\\mbox{ or }}\\, x=-2\\,{\\mbox{ and }}\\, y=-2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+y^2=5 and x*y=2, x^2+y^2-\n5=0 and x*y-2=0, x^2-2*x*y+y^2\n-1=0 and x^2+2*x*y+y^2-9=0, (x\n-y)^2-1=0 and (x+y)^2-3^2=0, (\nx-y=1 and x+y=3) or (x-y=-1 an\nd x+y=3) or (x-y=1 and x+y=-3)\n or (x-y=-1 and x+y=-3), (x=1 \nand y=2) or (x=2 and y=1) or (\nx=-2 and y=-1) or (x=-1 and y=\n-2)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}x^2+y^2=5\\cr x\\cdot y=2\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x^2+y^2-5=0\\cr x\\cdot y-2=0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x^2-2\\cdot x\\cdot y+y^2-1=0\\cr x^2+2\\cdot x\\cdot y+y^2-9=0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}{\\left(x-y\\right)}^2-1=0\\cr {\\left(x+y\\right)}^2-3^2=0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x-y=1\\,{\\mbox{ and }}\\, x+y=3\\,{\\mbox{ or }}\\, x-y=-1\\,{\\mbox{ and }}\\, x+y=3\\,{\\mbox{ or }}\\, x-y=1\\,{\\mbox{ and }}\\, x+y=-3\\,{\\mbox{ or }}\\, x-y=-1\\,{\\mbox{ and }}\\, x+y=-3&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=1\\,{\\mbox{ and }}\\, y=2\\,{\\mbox{ or }}\\, x=2\\,{\\mbox{ and }}\\, y=1\\,{\\mbox{ or }}\\, x=-2\\,{\\mbox{ and }}\\, y=-1\\,{\\mbox{ or }}\\, x=-1\\,{\\mbox{ and }}\\, y=-2&amp; \\cr \\end{array}\\] Equiv <pre>[4*x^2+7*x*y+4*y^2=4 and y=x-4\n, 4*x^2+7*x*(x-4)+4*(x-4)^2-4=\n0 and y=x-4, 15*x^2-60*x+60=0 \nand y=x-4, (x-2)^2=0 and y=x-4\n, x=2 and y=x-4, x=2 and y=-2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}4\\cdot x^2+7\\cdot x\\cdot y+4\\cdot y^2=4\\cr y=x-4\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}4\\cdot x^2+7\\cdot x\\cdot \\left(x-4\\right)+4\\cdot {\\left(x-4\\right)}^2-4=0\\cr y=x-4\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}15\\cdot x^2-60\\cdot x+60=0\\cr y=x-4\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}{\\left(x-2\\right)}^2=0\\cr y=x-4\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x=2\\cr y=x-4\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x=2\\cr y=-2\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b and a^2=1, b=a^2 and (a\n=1 or a=-1), (b=1 and a=1) or \n(b=1 and a=-1)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}a^2=b\\cr a^2=1\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}b=a^2\\cr a=1\\,{\\mbox{ or }}\\, a=-1\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;b=1\\,{\\mbox{ and }}\\, a=1\\,{\\mbox{ or }}\\, b=1\\,{\\mbox{ and }}\\, a=-1&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b and x=1, b=a^2 and x=1]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}a^2=b\\cr x=1\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}b=a^2\\cr x=1\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[a^2=b and b^2=a, b=a^2 and a^\n4=a, b=a^2 and a^4-a=0, b=a^2 \nand a*(a-1)*(a^2+a+1)=0, b=a^2\n and (a=0 or a=1 or a^2+a+1=0)\n, (b=0 and a=0) or (b=1 and a=\n1)]</pre> <pre>[]</pre> <pre>[assumereal]</pre> 1 (ASSUMEREALVARS, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{(\\mathbb{R})}&amp;\\left\\{\\begin{array}{l}a^2=b\\cr b^2=a\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}b=a^2\\cr a^4=a\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}b=a^2\\cr a^4-a=0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}b=a^2\\cr a\\cdot \\left(a-1\\right)\\cdot \\left(a^2+a+1\\right)=0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}b=a^2\\cr a=0\\,{\\mbox{ or }}\\, a=1\\,{\\mbox{ or }}\\, a^2+a+1=0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;b=0\\,{\\mbox{ and }}\\, a=0\\,{\\mbox{ or }}\\, b=1\\,{\\mbox{ and }}\\, a=1&amp; \\cr \\end{array}\\] Equiv <pre>[2*x^3-9*x^2+10*x-3,stacklet(x\n,1),2*1^3-9*1^2+10*1-3,stackeq\n(0),\"So\",2*x^3-9*x^2\n+10*x-3,stackeq((x-1)*(2*x^2-7\n*x+3)),stackeq((x-1)*(2*x-1)*(\nx-3))]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EMPTYCHAR, EQUIVCHAR, CHECKMARK, EMPTYCHAR, EMPTYCHAR, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;2\\cdot x^3-9\\cdot x^2+10\\cdot x-3&amp; \\cr &amp;\\mbox{Let }x = 1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot 1^3-9\\cdot 1^2+10\\cdot 1-3&amp; \\cr \\color{green}{\\checkmark}&amp;=0&amp; \\cr &amp;\\mbox{So}&amp; \\cr &amp;2\\cdot x^3-9\\cdot x^2+10\\cdot x-3&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(x-1\\right)\\cdot \\left(2\\cdot x^2-7\\cdot x+3\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(x-1\\right)\\cdot \\left(2\\cdot x-1\\right)\\cdot \\left(x-3\\right)&amp; \\cr \\end{array}\\] Equiv <pre>[2*x^2+x&gt;=6, 2*x^2+x-6&gt;=\n0, (2*x-3)*(x+2)&gt;= 0,((2*x-\n3)&gt;=0 and (x+2)&gt;=0) or (\n(2*x-3)&lt;=0 and (x+2)&lt;=0)\n, (x&gt;=3/2 and x&gt;=-2) or \n(x&lt;=3/2 and x&lt;=-2), x&gt;\n;=3/2 or x &lt;=-2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;2\\cdot x^2+x\\geq 6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x^2+x-6\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(2\\cdot x-3\\right)\\cdot \\left(x+2\\right)\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x-3\\geq 0\\,{\\mbox{ and }}\\, x+2\\geq 0\\,{\\mbox{ or }}\\, 2\\cdot x-3\\leq 0\\,{\\mbox{ and }}\\, x+2\\leq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\geq \\frac{3}{2}\\,{\\mbox{ and }}\\, x\\geq -2\\,{\\mbox{ or }}\\, x\\leq \\frac{3}{2}\\,{\\mbox{ and }}\\, x\\leq -2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\geq \\frac{3}{2}\\,{\\mbox{ or }}\\, x\\leq -2&amp; \\cr \\end{array}\\] Equiv <pre>[2*x^2+x&gt;=6, 2*x^2+x-6&gt;=\n0, (2*x-3)*(x+2)&gt;= 0,((2*x-\n3)&gt;=0 and (x+2)&gt;=0) or (\n(2*x-3)&lt;=0 and (x+2)&lt;=0)\n, (x&gt;=3/2 and x&gt;=-2) or \n(x&lt;=3/2 and x&lt;=-2), x&gt;\n;=3/2 or x &lt;=-2]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;2\\cdot x^2+x\\geq 6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x^2+x-6\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(2\\cdot x-3\\right)\\cdot \\left(x+2\\right)\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x-3\\geq 0\\,{\\mbox{ and }}\\, x+2\\geq 0\\,{\\mbox{ or }}\\, 2\\cdot x-3\\leq 0\\,{\\mbox{ and }}\\, x+2\\leq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\geq \\frac{3}{2}\\,{\\mbox{ and }}\\, x\\geq -2\\,{\\mbox{ or }}\\, x\\leq \\frac{3}{2}\\,{\\mbox{ and }}\\, x\\leq -2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\geq \\frac{3}{2}\\,{\\mbox{ or }}\\, x\\leq -2&amp; \\cr \\end{array}\\] Equiv <pre>[2*x^2+x&gt;=6, 2*x^2+x-6&gt;=\n0, (2*x-3)*(x+2)&gt;= 0,((2*x-\n3)&gt;=0 and (x+2)&gt;=0) or (\n(2*x-3)&lt;=0 and (x+2)&lt;=0)\n, (x&gt;=3/2 and x&gt;=-2) or \n(x&lt;=3/2 and x&lt;=-2), x&gt;\n;=3/2 or x &lt;=2]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;2\\cdot x^2+x\\geq 6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x^2+x-6\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(2\\cdot x-3\\right)\\cdot \\left(x+2\\right)\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;2\\cdot x-3\\geq 0\\,{\\mbox{ and }}\\, x+2\\geq 0\\,{\\mbox{ or }}\\, 2\\cdot x-3\\leq 0\\,{\\mbox{ and }}\\, x+2\\leq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x\\geq \\frac{3}{2}\\,{\\mbox{ and }}\\, x\\geq -2\\,{\\mbox{ or }}\\, x\\leq \\frac{3}{2}\\,{\\mbox{ and }}\\, x\\leq -2&amp; \\cr \\color{red}{?}&amp;x\\geq \\frac{3}{2}\\,{\\mbox{ or }}\\, x\\leq 2&amp; \\cr \\end{array}\\] Equiv <pre>[x^2&gt;=9 and x&gt;3, x^2-9&amp;g\nt;=0 and x&gt;3, (x&gt;=3 or x\n&lt;=-3) and x&gt;3, x&gt;3]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}x^2\\geq 9\\cr x &gt; 3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x^2-9\\geq 0\\cr x &gt; 3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x\\geq 3\\,{\\mbox{ or }}\\, x\\leq -3\\cr x &gt; 3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x &gt; 3&amp; \\cr \\end{array}\\] Equiv <pre>[-x^2+a*x+a-3&lt;0, a-3&lt;x^2\n-a*x, a-3&lt;(x-a/2)^2-a^2/4, \na^2/4+a-3&lt;(x-a/2)^2, a^2+4*\na-12&lt;4*(x-a/2)^2, (a-2)*(a+\n6)&lt;4*(x-a/2)^2, \"This \ninequality is required to be t\nrue for all x.\", \"So\n it must be true when the righ\nt hand side takes its minimum \nvalue.\", \"This happe\nns for x=a/2.\", (a-2)*(a+\n6)&lt;0, ((a-2)&lt;0 and (a+6)\n&gt;0) or ((a-2)&gt;0 and (a+6\n)&lt;0), (a&lt;2 and a&gt;-6) \nor (a&gt;2 and a&lt;-6), (-6&amp;l\nt;a and a&lt;2) or false, (-6&amp;\nlt;a and a&lt;2)]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EMPTYCHAR, EMPTYCHAR, EMPTYCHAR, EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;-x^2+a\\cdot x+a-3 &lt; 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a-3 &lt; x^2-a\\cdot x&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a-3 &lt; {\\left(x-\\frac{a}{2}\\right)}^2-\\frac{a^2}{4}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{a^2}{4}+a-3 &lt; {\\left(x-\\frac{a}{2}\\right)}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2+4\\cdot a-12 &lt; 4\\cdot {\\left(x-\\frac{a}{2}\\right)}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(a-2\\right)\\cdot \\left(a+6\\right) &lt; 4\\cdot {\\left(x-\\frac{a}{2}\\right)}^2&amp; \\cr &amp;\\mbox{This inequality is required to be true for all x.}&amp; \\cr &amp;\\mbox{So it must be true when the right hand side takes its minimum value.}&amp; \\cr &amp;\\mbox{This happens for x=a/2.}&amp; \\cr &amp;\\left(a-2\\right)\\cdot \\left(a+6\\right) &lt; 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a-2 &lt; 0\\,{\\mbox{ and }}\\, a+6 &gt; 0\\,{\\mbox{ or }}\\, a-2 &gt; 0\\,{\\mbox{ and }}\\, a+6 &lt; 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a &lt; 2\\,{\\mbox{ and }}\\, a &gt; -6\\,{\\mbox{ or }}\\, a &gt; 2\\,{\\mbox{ and }}\\, a &lt; -6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;-6 &lt; a\\,{\\mbox{ and }}\\, a &lt; 2\\,{\\mbox{ or }}\\, \\mathbf{False}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}-6 &lt; a\\cr a &lt; 2\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[x-2&gt;0 and x*(x-2)&lt;15,x&amp;\ngt;2 and x^2-2*x-15&lt;0,x&gt;\n2 and (x-5)*(x+3)&lt;0,x&gt;2 \nand ((x&lt;5 and x&gt;-3) or (\nx&gt;5 and x&lt;-3)),x&gt;2 an\nd (x&lt;5 and x&gt;-3),x&gt;2 \nand x&lt;5]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}x-2 &gt; 0\\cr x\\cdot \\left(x-2\\right) &lt; 15\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr x^2-2\\cdot x-15 &lt; 0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr \\left(x-5\\right)\\cdot \\left(x+3\\right) &lt; 0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr x &lt; 5\\,{\\mbox{ and }}\\, x &gt; -3\\,{\\mbox{ or }}\\, x &gt; 5\\,{\\mbox{ and }}\\, x &lt; -3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr x &lt; 5\\,{\\mbox{ and }}\\, x &gt; -3\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr x &lt; 5\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[x-2&gt;0 and x*(x-2)&lt;15,x&amp;\ngt;2 and x^2-2*x-15&lt;0,x&gt;\n2 and (x-5)*(x+3)&lt;0,x&gt;2 \nand ((x&lt;5 and x&gt;-3) or (\nx&gt;5 and x&lt;-3)),x&gt;7 an\nd (x&lt;5 and x&gt;-3),x&gt;2 \nand x&lt;5]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR,QMCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;\\left\\{\\begin{array}{l}x-2 &gt; 0\\cr x\\cdot \\left(x-2\\right) &lt; 15\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr x^2-2\\cdot x-15 &lt; 0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr \\left(x-5\\right)\\cdot \\left(x+3\\right) &lt; 0\\cr \\end{array}\\right.&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr x &lt; 5\\,{\\mbox{ and }}\\, x &gt; -3\\,{\\mbox{ or }}\\, x &gt; 5\\,{\\mbox{ and }}\\, x &lt; -3\\cr \\end{array}\\right.&amp; \\cr \\color{red}{?}&amp;\\left\\{\\begin{array}{l}x &gt; 7\\cr x &lt; 5\\,{\\mbox{ and }}\\, x &gt; -3\\cr \\end{array}\\right.&amp; \\cr \\color{red}{?}&amp;\\left\\{\\begin{array}{l}x &gt; 2\\cr x &lt; 5\\cr \\end{array}\\right.&amp; \\cr \\end{array}\\] Equiv <pre>[x^2 + (a-2)*x + a = 0,(x + (a\n-2)/2)^2 -((a-2)/2)^2 + a = 0,\n(x + (a-2)/2)^2 =(a-2)^2/4 - a\n,\"This has real roots iff\n\",(a-2)^2/4-a &gt;=0,a^2-\n4*a+4-4*a &gt;=0,a^2-8*a+4&gt;\n=0,(a-4)^2-16+4&gt;=0,(a-4)^2&amp;\ngt;=12,a-4&gt;=sqrt(12) or a-4\n&lt;= -sqrt(12),\"Ignoring\n the negative solution.\",\na&gt;=sqrt(12)+4,\"Using e\nxternal domain information tha\nt a is an integer.\",a&gt;\n=8]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EMPTYCHAR, EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EMPTYCHAR, EMPTYCHAR, EMPTYCHAR, EMPTYCHAR) \\[\\begin{array}{lll} &amp;x^2+\\left(a-2\\right)\\cdot x+a=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x+\\frac{a-2}{2}\\right)}^2-{\\left(\\frac{a-2}{2}\\right)}^2+a=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(x+\\frac{a-2}{2}\\right)}^2=\\frac{{\\left(a-2\\right)}^2}{4}-a&amp; \\cr &amp;\\mbox{This has real roots iff}&amp; \\cr &amp;\\frac{{\\left(a-2\\right)}^2}{4}-a\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2-4\\cdot a+4-4\\cdot a\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a^2-8\\cdot a+4\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(a-4\\right)}^2-16+4\\geq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;{\\left(a-4\\right)}^2\\geq 12&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;a-4\\geq \\sqrt{12}\\,{\\mbox{ or }}\\, a-4\\leq -\\sqrt{12}&amp; \\cr &amp;\\mbox{Ignoring the negative solution.}&amp; \\cr &amp;a\\geq \\sqrt{12}+4&amp; \\cr &amp;\\mbox{Using external domain information that a is an integer.}&amp; \\cr &amp;a\\geq 8&amp; \\cr \\end{array}\\] Equiv <pre>[x^2#1,x^2-1#0,(x-1)*(x+1)#0,x\n&lt;-1 nounor (-1&lt;x nounand\n x&lt;1) nounor x&gt;1]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2\\neq 1&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-1\\neq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-1\\right)\\cdot \\left(x+1\\right)\\neq 0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x &lt; -1\\,{\\mbox{ or }}\\, -1 &lt; x\\,{\\mbox{ and }}\\, x &lt; 1\\,{\\mbox{ or }}\\, x &gt; 1&amp; \\cr \\end{array}\\] Equiv <pre>[\"Set P(n) be the stateme\nnt that\",sum(k^2,k,1,n) =\n n*(n+1)*(2*n+1)/6, \"Then\n P(1) is the statement\", \n1^2 = 1*(1+1)*(2*1+1)/6, 1 = 1\n, \"So P(1) holds.  Now as\nsume P(n) is true.\",sum(k\n^2,k,1,n) = n*(n+1)*(2*n+1)/6,\nsum(k^2,k,1,n) +(n+1)^2= n*(n+\n1)*(2*n+1)/6 +(n+1)^2,sum(k^2,\nk,1,n+1)= (n+1)*(n*(2*n+1) +6*\n(n+1))/6,sum(k^2,k,1,n+1)= (n+\n1)*(2*n^2+7*n+6)/6,sum(k^2,k,1\n,n+1)= (n+1)*(n+1+1)*(2*(n+1)+\n1)/6]</pre> <pre>[]</pre> 0 (EMPTYCHAR, EMPTYCHAR, EMPTYCHAR, EMPTYCHAR, EQUIVCHAR, EMPTYCHAR, EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\mbox{Set P(n) be the statement that}&amp; \\cr &amp;\\sum_{k=1}^{n}{k^2}=\\frac{n\\cdot \\left(n+1\\right)\\cdot \\left(2\\cdot n+1\\right)}{6}&amp; \\cr &amp;\\mbox{Then P(1) is the statement}&amp; \\cr &amp;1^2=\\frac{1\\cdot \\left(1+1\\right)\\cdot \\left(2\\cdot 1+1\\right)}{6}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;1=1&amp; \\cr &amp;\\mbox{So P(1) holds. Now assume P(n) is true.}&amp; \\cr &amp;\\sum_{k=1}^{n}{k^2}=\\frac{n\\cdot \\left(n+1\\right)\\cdot \\left(2\\cdot n+1\\right)}{6}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sum_{k=1}^{n}{k^2}+{\\left(n+1\\right)}^2=\\frac{n\\cdot \\left(n+1\\right)\\cdot \\left(2\\cdot n+1\\right)}{6}+{\\left(n+1\\right)}^2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sum_{k=1}^{n+1}{k^2}=\\frac{\\left(n+1\\right)\\cdot \\left(n\\cdot \\left(2\\cdot n+1\\right)+6\\cdot \\left(n+1\\right)\\right)}{6}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sum_{k=1}^{n+1}{k^2}=\\frac{\\left(n+1\\right)\\cdot \\left(2\\cdot n^2+7\\cdot n+6\\right)}{6}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sum_{k=1}^{n+1}{k^2}=\\frac{\\left(n+1\\right)\\cdot \\left(n+1+1\\right)\\cdot \\left(2\\cdot \\left(n+1\\right)+1\\right)}{6}&amp; \\cr \\end{array}\\] Equiv <pre>[(n+1)^2+sum(k^2,k,1,n) = (n+1\n)^2+(n*(n+1)*(2*n+1))/6, sum(k\n^2,k,1,n+1) = ((n+1)*(n*(2*n+1\n)+6*(n+1)))/6, sum(k^2,k,1,n+1\n) = ((n+1)*(2*n^2+7*n+6))/6, s\num(k^2,k,1,n+1) = ((n+1)*(n+2)\n*(2*(n+1)+1))/6]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;{\\left(n+1\\right)}^2+\\sum_{k=1}^{n}{k^2}={\\left(n+1\\right)}^2+\\frac{n\\cdot \\left(n+1\\right)\\cdot \\left(2\\cdot n+1\\right)}{6}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sum_{k=1}^{n+1}{k^2}=\\frac{\\left(n+1\\right)\\cdot \\left(n\\cdot \\left(2\\cdot n+1\\right)+6\\cdot \\left(n+1\\right)\\right)}{6}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sum_{k=1}^{n+1}{k^2}=\\frac{\\left(n+1\\right)\\cdot \\left(2\\cdot n^2+7\\cdot n+6\\right)}{6}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\sum_{k=1}^{n+1}{k^2}=\\frac{\\left(n+1\\right)\\cdot \\left(n+2\\right)\\cdot \\left(2\\cdot \\left(n+1\\right)+1\\right)}{6}&amp; \\cr \\end{array}\\] Equiv <pre>[conjugate(a)*conjugate(b),sta\ncklet(a,x+i*y),stacklet(b,r+i*\ns),stackeq(conjugate(x+i*y)*co\nnjugate(r+i*s)),stackeq((x-i*y\n)*(r-i*s)),stackeq((x*r-y*s)-i\n*(y*r+x*s)),stackeq(conjugate(\n(x*r-y*s)+i*(y*r+x*s))),stacke\nq(conjugate((x+i*y)*(r+i*s))),\nstacklet(x+i*y,a),stacklet(r+i\n*s,b),stackeq(conjugate(a*b))]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EMPTYCHAR, EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, CHECKMARK, EMPTYCHAR, EMPTYCHAR, CHECKMARK) \\[\\begin{array}{lll} &amp;a^\\star\\cdot b^\\star&amp; \\cr &amp;\\mbox{Let }a = x+\\mathrm{i}\\cdot y&amp; \\cr &amp;\\mbox{Let }b = r+\\mathrm{i}\\cdot s&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(x+\\mathrm{i}\\cdot y\\right)^\\star\\cdot \\left(r+\\mathrm{i}\\cdot s\\right)^\\star&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(x-\\mathrm{i}\\cdot y\\right)\\cdot \\left(r-\\mathrm{i}\\cdot s\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=x\\cdot r-y\\cdot s-\\mathrm{i}\\cdot \\left(y\\cdot r+x\\cdot s\\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(x\\cdot r-y\\cdot s+\\mathrm{i}\\cdot \\left(y\\cdot r+x\\cdot s\\right)\\right)^\\star&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(\\left(x+\\mathrm{i}\\cdot y\\right)\\cdot \\left(r+\\mathrm{i}\\cdot s\\right)\\right)^\\star&amp; \\cr &amp;\\mbox{Let }x+\\mathrm{i}\\cdot y = a&amp; \\cr &amp;\\mbox{Let }r+\\mathrm{i}\\cdot s = b&amp; \\cr \\color{green}{\\checkmark}&amp;=\\left(a\\cdot b\\right)^\\star&amp; \\cr \\end{array}\\] Equiv <pre>[nounint(x*e^x,x,-inf,0),nounl\nimit(nounint(x*e^x,x,t,0),t,-i\nnf),nounlimit(e^t-t*e^t-1,t,-i\nnf),nounlimit(e^t,t,-inf)+noun\nlimit(-t*e^t,t,-inf)+nounlimit\n(-1,t,-inf),-1]</pre> <pre>[]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;\\int_{-\\infty }^{0}{x\\cdot e^{x}\\;\\mathrm{d}x}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\lim_{t\\rightarrow -\\infty }{\\int_{t}^{0}{x\\cdot e^{x}\\;\\mathrm{d}x}}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\lim_{t\\rightarrow -\\infty }{e^{t}-t\\cdot e^{t}-1}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\lim_{t\\rightarrow -\\infty }{e^{t}}+\\lim_{t\\rightarrow -\\infty }{\\left(-t\\right)\\cdot e^{t}}+\\lim_{t\\rightarrow -\\infty }{-1}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;-1&amp; \\cr \\end{array}\\] Equiv <pre>[noundiff(x^2,x),stackeq(nounl\nimit(((x+h)^2-x^2)/h,h,0)),sta\nckeq(nounlimit(2*x+h,h,0)),sta\nckeq(2*x)]</pre> <pre>[]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\frac{\\mathrm{d}}{\\mathrm{d} x} x^2&amp; \\cr \\color{green}{\\checkmark}&amp;=\\lim_{h\\rightarrow 0}{\\frac{{\\left(x+h\\right)}^2-x^2}{h}}&amp; \\cr \\color{green}{\\checkmark}&amp;=\\lim_{h\\rightarrow 0}{2\\cdot x+h}&amp; \\cr \\color{green}{\\checkmark}&amp;=2\\cdot x&amp; \\cr \\end{array}\\] Equiv <pre>[-12+3*noundiff(y(x),x)+8-8*no\nundiff(y(x),x)=0,-5*noundiff(y\n(x),x)=4,noundiff(y(x),x)=-4/5\n]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;-12+3\\cdot \\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)+8-8\\cdot \\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;-5\\cdot \\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)=\\frac{-4}{5}&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+1,x^3/3+x,x^2+1,x^3/3+x+c\n]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR,INTCHAR(x),DIFFCHAR(x),INTCHAR(x)) \\[\\begin{array}{lll} &amp;x^2+1&amp; \\cr \\color{blue}{\\int\\ldots\\mathrm{d}x}&amp;\\frac{x^3}{3}+x&amp; \\cr \\color{blue}{\\frac{\\mathrm{d}}{\\mathrm{d}x}\\ldots}&amp;x^2+1&amp; \\cr \\color{blue}{\\int\\ldots\\mathrm{d}x}&amp;\\frac{x^3}{3}+x+c&amp; \\cr \\end{array}\\] Equiv <pre>[3*x^(3/2)-2/x,(9*sqrt(x))/2+2\n/x^2,3*x^(3/2)-2/x+c]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR,DIFFCHAR(x),INTCHAR(x)) \\[\\begin{array}{lll} &amp;3\\cdot x^{\\frac{3}{2}}-\\frac{2}{x}&amp;{\\color{blue}{{x \\not\\in {\\left \\{0 \\right \\}}}}}\\cr \\color{blue}{\\frac{\\mathrm{d}}{\\mathrm{d}x}\\ldots}&amp;\\frac{9\\cdot \\sqrt{x}}{2}+\\frac{2}{x^2}&amp;{\\color{blue}{{x \\in {\\left( 0,\\, \\infty \\right)}}}}\\cr \\color{blue}{\\int\\ldots\\mathrm{d}x}&amp;3\\cdot x^{\\frac{3}{2}}-\\frac{2}{x}+c&amp; \\cr \\end{array}\\] Equiv <pre>[x^2+1,stackeq(x^3/3+x),stacke\nq(x^2+1),stackeq(x^3/3+x+c)]</pre> <pre>[]</pre> <pre>[calculus]</pre> 0 (EMPTYCHAR,QMCHAR,QMCHAR,QMCHAR) \\[\\begin{array}{lll} &amp;x^2+1&amp; \\cr \\color{red}{?}&amp;=\\frac{x^3}{3}+x&amp; \\cr \\color{red}{?}&amp;=x^2+1&amp; \\cr \\color{red}{?}&amp;=\\frac{x^3}{3}+x+c&amp; \\cr \\end{array}\\] Equiv <pre>[diff(x^2*sin(x),x),stackeq(x^\n2*diff(sin(x),x)+diff(x^2,x)*s\nin(x)),stackeq(x^2*cos(x)+2*x*\nsin(x))]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR, CHECKMARK, CHECKMARK) \\[\\begin{array}{lll} &amp;\\cos \\left( x \\right)\\cdot x^2+2\\cdot x\\cdot \\sin \\left( x \\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2\\cdot \\cos \\left( x \\right)+2\\cdot x\\cdot \\sin \\left( x \\right)&amp; \\cr \\color{green}{\\checkmark}&amp;=x^2\\cdot \\cos \\left( x \\right)+2\\cdot x\\cdot \\sin \\left( x \\right)&amp; \\cr \\end{array}\\] Equiv <pre>[y(x)*cos(x)+y(x)^2 = 6*x,cos(\nx)*diff(y(x),x)+2*y(x)*diff(y(\nx),x)-y(x)*sin(x) = 6,(cos(x)+\n2*y(x))*diff(y(x),x) = y(x)*si\nn(x)+6,diff(y(x),x) = (y(x)*si\nn(x)+6)/(cos(x)+2*y(x))]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR,DIFFCHAR(x), EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;y\\left(x\\right)\\cdot \\cos \\left( x \\right)+y^2\\left(x\\right)=6\\cdot x&amp; \\cr \\color{blue}{\\frac{\\mathrm{d}}{\\mathrm{d}x}\\ldots}&amp;\\cos \\left( x \\right)\\cdot \\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)+2\\cdot y\\left(x\\right)\\cdot \\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)+\\left(-y\\left(x\\right)\\right)\\cdot \\sin \\left( x \\right)=6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(\\cos \\left( x \\right)+2\\cdot y\\left(x\\right)\\right)\\cdot \\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)=y\\left(x\\right)\\cdot \\sin \\left( x \\right)+6&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} y\\left(x\\right)\\right)=\\frac{y\\left(x\\right)\\cdot \\sin \\left( x \\right)+6}{\\cos \\left( x \\right)+2\\cdot y\\left(x\\right)}&amp; \\cr \\end{array}\\] Equiv <pre>[nounint(s^2+1,s),stackeq(s^3/\n3+s+c)]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR,INTCHAR(s)) \\[\\begin{array}{lll} &amp;\\int {s^2+1}{\\;\\mathrm{d}s}&amp; \\cr \\color{blue}{\\int\\ldots\\mathrm{d}s}&amp;=\\frac{s^3}{3}+s+c&amp; \\cr \\end{array}\\] Equiv <pre>[nounint(x^3*log(x),x),x^4/4*l\nog(x)-1/4*nounint(x^3,x),x^4/4\n*log(x)-x^4/16]</pre> <pre>[]</pre> <pre>[calculus]</pre> 0 (EMPTYCHAR, EQUIVCHAR,PLUSC) \\[\\begin{array}{lll} &amp;\\int {x^3\\cdot \\ln \\left( x \\right)}{\\;\\mathrm{d}x}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{x^4}{4}\\cdot \\ln \\left( x \\right)-\\frac{1}{4}\\cdot \\int {x^3}{\\;\\mathrm{d}x}&amp; \\cr \\color{red}{\\cdots +c\\quad ?}&amp;\\frac{x^4}{4}\\cdot \\ln \\left( x \\right)-\\frac{x^4}{16}&amp;{\\color{blue}{{x \\in {\\left( 0,\\, \\infty \\right)}}}}\\cr \\end{array}\\] Equiv <pre>[nounint(x^3*log(x),x),x^4/4*l\nog(x)-1/4*nounint(x^3,x),x^4/4\n*log(x)-x^4/16+c]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR, EQUIVCHAR,INTCHAR(x)) \\[\\begin{array}{lll} &amp;\\int {x^3\\cdot \\ln \\left( x \\right)}{\\;\\mathrm{d}x}&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{x^4}{4}\\cdot \\ln \\left( x \\right)-\\frac{1}{4}\\cdot \\int {x^3}{\\;\\mathrm{d}x}&amp; \\cr \\color{blue}{\\int\\ldots\\mathrm{d}x}&amp;\\frac{x^4}{4}\\cdot \\ln \\left( x \\right)-\\frac{x^4}{16}+c&amp; \\cr \\end{array}\\] Equiv <pre>[noundiff(y,x)-2/x*y=x^3*sin(3\n*x),1/x^2*noundiff(y,x)-2/x^3*\ny=x*sin(3*x),noundiff(y/x^2,x)\n=x*sin(3*x),y/x^2 = nounint(x*\nsin(3*x),x),y/x^2=(sin(3*x)-3*\nx*cos(3*x))/9+c]</pre> <pre>[]</pre> <pre>[calculus]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR,INTCHAR(x),INTCHAR(x)) \\[\\begin{array}{lll} &amp;\\frac{\\mathrm{d} y}{\\mathrm{d} x}-\\frac{2}{x}\\cdot y=x^3\\cdot \\sin \\left( 3\\cdot x \\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\frac{1}{x^2}\\cdot \\left(\\frac{\\mathrm{d} y}{\\mathrm{d} x}\\right)-\\frac{2}{x^3}\\cdot y=x\\cdot \\sin \\left( 3\\cdot x \\right)&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(\\frac{\\mathrm{d}}{\\mathrm{d} x} \\frac{y}{x^2}\\right)=x\\cdot \\sin \\left( 3\\cdot x \\right)&amp; \\cr \\color{blue}{\\int\\ldots\\mathrm{d}x}&amp;\\frac{y}{x^2}=\\int {x\\cdot \\sin \\left( 3\\cdot x \\right)}{\\;\\mathrm{d}x}&amp; \\cr \\color{blue}{\\int\\ldots\\mathrm{d}x}&amp;\\frac{y}{x^2}=\\frac{\\sin \\left( 3\\cdot x \\right)-3\\cdot x\\cdot \\cos \\left( 3\\cdot x \\right)}{9}+c&amp; \\cr \\end{array}\\]"},{"location":"Authoring/Answer_Tests/Results/EquivFirst/","title":"EquivFirst: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> EquivFirst Test?Student responseTeacher answerOptMarkAnswer note EquivFirst <pre>x</pre> <pre>[x^2=4,x=2 or x=-2]</pre> -1 ATEquivFirst_SA_not_list. The first argument to the Equiv answer test should be a list, but the test failed. Please contact your teacher. EquivFirst <pre>[x^2=4,x=2 or x=-2]</pre> <pre>x</pre> -1 ATEquivFirst_SB_not_list. The second argument to the Equiv answer test should be a list, but the test failed. Please contact your teacher. EquivFirst <pre>[1/0]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> -1 ATEquivFirst_STACKERROR_SAns. EquivFirst <pre>[x^2=4,x=2 or x=-2]</pre> <pre>[1/0]</pre> -1 ATEquivFirst_STACKERROR_TAns. EquivFirst <pre>[x^2=4,x=2 or x=-2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 1 (EMPTYCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] EquivFirst <pre>[x^2=9,x=3 or x=-3]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 0 ATEquivFirst_SA_wrong_start The first line in your argument must be \"\\(x^2=4\\)\". EquivFirst <pre>[x^2=4,x=2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 0 (EMPTYCHAR,IMPLIEDCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{red}{\\Leftarrow}&amp;x=2&amp; \\cr \\end{array}\\] EquivFirst <pre>[x^2=4,x^2-4=0,(x-2)*(x+2)=0,x\n=2 or x=-2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x^2-4=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;\\left(x-2\\right)\\cdot \\left(x+2\\right)=0&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] EquivFirst <pre>[x^2=4,x= #pm#2, x=2 or x=-2]</pre> <pre>[x^2=4,x=2 or x=-2]</pre> 1 (EMPTYCHAR, EQUIVCHAR, EQUIVCHAR) \\[\\begin{array}{lll} &amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x= \\pm 2&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2\\,{\\mbox{ or }}\\, x=-2&amp; \\cr \\end{array}\\] EquivFirst <pre>[x^2-6*x+9=0,x=3]</pre> <pre>[x^2-6*x+9=0,x=3]</pre> 1 (EMPTYCHAR,SAMEROOTS) \\[\\begin{array}{lll} &amp;x^2-6\\cdot x+9=0&amp; \\cr \\color{green}{\\mbox{(Same roots)}}&amp;x=3&amp; \\cr \\end{array}\\] EquivFirst <pre>[x^2=4,x=2]</pre> <pre>[x^2=4,x=2]</pre> <pre>[assumepos]</pre> 1 (ASSUMEPOSVARS, EQUIVCHAR) \\[\\begin{array}{lll}\\color{blue}{\\mbox{Assume +ve vars}}&amp;x^2=4&amp; \\cr \\color{green}{\\Leftrightarrow}&amp;x=2&amp; \\cr \\end{array}\\]"},{"location":"Authoring/Answer_Tests/Results/Expanded/","title":"Expanded: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> Expanded Test?Student responseTeacher answerOptMarkAnswer note Expanded <pre>1/0</pre> <pre>0</pre> -1 ATExpanded_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Expanded <pre>x&gt;2</pre> <pre>x^2-2*x+1</pre> 0 ATExpanded_SA_not_expression. Your answer should be an expression, not an equation, inequality, list, set or matrix. Expanded <pre>x^2-1</pre> <pre>0</pre> 1 ATExpanded_TRUE. Expanded <pre>2*(x-1)</pre> <pre>0</pre> 0 ATExpanded_FALSE. Expanded <pre>(x-1)*(x+1)</pre> <pre>0</pre> 0 ATExpanded_FALSE. Expanded <pre>(x-a)*(x-b)</pre> <pre>0</pre> 0 ATExpanded_FALSE. Expanded <pre>x^2-(a+b)*x+a*b</pre> <pre>0</pre> 0 ATExpanded_FALSE. Expanded <pre>x^2-a*x-b*x+a*b</pre> <pre>0</pre> 1 ATExpanded_TRUE. Expanded <pre>cos(2*x)</pre> <pre>0</pre> 1 ATExpanded_TRUE. Expanded <pre>p+1</pre> <pre>0</pre> 1 ATExpanded_TRUE. Expanded <pre>(p+1)*(p-1)</pre> <pre>0</pre> 0 ATExpanded_FALSE. Expanded <pre>3+2*sqrt(3)</pre> <pre>0</pre> 1 ATExpanded_TRUE. Expanded <pre>3+sqrt(12)</pre> <pre>0</pre> 1 ATExpanded_TRUE. Expanded <pre>(1+sqrt(5))*(1-sqrt(3))</pre> <pre>0</pre> 0 ATExpanded_FALSE. This fails, but you are never going to ask students to do this anyway... Expanded ! <pre>(a-x)^6000</pre> <pre>0</pre> -2 ATExpanded_TRUE."},{"location":"Authoring/Answer_Tests/Results/FacForm/","title":"FacForm: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> FacForm Test?Student responseTeacher answerOptMarkAnswer note FacForm <pre>1/0</pre> <pre>0</pre> <pre>x</pre> -1 ATFacForm_STACKERROR_SAns. FacForm <pre>0</pre> <pre>1/0</pre> <pre>x</pre> -1 ATFacForm_STACKERROR_TAns. FacForm <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATFacForm_STACKERROR_Opt. Trivial cases FacForm <pre>2</pre> <pre>2</pre> <pre>x</pre> 1 ATFacForm_int_true. FacForm <pre>6</pre> <pre>6</pre> <pre>x</pre> 1 ATFacForm_int_true. FacForm <pre>1/3</pre> <pre>1/3</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>3*x^2</pre> <pre>3*x^2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>4*x^2</pre> <pre>4*x^2</pre> <pre>x</pre> 1 ATFacForm_true. Linear integer factors FacForm <pre>2*(x-1)</pre> <pre>2*x-2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>2*x-2</pre> <pre>2*x-2</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You need to take out a common factor. FacForm <pre>2*(x+1)</pre> <pre>2*x-2</pre> <pre>x</pre> 0 ATFacForm_isfactored. ATFacForm_notalgequiv. Your answer is factored, well done. Note that your answer is not algebraically equivalent to the correct answer. You must have done something wrong. FacForm <pre>2*x+2</pre> <pre>2*x-2</pre> <pre>x</pre> 0 ATFacForm_notfactored. ATFacForm_notalgequiv. Your answer is not factored. You need to take out a common factor. Note that your answer is not algebraically equivalent to the correct answer. You must have done something wrong. FacForm <pre>2*(x+0.5)</pre> <pre>2*x+1</pre> <pre>x</pre> 1 ATFacForm_default_true. Linear factors FacForm <pre>t*(2*x+1)</pre> <pre>t*(2*x+1)</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>t*x+t</pre> <pre>t*(x+1)</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. FacForm <pre>6*s*t+10*s</pre> <pre>2*s*(3*t+5)</pre> <pre>t</pre> 0 ATFacForm_notfactored. Your answer is not factored. Quadratic, with no const FacForm <pre>2*x*(x-3)</pre> <pre>2*x^2-6*x</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>2*(x^2-3*x)</pre> <pre>2*x*(x-3)</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(x^2-3\\cdot x\\). FacForm <pre>x*(2*x-6)</pre> <pre>2*x*(x-3)</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(2\\cdot x-6\\). You need to take out a common factor. Quadratic FacForm <pre>(x+2)*(x+3)</pre> <pre>(x+2)*(x+3)</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(x+2)*(2*x+6)</pre> <pre>2*(x+2)*(x+3)</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(2\\cdot x+6\\). You need to take out a common factor. FacForm <pre>(z*x+z)*(2*x+6)</pre> <pre>2*z*(x+1)*(x+3)</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(z\\cdot x+z\\). You could still do some more work on the term \\(2\\cdot x+6\\). You need to take out a common factor. FacForm <pre>(x+t)*(x-t)</pre> <pre>x^2-t^2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>t^2-1</pre> <pre>(t-1)*(t+1)</pre> <pre>t</pre> 0 ATFacForm_notfactored. Your answer is not factored. FacForm <pre>t^2+1</pre> <pre>t^2+1</pre> <pre>t</pre> 1 ATFacForm_true. FacForm <pre>v^2+1</pre> <pre>v^2+1</pre> <pre>v</pre> 1 ATFacForm_true. FacForm <pre>v^2-1</pre> <pre>v^2-1</pre> <pre>v</pre> 0 ATFacForm_notfactored. Your answer is not factored. FacForm <pre>-(3*w-4*v+9*u)*(3*w+4*v-u)</pre> <pre>-(3*w-4*v+9*u)*(3*w+4*v-u)</pre> <pre>v</pre> 1 ATFacForm_true. FacForm <pre>-6*k*(4*b-k-1)</pre> <pre>6*k*(1+k-4*b)</pre> <pre>k</pre> 1 ATFacForm_default_true. FacForm <pre>-2*3*k*(4*b-k-1)</pre> <pre>6*k*(1+k-4*b)</pre> <pre>k</pre> 1 ATFacForm_true. FacForm <pre>-(6*k*(4*b-k-1))</pre> <pre>6*k*(1+k-4*b)</pre> <pre>k</pre> 1 ATFacForm_default_true. FacForm <pre>-(6*a*(4*b-a-1))</pre> <pre>6*a*(1+a-4*b)</pre> <pre>a</pre> 1 ATFacForm_true. FacForm <pre>-(6*a*(4*b-a-1))</pre> <pre>6*a*(-(4*b)+a+1)</pre> <pre>a</pre> 1 ATFacForm_true. FacForm <pre>x*(x-4+4/x)</pre> <pre>x^2-4*x+4</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(x-4+\\frac{4}{x}\\). This term is expected to be a polynomial, but is not. These are delicate cases! FacForm <pre>(2-x)*(3-x)</pre> <pre>(x-2)*(x-3)</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(1-x)^2</pre> <pre>(x-1)^2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(1-x)*(1-x)</pre> <pre>(x-1)^2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>-(1-x)^2</pre> <pre>-(x-1)^2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(1-x)^2</pre> <pre>(x-1)^2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>4*(1-x/2)^2</pre> <pre>(x-2)^2</pre> <pre>x</pre> 1 ATFacForm_default_true. FacForm <pre>-3*(x-4)*(x+1)</pre> <pre>-3*x^2+9*x+12</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>3*(-x+4)*(x+1)</pre> <pre>-3*x^2+9*x+12</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>3*(4-x)*(x+1)</pre> <pre>-3*x^2+9*x+12</pre> <pre>x</pre> 1 ATFacForm_true. Cubics FacForm <pre>(x-1)*(x^2+x+1)</pre> <pre>x^3-1</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>x^3-x+1</pre> <pre>x^3-x+1</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>7*x^3-7*x+7</pre> <pre>7*(x^3-x+1)</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You need to take out a common factor. FacForm <pre>(1-x)*(2-x)*(3-x)</pre> <pre>-x^3+6*x^2-11*x+6</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(2-x)*(2-x)*(3-x)</pre> <pre>-x^3+7*x^2-16*x+12</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(2-x)^2*(3-x)</pre> <pre>-x^3+7*x^2-16*x+12</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(x^2-4*x+4)*(3-x)</pre> <pre>-x^3+7*x^2-16*x+12</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(x^2-4\\cdot x+4\\). FacForm <pre>(x^2-3*x+2)*(3-x)</pre> <pre>-x^3+6*x^2-11*x+6</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(x^2-3\\cdot x+2\\). FacForm <pre>3*y^3-6*y^2-24*y</pre> <pre>3*(y-4)*y*(y+2)</pre> <pre>y</pre> 0 ATFacForm_notfactored. Your answer is not factored. You need to take out a common factor. FacForm <pre>3*(y^3-2*y^2-8*y)</pre> <pre>3*(y-4)*y*(y+2)</pre> <pre>y</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(y^3-2\\cdot y^2-8\\cdot y\\). FacForm <pre>3*y*(y^2-2*y-8)</pre> <pre>3*(y-4)*y*(y+2)</pre> <pre>y</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(y^2-2\\cdot y-8\\). FacForm <pre>3*(y^2-4*y)*(y+2)</pre> <pre>3*(y-4)*y*(y+2)</pre> <pre>y</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(y^2-4\\cdot y\\). FacForm <pre>(y-4)*y*(3*y+6)</pre> <pre>3*(y-4)*y*(y+2)</pre> <pre>y</pre> 0 ATFacForm_notfactored. Your answer is not factored. You could still do some more work on the term \\(3\\cdot y+6\\). You need to take out a common factor. FacForm <pre>(a-x)^6000</pre> <pre>(a-x)^6000</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(x-a)^6000</pre> <pre>(a-x)^6000</pre> <pre>x</pre> 1 ATFacForm_true. Needs flattening FacForm <pre>2*a*(a*b-1)</pre> <pre>2*a*(a*b-1)</pre> <pre>a</pre> 1 ATFacForm_true. FacForm <pre>(2*a)*(a*b-1)</pre> <pre>2*a*(a*b-1)</pre> <pre>a</pre> 1 ATFacForm_true. FacForm <pre>3*x*(7*y-3)*(7*y+3)</pre> <pre>3*x*(7*y-3)*(7*y+3)</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>3*x*(7*y-3)*(7*y+3)</pre> <pre>3*x*(7*y-3)*(7*y+3)</pre> <pre>y</pre> 1 ATFacForm_true. Not polynomials in a variable FacForm <pre>(sin(x)+1)*(sin(x)-1)</pre> <pre>sin(x)^2-1</pre> <pre>sin(x)</pre> 1 ATFacForm_true. FacForm <pre>(cos(t)-sqrt(2))^2</pre> <pre>cos(t)^2-2*sqrt(2)*cos(t)+2</pre> <pre>cos(t)</pre> 1 ATFacForm_true. FacForm <pre>7</pre> <pre>7</pre> <pre>x</pre> 1 ATFacForm_int_true. Factors over other fields FacForm <pre>24*(x-1/4)</pre> <pre>24*x-6</pre> <pre>x</pre> 1 ATFacForm_default_true. FacForm <pre>(x-sqrt(2))*(x+sqrt(2))</pre> <pre>x^2-2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>x^2-2</pre> <pre>x^2-2</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(%i*x-2*%i)</pre> <pre>%i*(x-2)</pre> <pre>x</pre> 0 ATFacForm_notfactored. Your answer is not factored. FacForm <pre>%i*(x-2)</pre> <pre>(%i*x-2*%i)</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(x-%i)*(x+%i)</pre> <pre>x^2+1</pre> <pre>x</pre> 1 ATFacForm_true. FacForm <pre>(x-1)*(x+(1+sqrt(3)*%i)/2)*(x+\n(1-sqrt(3)*%i)/2)</pre> <pre>x^3-1</pre> <pre>x</pre> 1 ATFacForm_default_true."},{"location":"Authoring/Answer_Tests/Results/GT/","title":"GT: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> GT Test?Student responseTeacher answerOptMarkAnswer note GT <pre>1/0</pre> <pre>1</pre> -1 ATGT_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. GT <pre>1</pre> <pre>1/0</pre> -1 ATGT_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. GT <pre>1</pre> <pre>1</pre> 0 ATGT_false. GT <pre>2</pre> <pre>1</pre> 1 ATGT_true. GT <pre>1</pre> <pre>2.1</pre> 0 ATGT_false. GT <pre>pi</pre> <pre>3</pre> 1 ATGT_true. GT <pre>pi+2</pre> <pre>5</pre> 1 ATGT_true. Infinity GT <pre>-inf</pre> <pre>0</pre> 0 Not number GT <pre>inf</pre> <pre>0</pre> 0 Not number"},{"location":"Authoring/Answer_Tests/Results/GTE/","title":"GTE: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> GTE Test?Student responseTeacher answerOptMarkAnswer note GTE <pre>1/0</pre> <pre>1</pre> -1 ATGTE_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. GTE <pre>1</pre> <pre>1/0</pre> -1 ATGTE_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. GTE <pre>1</pre> <pre>1</pre> 1 ATGTE_true. GTE <pre>2</pre> <pre>1</pre> 1 ATGTE_true. GTE <pre>1</pre> <pre>2.1</pre> 0 ATGTE_false. GTE <pre>pi</pre> <pre>3</pre> 1 ATGTE_true. GTE <pre>pi+2</pre> <pre>5</pre> 1 ATGTE_true."},{"location":"Authoring/Answer_Tests/Results/Int/","title":"Int: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> Int Test?Student responseTeacher answerOptMarkAnswer note Int <pre>1/0</pre> <pre>1</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  Int <pre>1/0</pre> <pre>1</pre> <pre>x</pre> -1 ATInt_STACKERROR_SAns. Int <pre>1</pre> <pre>1/0</pre> <pre>x</pre> -1 ATInt_STACKERROR_TAns. Int <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATInt_STACKERROR_Opt. Int <pre>0</pre> <pre>0</pre> <pre>[x,1/0]</pre> -1 ATInt_STACKERROR_Opt. Int <pre>0</pre> <pre>0</pre> <pre>[x,NOCONST,1/0]</pre> -1 ATInt_STACKERROR_Opt. Basic tests Int <pre>x^3/3</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>x^3/3+1</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_const_int. You need to add a constant of integration. This should be an arbitrary constant, not a number. Int <pre>x^3/3+c</pre> <pre>x^3/3</pre> <pre>x</pre> 1 ATInt_true. Int <pre>x^3/3-c</pre> <pre>x^3/3</pre> <pre>x</pre> 1 ATInt_true. Int <pre>x^3/3+c+1</pre> <pre>x^3/3</pre> <pre>x</pre> 1 ATInt_true. Int <pre>x^3/3+3*c</pre> <pre>x^3/3</pre> <pre>x</pre> 1 ATInt_true. Int <pre>(x^3+c)/3</pre> <pre>x^3/3</pre> <pre>x</pre> 1 ATInt_true. Int <pre>x^(k+1)/(k+1)</pre> <pre>x^(k+1)/(k+1)</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>x^(k+1)/(k+1)+c</pre> <pre>x^(k+1)/(k+1)</pre> <pre>x</pre> 1 ATInt_true. Int ! <pre>(x^(k+1)-1)/(k+1)</pre> <pre>x^(k+1)/(k+1)</pre> <pre>x</pre> -2 ATInt_true. Int ! <pre>(x^(k+1)-1)/(k+1)+c</pre> <pre>x^(k+1)/(k+1)+c</pre> <pre>x</pre> -3 ATInt_weirdconst. The formal derivative of your answer does equal the expression that you were asked to integrate. However, you have a strange constant of integration. Please ask your teacher about this. Int <pre>x^3/3+c+k</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_weirdconst. The formal derivative of your answer does equal the expression that you were asked to integrate. However, you have a strange constant of integration. Please ask your teacher about this. Int <pre>x^3/3+c^2</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_weirdconst. The formal derivative of your answer does equal the expression that you were asked to integrate. However, you have a strange constant of integration. Please ask your teacher about this. Int <pre>x^3/3+c^3</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_weirdconst. The formal derivative of your answer does equal the expression that you were asked to integrate. However, you have a strange constant of integration. Please ask your teacher about this. Int <pre>x^3/3*c</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[x^2\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[c\\cdot x^2\\] so you must have done something wrong! Int <pre>X^3/3+c</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_generic. ATInt_var_SB_notSA. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[x^2\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[0\\] so you must have done something wrong! Int <pre>sin(2*x)</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[x^2\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[2\\cdot \\cos \\left( 2\\cdot x \\right)\\] so you must have done something wrong! Int <pre>x^2/2-2*x+2+c</pre> <pre>(x-2)^2/2</pre> <pre>x</pre> 1 ATInt_true. Int <pre>(t-1)^5/5+c</pre> <pre>(t-1)^5/5</pre> <pre>t</pre> 1 ATInt_true. Int <pre>(v-1)^5/5+c</pre> <pre>(v-1)^5/5</pre> <pre>v</pre> 1 ATInt_true. Int <pre>cos(2*x)/2+1+c</pre> <pre>cos(2*x)/2</pre> <pre>x</pre> 1 ATInt_true. Int <pre>(x-a)^6001/6001+c</pre> <pre>(x-a)^6001/6001</pre> <pre>x</pre> 1 ATInt_true. Int <pre>(x-a)^6001/6001</pre> <pre>(x-a)^6001/6001</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>6000*(x-a)^5999</pre> <pre>(x-a)^6001/6001</pre> <pre>x</pre> 0 ATInt_diff. It looks like you have differentiated instead! Int <pre>4*%e^(4*x)/(%e^(4*x)+1)</pre> <pre>log(%e^(4*x)+1)+c</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[\\frac{4\\cdot e^{4\\cdot x}}{e^{4\\cdot x}+1}\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[\\frac{16\\cdot e^{4\\cdot x}}{e^{4\\cdot x}+1}-\\frac{16\\cdot e^{8 \\cdot x}}{{\\left(e^{4\\cdot x}+1\\right)}^2}\\] so you must have done something wrong! The teacher adds a constant Int <pre>x^3/3+c</pre> <pre>x^3/3+c</pre> <pre>x</pre> 1 ATInt_true. Int <pre>x^2/2-2*x+2+c</pre> <pre>(x-2)^2/2+k</pre> <pre>x</pre> 1 ATInt_true. The teacher condones lack of constant, or numerical constant Int <pre>x^3/3</pre> <pre>x^3/3</pre> <pre>[x,NOCONST]</pre> 1 ATInt_const_condone. Int <pre>x^3/3+c</pre> <pre>x^3/3</pre> <pre>[x,NOCONST]</pre> 1 ATInt_true. Int <pre>x^2/2-2*x+2</pre> <pre>(x-2)^2/2+k</pre> <pre>[x,NOCONST]</pre> 1 ATInt_const_condone. Int <pre>x^3/3+1</pre> <pre>x^3/3</pre> <pre>[x,NOCONST]</pre> 1 ATInt_const_int_condone. Int <pre>x^3/3+c^2</pre> <pre>x^3/3</pre> <pre>[x,NOCONST]</pre> 0 ATInt_weirdconst. The formal derivative of your answer does equal the expression that you were asked to integrate. However, you have a strange constant of integration. Please ask your teacher about this. Int <pre>n*x^n</pre> <pre>n*x^(n-1)</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[\\left(n-1\\right)\\cdot n\\cdot x^{n-2}\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[n^2\\cdot x^{n-1}\\] so you must have done something wrong! Int <pre>n*x^n</pre> <pre>(assume(n&gt;0), n*x^(n-1))</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[\\left(n-1\\right)\\cdot n\\cdot x^{n-2}\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[n^2\\cdot x^{n-1}\\] so you must have done something wrong! Special case Int <pre>exp(x)+c</pre> <pre>exp(x)</pre> <pre>x</pre> 1 ATInt_true. Int <pre>exp(x)</pre> <pre>exp(x)</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>exp(x)</pre> <pre>exp(x)</pre> <pre>[x,NOCONST]</pre> 1 ATInt_const_condone. Student differentiates by mistake Int <pre>2*x</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_diff. It looks like you have differentiated instead! Int <pre>2*x+c</pre> <pre>x^3/3</pre> <pre>x</pre> 0 ATInt_diff. It looks like you have differentiated instead! Sloppy logs (teacher ignores abs(x) ) Int <pre>ln(x)</pre> <pre>ln(x)</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>ln(x)</pre> <pre>ln(x)</pre> <pre>[x,NOCONST]</pre> 1 ATInt_const_condone. Int <pre>ln(x)+c</pre> <pre>ln(x)+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(k*x)</pre> <pre>ln(x)+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Fussy logs (teacher uses abs(x) ) Int <pre>ln(x)</pre> <pre>ln(abs(x))+c</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(x)+c</pre> <pre>ln(abs(x))+c</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(x)</pre> <pre>ln(abs(x))+c</pre> <pre>[x, NOCONST]</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(abs(x))</pre> <pre>ln(abs(x))+c</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>ln(abs(x))+c</pre> <pre>ln(abs(x))+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(k*x)</pre> <pre>ln(abs(x))+c</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(k*abs(x))</pre> <pre>ln(abs(x))+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(abs(k*x))</pre> <pre>ln(abs(x))+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Teacher uses ln(k*abs(x)) Int <pre>ln(x)</pre> <pre>ln(k*abs(x))</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(x)+c</pre> <pre>ln(k*abs(x))</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(abs(x))</pre> <pre>ln(k*abs(x))</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>ln(abs(x))+c</pre> <pre>ln(k*abs(x))</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(k*x)</pre> <pre>ln(k*abs(x))</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(k*abs(x))</pre> <pre>ln(k*abs(x))</pre> <pre>x</pre> 1 ATInt_true_equiv. Other logs Int <pre>ln(x)+ln(a)</pre> <pre>ln(k*abs(x+a))</pre> <pre>x</pre> 0 ATInt_generic. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>log(x)^2-2*log(c)*log(x)+k</pre> <pre>ln(c/x)^2</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>log(x)^2-2*log(c)*log(x)+k</pre> <pre>ln(abs(c/x))^2</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[-\\frac{2\\cdot \\ln \\left( \\frac{\\left| c\\right| }{\\left| x\\right| } \\right)}{x}\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[\\frac{2\\cdot \\ln \\left( x \\right)}{x}-\\frac{2\\cdot \\ln \\left( c \\right)}{x}\\] so you must have done something wrong! Int <pre>c-(log(2)-log(x))^2/2</pre> <pre>-1/2*log(2/x)^2</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(abs(x+3))/2+c</pre> <pre>ln(abs(2*x+6))/2+c</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>ln(abs(x+3))/2+c</pre> <pre>ln(abs(2*x+6))/2+c</pre> <pre>[x, FORMAL]</pre> 1 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>ln(abs(x+3))/2</pre> <pre>ln(abs(2*x+6))/2+c</pre> <pre>[x, FORMAL]</pre> 1 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>ln(abs(x+3))/2</pre> <pre>ln(abs(2*x+6))/2+c</pre> <pre>[x, FORMAL, NOC\nONST]</pre> 1 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>ln(abs(x+3))/2</pre> <pre>ln(abs(2*x+6))/2+c</pre> <pre>[x, NOCONST, FO\nRMAL]</pre> 1 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int ! <pre>ln(abs(x+3))/2</pre> <pre>ln(abs(2*x+6))/2+c</pre> <pre>[x, NOCONST]</pre> -3 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>-log(sqrt(x^2-4*x+3)+x-2)/2+(x\n*sqrt(x^2-4*x+3))/2-sqrt(x^2-4\n*x+3)+c</pre> <pre>integrate(sqrt(x^2-4*x+3),x)</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>-log(sqrt(x^2-4*x+3)+x-2)/2+(x\n*sqrt(x^2-4*x+3))/2-sqrt(x^2-4\n*x+3)+c</pre> <pre>integrate(sqrt(x^2-4*x+3),x)</pre> <pre>[x, FORMAL]</pre> 1 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Irreducible quadratic Int <pre>ln(x^2+7*x+7)</pre> <pre>ln(x^2+7*x+7)</pre> <pre>[x,NOCONST]</pre> 1 ATInt_const_condone. Int <pre>ln(x^2+7*x+7)</pre> <pre>ln(abs(x^2+7*x+7))</pre> <pre>[x,NOCONST]</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(x^2+7*x+7)+c</pre> <pre>ln(x^2+7*x+7)+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(k*(x^2+7*x+7))</pre> <pre>ln(x^2+7*x+7)+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(x^2+7*x+7)</pre> <pre>ln(abs(x^2+7*x+7))+c</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(x^2+7*x+7)+c</pre> <pre>ln(abs(x^2+7*x+7))+c</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>ln(abs(x^2+7*x+7))+c</pre> <pre>ln(abs(x^2+7*x+7))+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>ln(k*abs(x^2+7*x+7))</pre> <pre>ln(abs(x^2+7*x+7))+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Two logs Int <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>log(abs(x-3))+log(abs(x+3))+c</pre> <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>log(x-3)+log(x+3)</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>log(abs(x-3))+log(abs(x+3))+c</pre> <pre>log(x-3)+log(x+3)</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>log(x-3)+log(x+3)</pre> <pre>log(x-3)+log(x+3)</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>log(x-3)+log(x+3)+c</pre> <pre>log(x-3)+log(x+3)</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>log(x-3)+log(x+3)</pre> <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>log(x-3)+log(x+3)+c</pre> <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>log(abs((x-3)*(x+3)))+c</pre> <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>log(abs((x^2-9)))+c</pre> <pre>log(abs(x-3))+log(abs(x+3))</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Please ask your teacher about this. Int <pre>2*log(abs(x-2))-log(abs(x+2))+\n(x^2+4*x)/2</pre> <pre>-log(abs(x+2))+2*log(abs(x-2))\n+(x^2+4*x)/2+c</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>-log(abs(x+2))+2*log(abs(x-2))\n+(x^2+4*x)/2+c</pre> <pre>-log(abs(x+2))+2*log(abs(x-2))\n+(x^2+4*x)/2+c</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>-log(abs(x+2))+2*log(abs(x-2))\n+(x^2+4*x)/2+c</pre> <pre>-log((x+2))+2*log((x-2))+(x^2+\n4*x)/2</pre> <pre>x</pre> 1 ATInt_true_equiv. Inconsistent log(abs()) Int <pre>log(abs(x-3))+log((x+3))+c</pre> <pre>log(x-3)+log(x+3)</pre> <pre>x</pre> 0 ATInt_true_equiv. ATInt_logabs_inconsistent. There appear to be strange inconsistencies between your use of \\(\\log(...)\\) and \\(\\log(|...|)\\). Please ask your teacher about this. Int <pre>log((v-3))+log(abs(v+3))+c</pre> <pre>log(v-3)+log(v+3)</pre> <pre>v</pre> 0 ATInt_true_equiv. ATInt_logabs_inconsistent. There appear to be strange inconsistencies between your use of \\(\\log(...)\\) and \\(\\log(|...|)\\). Please ask your teacher about this. Int <pre>log((x-3))+log(abs(x+3))</pre> <pre>log(x-3)+log(x+3)</pre> <pre>x</pre> 0 ATInt_const. ATInt_logabs_inconsistent. There appear to be strange inconsistencies between your use of \\(\\log(...)\\) and \\(\\log(|...|)\\). Please ask your teacher about this. Int <pre>2*log((x-2))-log(abs(x+2))+(x^\n2+4*x)/2</pre> <pre>-log(abs(x+2))+2*log(abs(x-2))\n+(x^2+4*x)/2</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. ATInt_logabs_inconsistent. There appear to be strange inconsistencies between your use of \\(\\log(...)\\) and \\(\\log(|...|)\\). Please ask your teacher about this. Significant integration constant differences Int <pre>2*(sqrt(t)-5)-10*log((sqrt(t)-\n5))+c</pre> <pre>2*(sqrt(t)-5)-10*log((sqrt(t)-\n5))+c</pre> <pre>t</pre> 1 ATInt_true_equiv. Int <pre>2*(sqrt(t))-10*log((sqrt(t)-5)\n)+c</pre> <pre>2*(sqrt(t)-5)-10*log((sqrt(t)-\n5))+c</pre> <pre>t</pre> 1 ATInt_true_differentconst. Int <pre>2*(sqrt(t)-5)-10*log((sqrt(t)-\n5))+c</pre> <pre>2*(sqrt(t)-5)-10*log(abs(sqrt(\nt)-5))+c</pre> <pre>t</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>2*(sqrt(t))-10*log(abs(sqrt(t)\n-5))+c</pre> <pre>2*(sqrt(t)-5)-10*log(abs(sqrt(\nt)-5))+c</pre> <pre>t</pre> 1 ATInt_true_differentconst. Trig Int <pre>2*sin(x)*cos(x)</pre> <pre>sin(2*x)+c</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>2*sin(x)*cos(x)+k</pre> <pre>sin(2*x)+c</pre> <pre>x</pre> 1 ATInt_true. Int <pre>-2*cos(3*x)/3-3*cos(2*x)/2</pre> <pre>-2*cos(3*x)/3-3*cos(2*x)/2+c</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>-2*cos(3*x)/3-3*cos(2*x)/2+1</pre> <pre>-2*cos(3*x)/3-3*cos(2*x)/2+c</pre> <pre>x</pre> 0 ATInt_const_int. You need to add a constant of integration. This should be an arbitrary constant, not a number. Int <pre>-2*cos(3*x)/3-3*cos(2*x)/2+c</pre> <pre>-2*cos(3*x)/3-3*cos(2*x)/2+c</pre> <pre>x</pre> 1 ATInt_true. Int <pre>(tan(2*t)-2*t)/2</pre> <pre>-(t*sin(4*t)^2-sin(4*t)+t*cos(\n4*t)^2+2*t*cos(4*t)+t)/(sin(4*\nt)^2+cos(4*t)^2+2*cos(4*t)+1)</pre> <pre>t</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>(tan(2*t)-2*t)/2+1</pre> <pre>-(t*sin(4*t)^2-sin(4*t)+t*cos(\n4*t)^2+2*t*cos(4*t)+t)/(sin(4*\nt)^2+cos(4*t)^2+2*cos(4*t)+1)</pre> <pre>t</pre> 0 ATInt_const_int. You need to add a constant of integration. This should be an arbitrary constant, not a number. Int <pre>(tan(2*t)-2*t)/2+c</pre> <pre>-(t*sin(4*t)^2-sin(4*t)+t*cos(\n4*t)^2+2*t*cos(4*t)+t)/(sin(4*\nt)^2+cos(4*t)^2+2*cos(4*t)+1)</pre> <pre>t</pre> 1 ATInt_true. Int <pre>tan(x)-x+c</pre> <pre>tan(x)-x</pre> <pre>x</pre> 1 ATInt_true. Note the difference in feedback here, generated by the options. Int <pre>((5*%e^7*x-%e^7)*%e^(5*x))</pre> <pre>((5*%e^7*x-%e^7)*%e^(5*x))/25+\nc</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[\\frac{e^{5\\cdot x+7}}{5}+\\frac{\\left(5\\cdot e^7\\cdot x-e^7\\right) \\cdot e^{5\\cdot x}}{5}\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[5\\cdot e^{5\\cdot x+7}+5\\cdot \\left(5\\cdot e^7\\cdot x-e^7\\right) \\cdot e^{5\\cdot x}\\] so you must have done something wrong! Int <pre>((5*%e^7*x-%e^7)*%e^(5*x))</pre> <pre>((5*%e^7*x-%e^7)*%e^(5*x))/25+\nc</pre> <pre>[x,x*%e^(5*x+7)\n]</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[x\\cdot e^{5\\cdot x+7}\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[5\\cdot e^{5\\cdot x+7}+5\\cdot \\left(5\\cdot e^7\\cdot x-e^7\\right) \\cdot e^{5\\cdot x}\\] so you must have done something wrong! Inverse hyperbolic integrals Int <pre>log(x-3)/6-log(x+3)/6+c</pre> <pre>log(x-3)/6-log(x+3)/6</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>asinh(x)</pre> <pre>ln(x+sqrt(x^2+1))</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>asinh(x)+c</pre> <pre>ln(x+sqrt(x^2+1))</pre> <pre>x</pre> 1 ATInt_true. Int <pre>-acoth(x/3)/3</pre> <pre>log(x-3)/6-log(x+3)/6</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>-acoth(x/3)/3</pre> <pre>log(x-3)/6-log(x+3)/6</pre> <pre>[x, NOCONST]</pre> 1 ATInt_true. Int <pre>-acoth(x/3)/3+c</pre> <pre>log(x-3)/6-log(x+3)/6</pre> <pre>x</pre> 1 ATInt_true. Int <pre>-acoth(x/3)/3+c</pre> <pre>log(abs(x-3))/6-log(abs(x+3))/\n6</pre> <pre>x</pre> 1 ATInt_true. Int <pre>log(x-a)/(2*a)-log(x+a)/(2*a)+\nc</pre> <pre>log(x-a)/(2*a)-log(x+a)/(2*a)</pre> <pre>x</pre> 1 ATInt_true_equiv. Int <pre>-acoth(x/a)/a+c</pre> <pre>log(x-a)/(2*a)-log(x+a)/(2*a)</pre> <pre>x</pre> 1 ATInt_true. Int <pre>-acoth(x/a)/a+c</pre> <pre>log(abs(x-a))/(2*a)-log(abs(x+\na))/(2*a)</pre> <pre>x</pre> 1 ATInt_true. Int <pre>log(x-a)/(2*a)-log(x+a)/(2*a)+\nc</pre> <pre>log(abs(x-a))/(2*a)-log(abs(x+\na))/(2*a)</pre> <pre>x</pre> 0 ATInt_EqFormalDiff. ATInt_logabs. The formal derivative of your answer does equal the expression that you were asked to integrate. However, your answer differs from the correct answer in a significant way, that is to say not just, e.g., a constant of integration. Your teacher may expect you to use the result \\(\\int\\frac{1}{x} dx = \\log(|x|)+c\\), rather than \\(\\int\\frac{1}{x} dx = \\log(x)+c\\). Please ask your teacher about this. Int <pre>log(x-3)/6-log(x+3)/6+c</pre> <pre>-acoth(x/3)/3</pre> <pre>x</pre> 1 ATInt_true. Int <pre>log(abs(x-3))/6-log(abs(x+3))/\n6+c</pre> <pre>-acoth(x/3)/3</pre> <pre>x</pre> 1 ATInt_true. Int <pre>log(x-3)/6-log(x+3)/6</pre> <pre>-acoth(x/3)/3</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>atan(2*x-3)+c</pre> <pre>atan(2*x-3)</pre> <pre>x</pre> 1 ATInt_true. Int <pre>atan((x-2)/(x-1))+c</pre> <pre>atan(2*x-3)</pre> <pre>x</pre> 1 ATInt_true. Int <pre>atan((x-2)/(x-1))</pre> <pre>atan(2*x-3)</pre> <pre>x</pre> 0 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done. Int <pre>atan((x-1)/(x-2))</pre> <pre>atan(2*x-3)</pre> <pre>x</pre> 0 ATInt_generic. The derivative of your answer should be equal to the expression that you were asked to integrate, that was: \\[\\frac{2}{{\\left(2\\cdot x-3\\right)}^2+1}\\] In fact, the derivative of your answer, with respect to \\(x\\) is: \\[\\frac{\\frac{1}{x-2}-\\frac{x-1}{{\\left(x-2\\right)}^2}}{\\frac{{\\left( x-1\\right)}^2}{{\\left(x-2\\right)}^2}+1}\\] so you must have done something wrong! Stoutemyer (currently fails) Int ! <pre>2/3*sqrt(3)*(atan(sin(x)/(sqrt\n(3)*(cos(x)+1)))-(atan(sin(x)/\n(cos(x)+1))))+x/sqrt(3)</pre> <pre>2*atan(sin(x)/(sqrt(3)*(cos(x)\n+1)))/sqrt(3)</pre> <pre>x</pre> -3 ATInt_const. You need to add a constant of integration, otherwise this appears to be correct. Well done."},{"location":"Authoring/Answer_Tests/Results/Levenshtein/","title":"Levenshtein: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> Levenshtein Test?Student responseTeacher answerOptMarkAnswer note Levenshtein <pre>\"Hello\"</pre> <pre>\"Hello\"</pre> 0 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  Levenshtein <pre>1/0</pre> <pre>\"Hello\"</pre> <pre>0.9</pre> -1 ATLevenshtein_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Levenshtein <pre>x^2</pre> <pre>\"Hello\"</pre> <pre>0.9</pre> 0 ATLevenshtein_SA_not_string. The first argument to the Levenshtein answer test must be a string. The test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>\"Hello\"</pre> <pre>0.9</pre> 0 ATLevenshtein_SB_malformed. The second argument to the Levenshtein answer test must be in the form [allow, deny] where each item is a list of strings. This argument is malformed and so the test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[\"Hello\"]</pre> <pre>0.9</pre> 0 ATLevenshtein_SB_malformed. The second argument to the Levenshtein answer test must be in the form [allow, deny] where each item is a list of strings. This argument is malformed and so the test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[[\"Hello\"]]</pre> <pre>0.9</pre> 0 ATLevenshtein_SB_malformed. The second argument to the Levenshtein answer test must be in the form [allow, deny] where each item is a list of strings. This argument is malformed and so the test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[[\"Hello\"], x^2]</pre> <pre>0.9</pre> 0 ATLevenshtein_SB_malformed. The second argument to the Levenshtein answer test must be in the form [allow, deny] where each item is a list of strings. This argument is malformed and so the test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[[\"Hello\"], [x^2]]</pre> <pre>0.9</pre> 0 ATLevenshtein_SB_malformed. The second argument to the Levenshtein answer test must be in the form [allow, deny] where each item is a list of strings. This argument is malformed and so the test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[[\"Hello\"], [\"G\noodbye\"], [\"Excess&amp;q\nuot;]]</pre> <pre>0.9</pre> 0 ATLevenshtein_SB_malformed. The second argument to the Levenshtein answer test must be in the form [allow, deny] where each item is a list of strings. This argument is malformed and so the test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[[], [\"Goodbye\"]]</pre> <pre>0.9</pre> 0 ATLevenshtein_SB_malformed. The second argument to the Levenshtein answer test must be in the form [allow, deny] where each item is a list of strings. This argument is malformed and so the test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[[\"Hello\"], [\"G\noodbye\"]]</pre> <pre>z</pre> 0 ATLevenshtein_tol_not_number. The tolerance in the Levenshtein answer test must be a number, but is not. The test failed. Please contact your teacher. Levenshtein <pre>\"Hello\"</pre> <pre>[[\"Hello\"], [\"G\noodbye\"]]</pre> <pre>[z]</pre> 0 ATLevenshtein_tol_not_number. The tolerance in the Levenshtein answer test must be a number, but is not. The test failed. Please contact your teacher. Usage tests Levenshtein <pre>\"Hello\"</pre> <pre>[[\"Hello\"], [\"G\noodbye\"]]</pre> <pre>0.9</pre> 1 ATLevenshtein_true: [[1.0,\"Hello\"],[0.0,\"Goodbye\"]]. Levenshtein <pre>\"hello\"</pre> <pre>[[\"Hello\"], [\"G\noodbye\"]]</pre> <pre>[0.9]</pre> 1 ATLevenshtein_true: [[1.0,\"Hello\"],[0.0,\"Goodbye\"]]. Levenshtein <pre>\"hello\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>[0.8, CASE]</pre> 1 ATLevenshtein_match: [[0.8,\"Hello\"],[0.25,\"Fairwell\"]]. The closest match was \"\\(\\mbox{Hello}\\)\". Levenshtein <pre>\"goodday\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>0.8</pre> 1 ATLevenshtein_match: [[0.875,\"Good day\"],[0.57143,\"Goodbye\"]]. The closest match was \"\\(\\mbox{Good day}\\)\". Levenshtein <pre>\"goodday\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>[0.8, CASE]</pre> 0 ATLevenshtein_far: [[0.75,\"Good day\"],[0.42857,\"Goodbye\"]]. Levenshtein <pre>\"Jello\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>0.9</pre> 0 ATLevenshtein_far: [[0.8,\"Hello\"],[0.25,\"Fairwell\"]]. Levenshtein <pre>\"Jello\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>0.75</pre> 1 ATLevenshtein_match: [[0.8,\"Hello\"],[0.25,\"Fairwell\"]]. The closest match was \"\\(\\mbox{Hello}\\)\". Levenshtein <pre>\"Jello\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[]]</pre> <pre>0.75</pre> 1 ATLevenshtein_match: [[0.8,\"Hello\"],[0,[]]]. The closest match was \"\\(\\mbox{Hello}\\)\". Levenshtein <pre>\"Good bye\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>0.75</pre> 0 ATLevenshtein_deny: [[0.625,\"Good day\"],[0.875,\"Goodbye\"]]. Levenshtein <pre>\"Good, day!\"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>0.75</pre> 1 ATLevenshtein_match: [[0.8,\"Good day\"],[0.5,\"Goodbye\"]]. The closest match was \"\\(\\mbox{Good day}\\)\". Levenshtein <pre>sremove_chars(\".,!?\"\n, \"Good, day!\")</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>0.75</pre> 1 ATLevenshtein_true: [[1.0,\"Good day\"],[0.5,\"Goodbye\"]]. Levenshtein <pre>\"   good     day  \"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>0.75</pre> 1 ATLevenshtein_true: [[1.0,\"Good day\"],[0.5,\"Goodbye\"]]. Levenshtein <pre>\"   good     day  \"</pre> <pre>[[\"Hello\", \"Goo\nd day\", \"Hi\"], \n[\"Goodbye\", \"By\ne\", \"Fairwell\"]\n]</pre> <pre>[0.75, WHITESPA\nCE]</pre> 0 ATLevenshtein_far: [[0.47059,\"Good day\"],[0.29412,\"Goodbye\"]]."},{"location":"Authoring/Answer_Tests/Results/LowestTerms/","title":"LowestTerms: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> LowestTerms Test?Student responseTeacher answerOptMarkAnswer note LowestTerms <pre>1/0</pre> <pre>0</pre> -1 ATLowestTerms_STACKERROR_SAns. Mix of floats and rational numbers LowestTerms <pre>0.5</pre> <pre>0</pre> 1 LowestTerms <pre>0.33</pre> <pre>0</pre> 1 LowestTerms <pre>2/4</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{4} \\right] \\] Please try again. Negative numbers LowestTerms <pre>-1/3</pre> <pre>0</pre> 1 LowestTerms <pre>1/-3</pre> <pre>0</pre> 1 LowestTerms <pre>-2/4</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{-2}{4} \\right] \\] Please try again. LowestTerms <pre>2/-4</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{-4} \\right] \\] Please try again. LowestTerms <pre>-1/-3</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{-1}{-3} \\right] \\] Please try again. LowestTerms <pre>-2/-4</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{-2}{-4} \\right] \\] Please try again. Polynomials LowestTerms <pre>x+1/3</pre> <pre>0</pre> 1 LowestTerms <pre>x+2/6</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{6} \\right] \\] Please try again. LowestTerms <pre>2*x/4+2/6</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{6} \\right] \\] Please try again. LowestTerms <pre>2/4*x+2/6</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{4} , \\frac{2}{6} \\right] \\] Please try again. LowestTerms <pre>x-1/-4</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{-1}{-4} \\right] \\] Please try again. Trig functions LowestTerms <pre>cos(x)</pre> <pre>0</pre> 1 LowestTerms <pre>cos(3/6*x)</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{3}{6} \\right] \\] Please try again. Matrices LowestTerms <pre>matrix([1,2/4],[2,3])</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{4} \\right] \\] Please try again. Equations LowestTerms <pre>x=1/2</pre> <pre>0</pre> 1 LowestTerms <pre>3/9=x</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{3}{9} \\right] \\] Please try again. Use predicate lowesttermsp LowestTerms <pre>x^2/x</pre> <pre>0</pre> 1 LowestTerms <pre>(2*x)/(4*t)</pre> <pre>0</pre> 1 LowestTerms <pre>(2/4)*(x^2/t)</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{4} \\right] \\] Please try again. LowestTerms <pre>x^(2/4)</pre> <pre>0</pre> 0 ATLowestTerms_entries. The following terms in your answer are not in lowest terms. \\[\\left[ \\frac{2}{4} \\right] \\] Please try again. Need to rationalize demoninator LowestTerms <pre>sqrt(3)/3</pre> <pre>sqrt(3)/3</pre> 1 LowestTerms <pre>1/sqrt(3)</pre> <pre>sqrt(3)/3</pre> 0 ATLowestTerms_not_rat. You must clear the following from the denominator of your fraction: \\[\\left[ \\sqrt{3} \\right] \\] LowestTerms <pre>1/(1-sqrt(2))</pre> <pre>1/(1-sqrt(2))</pre> 0 ATLowestTerms_not_rat. You must clear the following from the denominator of your fraction: \\[\\left[ \\sqrt{2} \\right] \\] LowestTerms <pre>1/(1+i)</pre> <pre>(1-i)/2</pre> 0 ATLowestTerms_not_rat. You must clear the following from the denominator of your fraction: \\[\\left[ \\mathrm{i} \\right] \\] LowestTerms <pre>1+2/sqrt(3)</pre> <pre>(2*sqrt(3)+3)/3</pre> 0 ATLowestTerms_not_rat. You must clear the following from the denominator of your fraction: \\[\\left[ \\sqrt{3} \\right] \\] LowestTerms <pre>1/(1+1/root(3,2))</pre> <pre>sqrt(3)/(sqrt(3)+1)</pre> 0 ATLowestTerms_not_rat. You must clear the following from the denominator of your fraction: \\[\\left[ 3^{\\frac{1}{2}} \\right] \\] LowestTerms <pre>1/(1+1/root(2,3))</pre> <pre>1/(1+1/root(2,3))</pre> 0 ATLowestTerms_not_rat. You must clear the following from the denominator of your fraction: \\[\\left[ 2^{\\frac{1}{3}} \\right] \\]"},{"location":"Authoring/Answer_Tests/Results/NumAbsolute/","title":"NumAbsolute: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> NumAbsolute Test?Student responseTeacher answerOptMarkAnswer note Basic tests NumAbsolute <pre>1/0</pre> <pre>0</pre> -1 ATNumAbsolute_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. NumAbsolute <pre>0</pre> <pre>1/0</pre> -1 ATNumAbsolute_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. NumAbsolute <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATNumAbsolute_STACKERROR_Opt. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. NumAbsolute <pre>0</pre> <pre>(x</pre> -1 ATNumAbsoluteTEST_FAILED-Empty TA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty teacher answer, probably a CAS validation problem when authoring the question. NumAbsolute <pre>1</pre> <pre>0</pre> <pre>(x</pre> 0 No option, so 5% NumAbsolute <pre>1.1</pre> <pre>1</pre> 0 NumAbsolute <pre>1.05</pre> <pre>1</pre> 1 Options passed NumAbsolute <pre>1.05</pre> <pre>1</pre> <pre>0.1</pre> 1 NumAbsolute <pre>1.05</pre> <pre>3</pre> <pre>0.1</pre> 0 NumAbsolute <pre>3.14</pre> <pre>pi</pre> <pre>0.001</pre> 0 NumAbsolute <pre>1.41e-2</pre> <pre>1.41e-2</pre> <pre>0.0001</pre> 1 NumAbsolute <pre>0.0141</pre> <pre>1.41e-2</pre> <pre>0.0001</pre> 1 NumAbsolute <pre>0.00141</pre> <pre>0.00141</pre> <pre>0.0001</pre> 1 NumAbsolute <pre>0.00141</pre> <pre>1.41*10^-3</pre> <pre>0.0001</pre> 1 NumAbsolute <pre>1.41*10^-3</pre> <pre>1.41*10^-3</pre> <pre>0.0001</pre> 1 NumAbsolute <pre>[3.141,1.414]</pre> <pre>[pi,sqrt(2)]</pre> <pre>0.01</pre> 1 NumAbsolute <pre>[3,1.414]</pre> <pre>[pi,sqrt(2)]</pre> <pre>0.01</pre> 0 ATNumerical_wrongentries SA/TA=[3.0]. The entries underlined in red below are those that are incorrect. \\[\\left[ {\\color{red}{\\underline{3.0}}} , 1.414 \\right] \\] NumAbsolute <pre>[3,1.414]</pre> <pre>{pi,sqrt(2)}</pre> <pre>0.01</pre> 0 ATNumerical_SA_not_set. Your answer should be a set, but is not. Note that the syntax to enter a set is to enclose the comma separated values with curly brackets. NumAbsolute <pre>{1.414,3.1}</pre> <pre>{significantfigures(pi,6),sqrt\n(2)}</pre> <pre>0.01</pre> 0 ATNumerical_wrongentries: TA/SA=[3.14159], SA/TA=[3.1]. The entries underlined in red below are those that are incorrect. \\[\\left \\{{\\color{red}{\\underline{3.1}}} \\right \\}\\] NumAbsolute <pre>{1,1.414,3.1,2}</pre> <pre>{1,2,pi,sqrt(2)}</pre> <pre>0.1</pre> 1"},{"location":"Authoring/Answer_Tests/Results/NumDecPlaces/","title":"NumDecPlaces: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> NumDecPlaces Test?Student responseTeacher answerOptMarkAnswer note Basic tests NumDecPlaces <pre>1/0</pre> <pre>3</pre> <pre>2</pre> -1 ATNumDecPlaces_STACKERROR_SAns. NumDecPlaces <pre>0.1</pre> <pre>1/0</pre> <pre>2</pre> -1 ATNumDecPlaces_STACKERROR_TAns. NumDecPlaces <pre>0.1</pre> <pre>0</pre> <pre>1/0</pre> -1 ATNumDecPlaces_STACKERROR_Opt. NumDecPlaces <pre>0.1</pre> <pre>1</pre> <pre>x</pre> -1 ATNumDecPlaces_OptNotInt. For ATNumDecPlaces the test option must be a positive integer, in fact \"\\(x\\)\" was received. NumDecPlaces <pre>0.1</pre> <pre>1</pre> <pre>-1</pre> -1 ATNumDecPlaces_OptNotInt. For ATNumDecPlaces the test option must be a positive integer, in fact \"\\(-1\\)\" was received. NumDecPlaces <pre>0.1</pre> <pre>1</pre> <pre>0</pre> -1 ATNumDecPlaces_OptNotInt. For ATNumDecPlaces the test option must be a positive integer, in fact \"\\(0\\)\" was received. NumDecPlaces <pre>0.1</pre> <pre>1</pre> <pre>(</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Option field is invalid. You have a missing right bracket ) in the expression: (. NumDecPlaces <pre>(</pre> <pre>1</pre> <pre>1</pre> -1 ATNumDecPlacesTEST_FAILED-Empty SA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty student answer, probably a CAS validation problem when authoring the question. Student's answer not a floating point number NumDecPlaces <pre>x</pre> <pre>3.143</pre> <pre>2</pre> 0 ATNumDecPlaces_SA_Not_num. Your answer must be a floating point number, but is not. NumDecPlaces <pre>pi</pre> <pre>3.000</pre> <pre>3</pre> 0 ATNumDecPlaces_SA_Not_num. Your answer must be a floating point number, but is not. Right number of places NumDecPlaces <pre>3.14</pre> <pre>3.143</pre> <pre>2</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. NumDecPlaces <pre>3.14</pre> <pre>3.14</pre> <pre>2</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. NumDecPlaces <pre>3.140</pre> <pre>3.140</pre> <pre>3</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. NumDecPlaces <pre>3141.5972</pre> <pre>3141.5972</pre> <pre>4</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. NumDecPlaces <pre>4.14</pre> <pre>3.14</pre> <pre>2</pre> 0 ATNumDecPlaces_Correct. ATNumDecPlaces_Not_equiv. NumDecPlaces <pre>3.1416</pre> <pre>pi</pre> <pre>4</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. NumDecPlaces <pre>-7.3</pre> <pre>-7.3</pre> <pre>1</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. Wrong number of places NumDecPlaces <pre>3.14</pre> <pre>3.143</pre> <pre>1</pre> 0 ATNumDecPlaces_Wrong_DPs. ATNumDecPlaces_Equiv. Your answer has been given to the wrong number of decimal places. NumDecPlaces <pre>3.14</pre> <pre>3.143</pre> <pre>1</pre> 0 ATNumDecPlaces_Wrong_DPs. ATNumDecPlaces_Equiv. Your answer has been given to the wrong number of decimal places. NumDecPlaces <pre>3.14</pre> <pre>3.140</pre> <pre>3</pre> 0 ATNumDecPlaces_Wrong_DPs. ATNumDecPlaces_Equiv. Your answer has been given to the wrong number of decimal places. NumDecPlaces <pre>7.000</pre> <pre>7</pre> <pre>4</pre> 0 ATNumDecPlaces_Wrong_DPs. ATNumDecPlaces_Equiv. Your answer has been given to the wrong number of decimal places. NumDecPlaces <pre>7.0000</pre> <pre>7</pre> <pre>4</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. Both wrong DPs and inaccurate. NumDecPlaces <pre>8.0000</pre> <pre>7</pre> <pre>3</pre> 0 ATNumDecPlaces_Wrong_DPs. ATNumDecPlaces_Not_equiv. Your answer has been given to the wrong number of decimal places. Teacher needs to round their answer. NumDecPlaces <pre>4.000</pre> <pre>3.99999</pre> <pre>3</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv. Teacher uses displaydp NumDecPlaces <pre>0.10</pre> <pre>displaydp(0.1,2)</pre> <pre>2</pre> 1 ATNumDecPlaces_Correct. ATNumDecPlaces_Equiv."},{"location":"Authoring/Answer_Tests/Results/NumDecPlacesWrong/","title":"NumDecPlacesWrong: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> NumDecPlacesWrong Test?Student responseTeacher answerOptMarkAnswer note Basic tests NumDecPlacesWrong <pre>1/0</pre> <pre>3</pre> <pre>2</pre> -1 ATNumDecPlacesWrong_STACKERROR_SAns. NumDecPlacesWrong <pre>0.1</pre> <pre>1/0</pre> <pre>2</pre> -1 ATNumDecPlacesWrong_STACKERROR_TAns. NumDecPlacesWrong <pre>0.1</pre> <pre>0</pre> <pre>1/0</pre> -1 ATNumDecPlacesWrong_STACKERROR_Opt. NumDecPlacesWrong <pre>0.1</pre> <pre>0</pre> <pre>x</pre> -1 ATNumDecPlacesWrong_OptNotInt. For ATNumDecPlacesWrong the test option must be a positive integer, in fact \"\\(x\\)\" was received. NumDecPlacesWrong <pre>x^2</pre> <pre>1234</pre> <pre>4</pre> 0 ATNumDecPlacesWrong_SA_Not_num. Your answer must be a floating point number, but is not. NumDecPlacesWrong <pre>1234.5</pre> <pre>x^2</pre> <pre>4</pre> 0 ATNumDecPlacesWrong_Tans_Not_Num. NumDecPlacesWrong <pre>3.141</pre> <pre>31.41</pre> <pre>4</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>3.141</pre> <pre>31.14</pre> <pre>4</pre> 0 ATNumDecPlacesWrong_Wrong. NumDecPlacesWrong <pre>pi</pre> <pre>31.14</pre> <pre>4</pre> 0 ATNumDecPlacesWrong_SA_Not_num. Your answer must be a floating point number, but is not. NumDecPlacesWrong <pre>0.1234</pre> <pre>1234</pre> <pre>4</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>0.1235</pre> <pre>1234</pre> <pre>4</pre> 0 ATNumDecPlacesWrong_Wrong. NumDecPlacesWrong <pre>0.0001234</pre> <pre>1234</pre> <pre>4</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>0.0001235</pre> <pre>1234</pre> <pre>4</pre> 0 ATNumDecPlacesWrong_Wrong. NumDecPlacesWrong <pre>0.1233</pre> <pre>1234</pre> <pre>3</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>0.1243</pre> <pre>1234</pre> <pre>3</pre> 0 ATNumDecPlacesWrong_Wrong. NumDecPlacesWrong <pre>0.1230</pre> <pre>1239</pre> <pre>3</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>0.1240</pre> <pre>1239</pre> <pre>3</pre> 0 ATNumDecPlacesWrong_Wrong. NumDecPlacesWrong <pre>1230</pre> <pre>1239</pre> <pre>3</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>2230</pre> <pre>1239</pre> <pre>3</pre> 0 ATNumDecPlacesWrong_Wrong. NumDecPlacesWrong <pre>0.100</pre> <pre>1.00</pre> <pre>3</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>0.1000</pre> <pre>1.00</pre> <pre>3</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>0.1001</pre> <pre>1.001</pre> <pre>3</pre> 1 ATNumDecPlacesWrong_Correct. Condone lack of trailing zeros NumDecPlacesWrong <pre>0.100</pre> <pre>1.0</pre> <pre>4</pre> 1 ATNumDecPlacesWrong_Correct. NumDecPlacesWrong <pre>1</pre> <pre>1.00</pre> <pre>4</pre> 1 ATNumDecPlacesWrong_Correct. Teacher uses displaydp NumDecPlacesWrong <pre>0.101</pre> <pre>displaydp(101,3)</pre> <pre>3</pre> 1 ATNumDecPlacesWrong_Correct."},{"location":"Authoring/Answer_Tests/Results/NumRelative/","title":"NumRelative: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> NumRelative Test?Student responseTeacher answerOptMarkAnswer note Basic tests NumRelative <pre>1/0</pre> <pre>0</pre> -1 ATNumRelative_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. NumRelative <pre>0</pre> <pre>1/0</pre> -1 ATNumRelative_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. NumRelative <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATNumRelative_STACKERROR_Opt. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. NumRelative <pre>0</pre> <pre>(x</pre> -1 ATNumRelativeTEST_FAILED-Empty TA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty teacher answer, probably a CAS validation problem when authoring the question. NumRelative <pre>1.5</pre> <pre>1.5</pre> <pre>x</pre> -1 ATNumerical_STACKERROR_tol. The numerical tolerance for ATNumerical should be a floating point number, but is not. This is an internal error with the test. Please ask your teacher about this. NumRelative <pre>1</pre> <pre>0</pre> <pre>(x</pre> 0 NumRelative <pre>x=1.5</pre> <pre>1.5</pre> 0 ATNumerical_SA_not_number. Your answer should be a floating point number, but is not. NumRelative <pre>1.5</pre> <pre>x=1.5</pre> 0 ATNumerical_SB_not_number. The value supplied for the teacher's answer should be a floating point number, but is not. This is an internal error with the test. Please ask your teacher about this. No option, so 5% NumRelative <pre>1.1</pre> <pre>1</pre> 0 NumRelative <pre>1.05</pre> <pre>1</pre> 1 NumRelative <pre>0.95</pre> <pre>1</pre> 1 NumRelative <pre>0.949</pre> <pre>1</pre> 0 NumRelative <pre>1.05e33</pre> <pre>1e33</pre> 1 NumRelative <pre>1.06e33</pre> <pre>1e33</pre> 0 NumRelative <pre>0.95e33</pre> <pre>1e33</pre> 1 NumRelative <pre>0.949e33</pre> <pre>1e33</pre> 0 NumRelative <pre>1.05e-33</pre> <pre>1e-33</pre> 1 NumRelative <pre>1.06e-33</pre> <pre>1e-33</pre> 0 NumRelative <pre>0.95e-33</pre> <pre>1e-33</pre> 1 NumRelative <pre>0.949e-33</pre> <pre>1e-33</pre> 0 Remove display dp etc. NumRelative <pre>1</pre> <pre>displaydp(1.05,2)</pre> <pre>0.1</pre> 1 NumRelative <pre>1000</pre> <pre>displaysci(1.05,2,3)</pre> <pre>0.1</pre> 1 Options passed NumRelative <pre>1.05</pre> <pre>1</pre> <pre>0.1</pre> 1 NumRelative <pre>1.05</pre> <pre>3</pre> <pre>0.1</pre> 0 NumRelative <pre>3.14</pre> <pre>pi</pre> <pre>0.001</pre> 1 Infinity NumRelative <pre>inf</pre> <pre>0</pre> 0 ATNumerical_SA_not_number. Your answer should be a floating point number, but is not. Lists NumRelative <pre>1</pre> <pre>[1,2]</pre> 0 ATNumerical_SA_not_list. Your answer should be a list, but is not. Note that the syntax to enter a list is to enclose the comma separated values with square brackets. NumRelative <pre>[1,2]</pre> <pre>[1,2,3]</pre> 0 ATNumerical_wronglen. Your list should have \\(3\\) elements, but it actually has \\(2\\). NumRelative <pre>[1,2]</pre> <pre>[1,2]</pre> 1 NumRelative <pre>[3.141,1.414]</pre> <pre>[pi,sqrt(2)]</pre> 1 NumRelative <pre>[3,1.414]</pre> <pre>[pi,sqrt(2)]</pre> <pre>0.01</pre> 0 ATNumerical_wrongentries SA/TA=[3.0]. The entries underlined in red below are those that are incorrect. \\[\\left[ {\\color{red}{\\underline{3.0}}} , 1.414 \\right] \\] NumRelative <pre>[3,1.414]</pre> <pre>{pi,sqrt(2)}</pre> <pre>0.01</pre> 0 ATNumerical_SA_not_set. Your answer should be a set, but is not. Note that the syntax to enter a set is to enclose the comma separated values with curly brackets. NumRelative <pre>{1.414,3.1}</pre> <pre>{significantfigures(pi,6),sqrt\n(2)}</pre> <pre>0.01</pre> 0 ATNumerical_wrongentries: TA/SA=[3.14159], SA/TA=[3.1]. The entries underlined in red below are those that are incorrect. \\[\\left \\{{\\color{red}{\\underline{3.1}}} \\right \\}\\] NumRelative <pre>{1.414,3.1}</pre> <pre>{pi,sqrt(2)}</pre> <pre>0.1</pre> 1 NumRelative <pre>{0,1,2}</pre> <pre>{0,1,2}</pre> <pre>0.1</pre> 1 Complex numbers NumRelative <pre>0.99*%i</pre> <pre>%i</pre> <pre>0.1</pre> 0 ATNumerical_SA_not_number. Your answer should be a floating point number, but is not."},{"location":"Authoring/Answer_Tests/Results/NumSigFigs/","title":"NumSigFigs: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> NumSigFigs Test?Student responseTeacher answerOptMarkAnswer note Basic tests NumSigFigs <pre>3.141</pre> <pre>3.1415927</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  NumSigFigs <pre>1/0</pre> <pre>3</pre> <pre>3</pre> -1 ATNumSigFigs_STACKERROR_SAns. NumSigFigs <pre>0</pre> <pre>1/0</pre> <pre>3</pre> -1 ATNumSigFigs_STACKERROR_TAns. NumSigFigs <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATNumSigFigs_STACKERROR_Opt. NumSigFigs <pre>0</pre> <pre>1</pre> <pre>(</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Option field is invalid. You have a missing right bracket ) in the expression: (. NumSigFigs <pre>(</pre> <pre>1</pre> <pre>1</pre> -1 ATNumSigFigsTEST_FAILED-Empty SA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty student answer, probably a CAS validation problem when authoring the question. NumSigFigs <pre>1</pre> <pre>3</pre> <pre>pi</pre> -1 ATNumSigFigs_STACKERROR_not_integer. The answer test failed to execute correctly: please alert your teacher. NumSigFigs <pre>1</pre> <pre>3</pre> <pre>[3,x]</pre> -1 ATNumSigFigs_STACKERROR_not_integer. The answer test failed to execute correctly: please alert your teacher. NumSigFigs <pre>1</pre> <pre>3</pre> <pre>[1,2,3]</pre> -1 ATNumSigFigs_STACKERROR_list_wrong_length. The answer test failed to execute correctly: please alert your teacher. NumSigFigs <pre>1</pre> <pre>3</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  NumSigFigs <pre>pi</pre> <pre>pi</pre> <pre>4</pre> 0 ATNumSigFigs_NotDecimal. Your answer should be a decimal number, but is not! Edge cases NumSigFigs <pre>0</pre> <pre>0</pre> <pre>2</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0</pre> <pre>0</pre> <pre>1</pre> 1 NumSigFigs <pre>0.0</pre> <pre>0</pre> <pre>1</pre> 1 NumSigFigs <pre>0.0</pre> <pre>0</pre> <pre>2</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0</pre> <pre>0.0</pre> <pre>2</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.0</pre> <pre>0.0</pre> <pre>2</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.00</pre> <pre>0.00</pre> <pre>2</pre> 1 Large numbers NumSigFigs <pre>5.4e21</pre> <pre>5.3e21</pre> <pre>2</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>5.3e21</pre> <pre>5.3e21</pre> <pre>2</pre> 1 NumSigFigs <pre>5.3e22</pre> <pre>5.3e22</pre> <pre>2</pre> 1 NumSigFigs <pre>5.3e20</pre> <pre>5.3e22</pre> <pre>2</pre> 0 ATNumSigFigs_VeryInaccurate. NumSigFigs <pre>6.02214086e23</pre> <pre>6.02214086e23</pre> <pre>9</pre> 1 NumSigFigs <pre>6.0221409e23</pre> <pre>6.02214086e23</pre> <pre>9</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>6.02214087e23</pre> <pre>6.02214086e23</pre> <pre>9</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>6.02214085e23</pre> <pre>6.02214086e23</pre> <pre>9</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>5.3910632e-44</pre> <pre>5.3910632e-44</pre> <pre>8</pre> 1 NumSigFigs <pre>5.391063e-44</pre> <pre>5.3910632e-44</pre> <pre>8</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>5.3910631e-44</pre> <pre>5.3910632e-44</pre> <pre>8</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>5.3910633e-44</pre> <pre>5.3910632e-44</pre> <pre>8</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>1.61622938e-35</pre> <pre>1.61622938e-35</pre> <pre>9</pre> 1 NumSigFigs <pre>1.6162294e-35</pre> <pre>1.61622938e-35</pre> <pre>9</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>1.61622939e-35</pre> <pre>1.61622938e-35</pre> <pre>9</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>1.61622937e-35</pre> <pre>1.61622938e-35</pre> <pre>9</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>1.2345e82</pre> <pre>1.2345e82</pre> <pre>5</pre> 1 NumSigFigs <pre>1.2346e82</pre> <pre>1.2345e82</pre> <pre>5</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>1.2344e82</pre> <pre>1.2345e82</pre> <pre>5</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. No trailing zeros. NumSigFigs <pre>1.234</pre> <pre>4</pre> <pre>1</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>3.141</pre> <pre>3.1415927</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>3.141</pre> <pre>3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>3.146</pre> <pre>3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>3.147</pre> <pre>3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_VeryInaccurate. NumSigFigs <pre>3.142</pre> <pre>3.1415927</pre> <pre>4</pre> 1 NumSigFigs <pre>3.142</pre> <pre>pi</pre> <pre>4</pre> 1 NumSigFigs <pre>3141</pre> <pre>3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_VeryInaccurate. NumSigFigs <pre>0.00123</pre> <pre>0.001234567</pre> <pre>3</pre> 1 NumSigFigs <pre>1.23e-3</pre> <pre>0.001234567</pre> <pre>3</pre> 1 NumSigFigs <pre>138*10^-3</pre> <pre>138*10^-3</pre> <pre>3</pre> 1 NumSigFigs <pre>-138*10^-3</pre> <pre>-138*10^-3</pre> <pre>3</pre> 1 NumSigFigs <pre>138*10^-3</pre> <pre>-138*10^-3</pre> <pre>3</pre> 0 ATNumSigFigs_WrongSign. Your answer has the wrong algebraic sign. NumSigFigs <pre>1.38*10^-1</pre> <pre>138*10^-3</pre> <pre>3</pre> 1 NumSigFigs <pre>1.24e-3</pre> <pre>0.001234567</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>1.235e-3</pre> <pre>0.001234567</pre> <pre>4</pre> 1 NumSigFigs <pre>1000</pre> <pre>999</pre> <pre>2</pre> 1 ATNumSigFigs_WithinRange. NumSigFigs <pre>1E3</pre> <pre>999</pre> <pre>2</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>-100</pre> <pre>-149</pre> <pre>1</pre> 1 NumSigFigs <pre>-0.05</pre> <pre>-0.0499</pre> <pre>1</pre> 1 NumSigFigs <pre>-(0.05)</pre> <pre>-0.0499</pre> <pre>1</pre> 1 NumSigFigs <pre>1170</pre> <pre>1174.34</pre> <pre>3</pre> 1 NumSigFigs <pre>61300</pre> <pre>61250</pre> <pre>3</pre> 1 Previous tricky case NumSigFigs <pre>0.1667</pre> <pre>0.1667</pre> <pre>4</pre> 1 NumSigFigs <pre>0.1666</pre> <pre>0.1667</pre> <pre>4</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.1663</pre> <pre>0.1667</pre> <pre>4</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.1662</pre> <pre>0.1667</pre> <pre>4</pre> 0 ATNumSigFigs_VeryInaccurate. NumSigFigs <pre>0.166</pre> <pre>0.1667</pre> <pre>4</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_VeryInaccurate. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.16667</pre> <pre>0.1667</pre> <pre>4</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. Negative numbers NumSigFigs <pre>-3.141</pre> <pre>-3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>-3.141</pre> <pre>-3.1415927</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>-3.141</pre> <pre>-3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>-3.142</pre> <pre>-3.1415927</pre> <pre>4</pre> 1 NumSigFigs <pre>3.142</pre> <pre>-3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_WrongSign. Your answer has the wrong algebraic sign. NumSigFigs <pre>-3.142</pre> <pre>3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_WrongSign. Your answer has the wrong algebraic sign. NumSigFigs <pre>-3.149</pre> <pre>3.1415927</pre> <pre>4</pre> 0 ATNumSigFigs_WrongSign. ATNumSigFigs_VeryInaccurate. Your answer has the wrong algebraic sign. NumSigFigs <pre>2.15</pre> <pre>75701719/35227192</pre> <pre>3</pre> 1 Round teacher answer NumSigFigs <pre>0.0499</pre> <pre>0.04985</pre> <pre>3</pre> 1 NumSigFigs <pre>0.0498</pre> <pre>0.04985</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.0498</pre> <pre>0.04975</pre> <pre>3</pre> 1 NumSigFigs <pre>0.0497</pre> <pre>0.04975</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.0499</pre> <pre>0.0498</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Final zeros after the decimal are significant. NumSigFigs <pre>1.5</pre> <pre>1.500</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>1.50</pre> <pre>1.500</pre> <pre>3</pre> 1 NumSigFigs <pre>1.500</pre> <pre>1.500</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>245.0</pre> <pre>245</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. Too few digits NumSigFigs <pre>180</pre> <pre>178.35</pre> <pre>3</pre> 0 ATNumSigFigs_WithinRange. ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>33</pre> <pre>33.1558</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Mixed options NumSigFigs <pre>3.142</pre> <pre>3.1415927</pre> <pre>[4,3]</pre> 1 NumSigFigs <pre>3.143</pre> <pre>3.1415927</pre> <pre>[4,3]</pre> 1 NumSigFigs <pre>3.150</pre> <pre>3.1415927</pre> <pre>[4,3]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>3.211</pre> <pre>3.1415927</pre> <pre>[4,3]</pre> 0 ATNumSigFigs_VeryInaccurate. NumSigFigs <pre>3.1416</pre> <pre>3.1415927</pre> <pre>[4,3]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.1666</pre> <pre>0.1667</pre> <pre>[4,3]</pre> 1 NumSigFigs <pre>180</pre> <pre>178.35</pre> <pre>[3,1]</pre> 1 ATNumSigFigs_WithinRange. NumSigFigs <pre>33</pre> <pre>33.1558</pre> <pre>[3,1]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>1.500</pre> <pre>1.5</pre> <pre>[3,1]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>245.0</pre> <pre>245</pre> <pre>[3,1]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>12345.7</pre> <pre>12345.654321</pre> <pre>[6,6]</pre> 1 NumSigFigs <pre>12345.7</pre> <pre>12345.654321</pre> <pre>[6,3]</pre> 1 NumSigFigs <pre>12300.0</pre> <pre>12345.654321</pre> <pre>[6,3]</pre> 1 NumSigFigs <pre>12400.0</pre> <pre>12345.654321</pre> <pre>[6,3]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>13500.0</pre> <pre>12345.654321</pre> <pre>[6,3]</pre> 0 ATNumSigFigs_VeryInaccurate. NumSigFigs <pre>12000.0</pre> <pre>12345.654321</pre> <pre>[6,2]</pre> 1 NumSigFigs <pre>13000.0</pre> <pre>12345.654321</pre> <pre>[6,2]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>11000.0</pre> <pre>12345.654321</pre> <pre>[6,2]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Zero option and trailing zeros NumSigFigs <pre>0.0010</pre> <pre>0</pre> <pre>[1,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.0010</pre> <pre>0</pre> <pre>[2,0]</pre> 1 NumSigFigs <pre>0.0010</pre> <pre>0</pre> <pre>[3,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.001</pre> <pre>0</pre> <pre>[1,0]</pre> 1 NumSigFigs <pre>0.001</pre> <pre>0</pre> <pre>[2,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.00100</pre> <pre>null</pre> <pre>[2,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.00100</pre> <pre>null</pre> <pre>[3,0]</pre> 1 NumSigFigs <pre>0.00100</pre> <pre>null</pre> <pre>[4,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>5.00</pre> <pre>null</pre> <pre>[2,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>5.00</pre> <pre>null</pre> <pre>[3,0]</pre> 1 NumSigFigs <pre>5.00</pre> <pre>null</pre> <pre>[4,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>100</pre> <pre>0</pre> <pre>[1,0]</pre> 1 NumSigFigs <pre>100</pre> <pre>0</pre> <pre>[2,0]</pre> 1 ATNumSigFigs_WithinRange. NumSigFigs <pre>100</pre> <pre>0</pre> <pre>[3,0]</pre> 1 ATNumSigFigs_WithinRange. NumSigFigs <pre>100</pre> <pre>0</pre> <pre>[4,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>10.0</pre> <pre>0</pre> <pre>[2,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>10.0</pre> <pre>0</pre> <pre>[3,0]</pre> 1 NumSigFigs <pre>10.0</pre> <pre>0</pre> <pre>[4,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0</pre> <pre>0</pre> <pre>[1,0]</pre> 1 NumSigFigs <pre>0</pre> <pre>0</pre> <pre>[2,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.00</pre> <pre>0</pre> <pre>[1,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.00</pre> <pre>0</pre> <pre>[2,0]</pre> 1 NumSigFigs <pre>0.00</pre> <pre>0</pre> <pre>[3,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>0.00</pre> <pre>0</pre> <pre>[4,0]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. Condone too many sfs. NumSigFigs <pre>8.250</pre> <pre>8.250</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>8.25</pre> <pre>8.250</pre> <pre>[4,-1]</pre> 0 ATNumSigFigs_WrongDigits. Your answer contains the wrong number of significant digits. NumSigFigs <pre>8.250000</pre> <pre>8.250</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>8.250434</pre> <pre>8.250</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>82.4</pre> <pre>82</pre> <pre>[2,-1]</pre> 1 NumSigFigs <pre>82.5</pre> <pre>82</pre> <pre>[2,-1]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>83</pre> <pre>82</pre> <pre>[2,-1]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. 1/7 = 0.142857142857... NumSigFigs <pre>0.1430</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.1429</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>0.1428</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.143</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.14284</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.14285</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>0.14286</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>0.14291</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>0.14294</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 1 NumSigFigs <pre>0.14295</pre> <pre>1/7</pre> <pre>[4,-1]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>0.142</pre> <pre>1/7</pre> <pre>[2,-1]</pre> 1 NumSigFigs <pre>0.14290907676</pre> <pre>1/7</pre> <pre>[2,-1]</pre> 1 NumSigFigs <pre>0.143</pre> <pre>1/7</pre> <pre>[2,-1]</pre> 1 NumSigFigs <pre>0.1433333</pre> <pre>1/7</pre> <pre>[2,-1]</pre> 1 NumSigFigs <pre>0.144</pre> <pre>1/7</pre> <pre>[2,-1]</pre> 1 NumSigFigs <pre>0.145</pre> <pre>1/7</pre> <pre>[2,-1]</pre> 1 NumSigFigs <pre>0.146</pre> <pre>1/7</pre> <pre>[2,-1]</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Logarithms, numbers and surds NumSigFigs <pre>1.279</pre> <pre>ev(lg(19),lg=logbasesimp)</pre> <pre>4</pre> 1 NumSigFigs <pre>3.14</pre> <pre>pi</pre> <pre>3</pre> 1 NumSigFigs <pre>3.15</pre> <pre>pi</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. NumSigFigs <pre>1.73205</pre> <pre>sqrt(3)</pre> <pre>6</pre> 1 No support for matrices! NumSigFigs <pre>matrix([0.33,1],[1,1])</pre> <pre>matrix([0.333,1],[1,1])</pre> <pre>2</pre> -1 ATNumSigFigs_NotDecimal. Your answer should be a decimal number, but is not! NumSigFigs <pre>3.1415</pre> <pre>matrix([0.333,1],[1,1])</pre> <pre>2</pre> -1 TEST_FAILED TEST_FAILED The answer test failed to execute correctly: please alert your teacher. sigfigsfun(x,n,d) requires a real number, or a list of real numbers, as a first argument.  Received:  matrix([0.333,1],[1,1]) Teacher uses dispsf NumSigFigs <pre>1.50</pre> <pre>dispsf(1.500,3)</pre> <pre>3</pre> 1 NumSigFigs <pre>1.50</pre> <pre>dispdp(1.500,3)</pre> <pre>3</pre> 1"},{"location":"Authoring/Answer_Tests/Results/PartFrac/","title":"PartFrac: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> PartFrac Test?Student responseTeacher answerOptMarkAnswer note PartFrac <pre>1/0</pre> <pre>3*x^2</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  PartFrac <pre>1/0</pre> <pre>3*x^2</pre> <pre>x</pre> -1 ATPartFrac_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. PartFrac <pre>0</pre> <pre>0</pre> <pre>1/0</pre> -1 ATPartFrac_STACKERROR_Opt. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. PartFrac <pre>0</pre> <pre>1/0</pre> <pre>x</pre> -1 ATPartFrac_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. PartFrac <pre>1/n=0</pre> <pre>1/n</pre> <pre>n</pre> 0 ATPartFrac_SA_not_expression. Your answer should be an expression, not an equation, inequality, list, set or matrix. PartFrac <pre>1/n</pre> <pre>{1/n}</pre> <pre>n</pre> 0 ATPartFrac_TA_not_expression. The answer test failed. Please contact your systems administrator Basic tests PartFrac <pre>1/m</pre> <pre>1/n</pre> <pre>n</pre> 0 ATPartFrac_diff_variables. The variables in your answer are different to those of the question, please check them. PartFrac <pre>2/(x+1)-1/(x+2)</pre> <pre>s/((s+1)*(s+2))</pre> <pre>s</pre> 0 ATPartFrac_diff_variables. The variables in your answer are different to those of the question, please check them. PartFrac <pre>1/n</pre> <pre>1/n</pre> <pre>n</pre> 1 ATPartFrac_true. PartFrac <pre>n^3/(n-1)</pre> <pre>n^3/(n-1)</pre> <pre>n</pre> 0 ATPartFrac_false_factor. PartFrac <pre>1+n+n^2+1/(n-1)</pre> <pre>n^3/(n-1)</pre> <pre>n</pre> 1 ATPartFrac_true. PartFrac <pre>1+n+n^2-1/(1-n)</pre> <pre>n^3/(n-1)</pre> <pre>n</pre> 1 ATPartFrac_true. Distinct linear factors in denominator PartFrac <pre>1/(n+1)-1/n</pre> <pre>1/(n+1)-1/n</pre> <pre>n</pre> 1 ATPartFrac_true. PartFrac <pre>1/(n+1)+1/(1-n)</pre> <pre>1/(n+1)-1/(n-1)</pre> <pre>n</pre> 1 ATPartFrac_true. PartFrac <pre>1/(2*(n-1))-1/(2*(n+1))</pre> <pre>1/((n-1)*(n+1))</pre> <pre>n</pre> 1 ATPartFrac_true. PartFrac <pre>1/(2*(n+1))-1/(2*(n-1))</pre> <pre>1/((n-1)*(n+1))</pre> <pre>n</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(-\\frac{1}{\\left(n-1\\right)\\cdot \\left(n+1\\right)}\\) PartFrac <pre>-9/(x-2) + -9/(x+1)</pre> <pre>-9/(x-2) + -9/(x+1)</pre> <pre>x</pre> 1 ATPartFrac_true. Addition and Subtraction errors PartFrac <pre>1/(x+1) + 1/(x+2)</pre> <pre>2/(x+1) + 1/(x+2)</pre> <pre>x</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(\\frac{2\\cdot x+3}{\\left(x+1\\right)\\cdot \\left(x+2\\right)}\\) PartFrac <pre>1/(x+1) + 1/(x+2)</pre> <pre>1/(x+1) + 2/(x+2)</pre> <pre>x</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(\\frac{2\\cdot x+3}{\\left(x+1\\right)\\cdot \\left(x+2\\right)}\\) Denominator Error PartFrac <pre>1/(x+1) + 1/(x+2)</pre> <pre>1/(x+3) + 1/(x+2)</pre> <pre>x</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(\\frac{2\\cdot x+3}{\\left(x+1\\right)\\cdot \\left(x+2\\right)}\\) Repeated linear factors in denominator PartFrac <pre>(9*y-8)/(y-4)^2</pre> <pre>(9*y-8)/(y-4)^2</pre> <pre>y</pre> 0 ATPartFrac_false_factor. PartFrac <pre>9/(y-4)+28/(y-4)^2</pre> <pre>(9*y-8)/(y-4)^2</pre> <pre>y</pre> 1 ATPartFrac_true. PartFrac <pre>(-5/(x+3))+(16/(x+3)^2)-(2/(x+\n2))+4</pre> <pre>(-5/(x+3))+(16/(x+3)^2)-(2/(x+\n2))+4</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>(3*x^2-5)/((x-4)^2*x)</pre> <pre>(3*x^2-5)/((x-4)^2*x)</pre> <pre>x</pre> 0 ATPartFrac_false_factor. PartFrac <pre>-4/(16*x)+53/(16*(x-4))+43/(4*\n(x-4)^2)</pre> <pre>(3*x^2-5)/((x-4)^2*x)</pre> <pre>x</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(\\frac{49\\cdot x^2-8\\cdot x-64}{16\\cdot {\\left(x-4\\right)}^2\\cdot x}\\) PartFrac <pre>-5/(16*x)+53/(16*(x-4))+43/(4*\n(x-4)^2)</pre> <pre>(3*x^2-5)/((x-4)^2*x)</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>(5*x+6)/((x+1)*(x+5)^2)</pre> <pre>(5*x+6)/((x+1)*(x+5)^2)</pre> <pre>x</pre> 0 ATPartFrac_false_factor. PartFrac <pre>-1/(16*(x+5))+19/(4*(x+5)^2)+1\n/(16*(x+1))</pre> <pre>(5*x+6)/((x+1)*(x+5)^2)</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>5/(x*(x+3)*(5*x-2))</pre> <pre>5/(x*(x+3)*(5*x-2))</pre> <pre>x</pre> 0 ATPartFrac_false_factor. PartFrac <pre>125/(34*(5*x-2))+5/(51*(x+3))-\n5/(6*x)</pre> <pre>5/(x*(x+3)*(5*x-2))</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>-4/(16*x)+1/(2*(x-1))-1/(8*(x-\n1)^2)</pre> <pre>(3*x^2-5)/((4*x-4)^2*x)</pre> <pre>x</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(\\frac{2\\cdot x^2-x-2}{8\\cdot {\\left(x-1\\right)}^2\\cdot x}\\) PartFrac <pre>-5/(16*x)+1/(2*(x-1))-1/(8*(x-\n1)^2)</pre> <pre>(3*x^2-5)/((4*x-4)^2*x)</pre> <pre>x</pre> 1 ATPartFrac_true. Irreducible quadratic in denominator PartFrac <pre>1/(x-1)-(x+1)/(x^2+1)</pre> <pre>2/((x-1)*(x^2+1))</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>1/(2*x-2)-(x+1)/(2*(x^2+1))</pre> <pre>1/((x-1)*(x^2+1))</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>1/(2*(x-1))+x/(2*(x^2+1))</pre> <pre>1/((x-1)*(x^2+1))</pre> <pre>x</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(\\frac{2\\cdot x^2-x+1}{2\\cdot \\left(x-1\\right)\\cdot \\left(x^2+1 \\right)}\\) PartFrac <pre>(2*x+1)/(x^2+1)-2/(x-1)</pre> <pre>(2*x+1)/(x^2+1)-2/(x-1)</pre> <pre>x</pre> 1 ATPartFrac_true. 2 answers to the same question PartFrac <pre>3/(x+1) + 3/(x+2)</pre> <pre>3*(2*x+3)/((x+1)*(x+2))</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>3*(1/(x+1) + 1/(x+2))</pre> <pre>3*(2*x+3)/((x+1)*(x+2))</pre> <pre>x</pre> 1 ATPartFrac_true. Algebraically equivalent, but numerators of same order than denominator, i.e. not in partial fraction form. PartFrac <pre>3*x*(1/(x+1) + 2/(x+2))</pre> <pre>-12/(x+2)-3/(x+1)+9</pre> <pre>x</pre> 0 ATPartFrac_false_factor. PartFrac <pre>(3*x+3)*(1/(x+1) + 2/(x+2))</pre> <pre>9-6/(x+2)</pre> <pre>x</pre> 0 ATPartFrac_false_factor. PartFrac <pre>n/(2*n-1)-(n+1)/(2*n+1)</pre> <pre>1/(4*n-2)-1/(4*n+2)</pre> <pre>n</pre> 0 ATPartFrac_false_factor. Correct Answer, Numerator &gt; Denominator PartFrac <pre>10/(x+3) - 2/(x+2) + x -2</pre> <pre>(x^3 + 3*x^2 + 4*x +2)/((x+2)*\n(x+3))</pre> <pre>x</pre> 1 ATPartFrac_true. PartFrac <pre>2*x+1/(x+1)+1/(x-1)</pre> <pre>2*x^3/(x^2-1)</pre> <pre>x</pre> 1 ATPartFrac_true. Simple mistakes PartFrac <pre>1/(n*(n-1))</pre> <pre>1/(n*(n-1))</pre> <pre>n</pre> 0 ATPartFrac_false_factor. PartFrac <pre>((1-x)^4*x^4)/(x^2+1)</pre> <pre>((1-x)^4*x^4)/(x^2+1)</pre> <pre>x</pre> 0 ATPartFrac_false_factor. PartFrac <pre>1/(n-1)-1/n^2</pre> <pre>1/((n+1)*n)</pre> <pre>n</pre> 0 ATPartFrac_denom_ret. If your answer is written as a single fraction then the denominator would be \\(\\left(n-1\\right)\\cdot n^2\\). In fact, it should be \\(n\\cdot \\left(n+1\\right)\\). PartFrac <pre>1/(n-1)-1/n</pre> <pre>1/(n-1)+1/n</pre> <pre>n</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(\\frac{1}{\\left(n-1\\right)\\cdot n}\\) PartFrac <pre>1/(x+1)-1/x</pre> <pre>1/(x-1)+1/x</pre> <pre>x</pre> 0 ATPartFrac_ret_expression. Your answer as a single fraction is \\(-\\frac{1}{x\\cdot \\left(x+1\\right)}\\) PartFrac <pre>1/(n*(n+1))+1/n</pre> <pre>2/n-1/(n+1)</pre> <pre>n</pre> 0 ATPartFrac_false_factor. Too many parts in the partial fraction PartFrac <pre>s/((s+1)^2) + s/(s+2) - 1/(s+1\n)</pre> <pre>s/((s+1)*(s+2))</pre> <pre>s</pre> 0 ATPartFrac_denom_ret. If your answer is written as a single fraction then the denominator would be \\({\\left(s+1\\right)}^2\\cdot \\left(s+2\\right)\\). In fact, it should be \\(\\left(s+1\\right)\\cdot \\left(s+2\\right)\\). Too few parts in the partial fraction PartFrac <pre>s/(s+2) - 1/(s+1)</pre> <pre>s/((s+1)*(s+2)*(s+3))</pre> <pre>s</pre> 0 ATPartFrac_denom_ret. If your answer is written as a single fraction then the denominator would be \\(\\left(s+1\\right)\\cdot \\left(s+2\\right)\\). In fact, it should be \\(\\left(s+1\\right)\\cdot \\left(s+2\\right)\\cdot \\left(s+3\\right)\\). PartFrac <pre>(3*x^2-5)/((4*x-4)^2*x)</pre> <pre>(3*x^2-5)/((4*x-4)^2*x)</pre> <pre>x</pre> 0 ATPartFrac_false_factor."},{"location":"Authoring/Answer_Tests/Results/PropLogic/","title":"PropLogic: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> PropLogic Test?Student responseTeacher answerOptMarkAnswer note PropLogic <pre>1/0</pre> <pre>0</pre> -1 ATPropLogic_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. PropLogic <pre>0</pre> <pre>1/0</pre> -1 ATPropLogic_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. PropLogic <pre>true</pre> <pre>true</pre> 1 PropLogic <pre>true</pre> <pre>false</pre> 0 PropLogic <pre>A implies B</pre> <pre>not(A) or B</pre> 1 PropLogic <pre>(a and b and c) xor (a and b) \nxor (a and c) xor a xor true</pre> <pre>(a implies b) or c</pre> 1"},{"location":"Authoring/Answer_Tests/Results/SRegExp/","title":"SRegExp: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> SRegExp Test?Student responseTeacher answerOptMarkAnswer note SRegExp <pre>1/0</pre> <pre>\"hello\"</pre> -1 ATSRegExp_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. SRegExp <pre>\"1/0\"</pre> <pre>1/0</pre> -1 ATSRegExp_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. SRegExp <pre>Hello</pre> <pre>hello</pre> -1 ATSRegExp_SB_not_string. The second argument to the SRegExp answer test must be a string. The test failed. Please contact your teacher. SRegExp <pre>Hello</pre> <pre>\"hello\"</pre> -1 ATSRegExp_SA_not_string. The first argument to the SRegExp answer test must be a string. The test failed. Please contact your teacher. SRegExp <pre>\"aaaaabbb\"</pre> <pre>\"(aaa)*b\"</pre> 1 ATSRegExp: [\"aaab\",\"aaa\"]. SRegExp <pre>\"aab\"</pre> <pre>\"(aaa)*b\"</pre> 1 ATSRegExp: [\"b\",false]. SRegExp <pre>\"aaac\"</pre> <pre>\"(aaa)*b\"</pre> 0 Anchor pattern to the start and the end of the string SRegExp <pre>\"aab\"</pre> <pre>\"^[aA]*b$\"</pre> 1 ATSRegExp: [\"aab\"]. SRegExp <pre>\"aab\"</pre> <pre>\"^(aaa)*b$\"</pre> 0 SRegExp <pre>\"aAb\"</pre> <pre>\"^[aA]*b$\"</pre> 1 ATSRegExp: [\"aAb\"]. SRegExp <pre>\" aAb\"</pre> <pre>\"^[aA]*b$\"</pre> 0 Case insensitive SRegExp <pre>\"caAb\"</pre> <pre>\"(?i:a*b)\"</pre> 1 ATSRegExp: [\"aAb\"]. Options SRegExp <pre>\"Alice went to the market\n\"</pre> <pre>\"(Alice|Bob) went to the \n(bank|market)\"</pre> 1 ATSRegExp: [\"Alice went to the market\",\"Alice\",\"market\"]. SRegExp <pre>\"Malice went to the shop&amp;\nquot;</pre> <pre>\"(Alice|Bob) went to the \n(bank|market)\"</pre> 0 Whitespace, note test rendering issue, the test string has additional spaces and tabs as does the result SRegExp <pre>\"Alice   went  to      th\ne market\"</pre> <pre>\"(Alice|Bob)\\\\s+went\\\\s+t\no\\\\s+the\\\\s+(bank|market)\"\n;</pre> 1 ATSRegExp: [\"Alice   went  to      the market\",\"Alice\",\"market\"]. SRegExp <pre>\"Alice   went  to      th\nemarket\"</pre> <pre>\"(Alice|Bob)\\\\s+went\\\\s+t\no\\\\s+the\\\\s+(bank|market)\"\n;</pre> 0 Escaping patterns, note the function that does it SRegExp <pre>\"x^2.2\"</pre> <pre>\"x\\\\^2\\\\.2\"</pre> 1 ATSRegExp: [\"x^2.2\"]. SRegExp <pre>\"x^2+sin(x)\"</pre> <pre>sconcat(string_to_regex(\"\nsin(x)\"),\"$\")</pre> 1 ATSRegExp: [\"sin(x)\"]. SRegExp <pre>\"sin(x)+x^2\"</pre> <pre>sconcat(string_to_regex(\"\nsin(x)\"),\"$\")</pre> 0"},{"location":"Authoring/Answer_Tests/Results/SameType/","title":"SameType: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> SameType Test?Student responseTeacher answerOptMarkAnswer note SameType <pre>1/0</pre> <pre>1</pre> -1 ATSameType_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. SameType <pre>1</pre> <pre>1/0</pre> -1 ATSameType_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Numbers SameType <pre>4^(-1/2)</pre> <pre>1/2</pre> 1 Lists SameType <pre>x</pre> <pre>[1,2,3]</pre> 0 SameType <pre>[1,2]</pre> <pre>[1,2,3]</pre> 1 SameType <pre>[1,x&gt;2]</pre> <pre>[1,2&lt;x]</pre> 1 SameType <pre>[1,x,3]</pre> <pre>[1,2&lt;x,4]</pre> 0 Sets SameType <pre>x</pre> <pre>{1,2,3}</pre> 0 SameType <pre>{1,2}</pre> <pre>{1,2,3}</pre> 1 Matrices SameType <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2],[2,3])</pre> 1 SameType <pre>[[1,2],[2,3]]</pre> <pre>matrix([1,2],[2,3])</pre> 0 SameType <pre>matrix([1,2],[2,3])</pre> <pre>matrix([1,2,3],[2,3,3])</pre> 1 SameType <pre>matrix([x&gt;4,{1,x^2}],[[1,2]\n,[1,3]])</pre> <pre>matrix([4-x&lt;0,{x^2, 1}],[[1\n,2],[1,3]])</pre> 1 SameType <pre>matrix([x&gt;4,[1,x^2]],[[1,2]\n,[1,3]])</pre> <pre>matrix([4-x&lt;0,{x^2, 1}],[[1\n,2],[1,4]])</pre> 0 Equations SameType <pre>1</pre> <pre>x=1</pre> 0 SameType <pre>x=1</pre> <pre>x=1</pre> 1 Inequalities SameType <pre>1</pre> <pre>x&gt;1</pre> 0 SameType <pre>x&gt;2</pre> <pre>x&gt;1</pre> 1 SameType <pre>x&gt;1</pre> <pre>x&gt;=1</pre> 1 SameType <pre>x&gt;1 and x&lt;3</pre> <pre>x&gt;=1</pre> 1 SameType <pre>{x&gt;1,x&lt;3}</pre> <pre>x&gt;=1</pre> 0 SameType <pre>sqrt(2)*sqrt(3)+2*(sqrt(2/3))*\nx-(2/3)*(sqrt(2/3))*x^2+(4/9)*\n(sqrt(2/3))*x^3</pre> <pre>4*sqrt(6)*x^3/27-(2*sqrt(6)*x^\n2)/9+(2*sqrt(6)*x)/3+sqrt(6)</pre> 1"},{"location":"Authoring/Answer_Tests/Results/Sets/","title":"Sets: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> Sets Test?Student responseTeacher answerOptMarkAnswer note Sets <pre>{1/0}</pre> <pre>{0}</pre> -1 ATSets_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Sets <pre>{0}</pre> <pre>{1/0}</pre> -1 ATSets_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Sets <pre>x</pre> <pre>{1,2,3}</pre> 0 ATSets_SA_not_set. Your answer should be a set, but is not. Note that the syntax to enter a set is to enclose the comma separated values with curly brackets. Sets <pre>{1,2}</pre> <pre>x</pre> 0 ATSets_SB_not_set. The \"Sets\" answer test expects its second argument to be a set. This is an error. Please contact your teacher. Sets <pre>{1,2}</pre> <pre>{1,2,3}</pre> 0 ATSets_missingentries. The following are missing from your set. \\[\\left \\{3 \\right \\}\\] Sets <pre>{1,2,4}</pre> <pre>{1,2}</pre> 0 ATSets_wrongentries. These entries should not be elements of your set. \\[\\left \\{4 \\right \\}\\] Sets <pre>{1,2,2+2}</pre> <pre>{1,2}</pre> 0 ATSets_wrongentries. These entries should not be elements of your set. \\[\\left \\{4 \\right \\}\\] Sets <pre>{5,1,2,4}</pre> <pre>{1,2,3}</pre> 0 ATSets_wrongentries. ATSets_missingentries. These entries should not be elements of your set. \\[\\left \\{4 , 5 \\right \\}\\] The following are missing from your set. \\[\\left \\{3 \\right \\}\\] Sets <pre>{2/4, 1/3}</pre> <pre>{1/2, 1/3}</pre> 1 Duplicate entries Sets <pre>{1,2,1}</pre> <pre>{1,2}</pre> 1 ATSets_duplicates. Your set appears to contain duplicate entries! Sets <pre>{1,2,1+1}</pre> <pre>{1,2}</pre> 1 ATSets_duplicates. Your set appears to contain duplicate entries! Sets <pre>{1,2,1+1}</pre> <pre>{1,2,3}</pre> 0 ATSets_duplicates. ATSets_missingentries. Your set appears to contain duplicate entries! The following are missing from your set. \\[\\left \\{3 \\right \\}\\] Sets <pre>{(x-a)^6000}</pre> <pre>{(a-x)^6000}</pre> 0 ATSets_wrongentries. ATSets_missingentries. These entries should not be elements of your set. \\[\\left \\{{\\left(x-a\\right)}^{6000} \\right \\}\\] The following are missing from your set. \\[\\left \\{{\\left(a-x\\right)}^{6000} \\right \\}\\]"},{"location":"Authoring/Answer_Tests/Results/SigFigsStrict/","title":"SigFigsStrict: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> SigFigsStrict Test?Student responseTeacher answerOptMarkAnswer note Basic tests SigFigsStrict <pre>3.141</pre> <pre>null</pre> -1 STACKERROR_OPTION. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Missing option when executing the test.  SigFigsStrict <pre>3.141</pre> <pre>null</pre> <pre>x^2</pre> -1 STACKERROR_OPTION. SigFigsStrict <pre>3.141</pre> <pre>null</pre> <pre>-2</pre> -1 STACKERROR_OPTION. SigFigsStrict <pre>3.141</pre> <pre>null</pre> <pre>0</pre> -1 STACKERROR_OPTION. SigFigsStrict <pre>0.0010</pre> <pre>null</pre> <pre>1</pre> 0 SigFigsStrict <pre>0.0010</pre> <pre>null</pre> <pre>2</pre> 1 SigFigsStrict <pre>0.0010</pre> <pre>null</pre> <pre>3</pre> 0 SigFigsStrict <pre>0.00100</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>0.00100</pre> <pre>null</pre> <pre>3</pre> 1 SigFigsStrict <pre>0.00100</pre> <pre>null</pre> <pre>4</pre> 0 SigFigsStrict <pre>0.001</pre> <pre>null</pre> <pre>1</pre> 1 SigFigsStrict <pre>0.001</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>100</pre> <pre>null</pre> <pre>1</pre> 1 SigFigsStrict <pre>100</pre> <pre>null</pre> <pre>2</pre> 0 ATSigFigsStrict_WithinRange. SigFigsStrict <pre>100</pre> <pre>null</pre> <pre>3</pre> 0 ATSigFigsStrict_WithinRange. SigFigsStrict <pre>100</pre> <pre>null</pre> <pre>4</pre> 0 SigFigsStrict <pre>100.</pre> <pre>null</pre> <pre>1</pre> 0 SigFigsStrict <pre>100.</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>100.</pre> <pre>null</pre> <pre>3</pre> 1 SigFigsStrict <pre>100.</pre> <pre>null</pre> <pre>4</pre> 0 SigFigsStrict <pre>123.</pre> <pre>null</pre> <pre>1</pre> 0 SigFigsStrict <pre>123.</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>123.</pre> <pre>null</pre> <pre>3</pre> 1 SigFigsStrict <pre>123.</pre> <pre>null</pre> <pre>4</pre> 0 SigFigsStrict <pre>1.00e2</pre> <pre>null</pre> <pre>1</pre> 0 SigFigsStrict <pre>1.00e2</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>1.00e2</pre> <pre>null</pre> <pre>3</pre> 1 SigFigsStrict <pre>1.00e2</pre> <pre>null</pre> <pre>4</pre> 0 SigFigsStrict <pre>10.0</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>10.0</pre> <pre>null</pre> <pre>3</pre> 1 SigFigsStrict <pre>10.0</pre> <pre>null</pre> <pre>4</pre> 0 SigFigsStrict <pre>0</pre> <pre>null</pre> <pre>1</pre> 1 SigFigsStrict <pre>0</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>0.0</pre> <pre>null</pre> <pre>1</pre> 1 SigFigsStrict <pre>0.0</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>.0</pre> <pre>null</pre> <pre>1</pre> 1 SigFigsStrict <pre>.0</pre> <pre>null</pre> <pre>2</pre> 0 SigFigsStrict <pre>.001030</pre> <pre>null</pre> <pre>4</pre> 1 SigFigsStrict <pre>0.00</pre> <pre>null</pre> <pre>1</pre> 0 SigFigsStrict <pre>0.00</pre> <pre>null</pre> <pre>2</pre> 1 SigFigsStrict <pre>0.00</pre> <pre>null</pre> <pre>3</pre> 0 SigFigsStrict <pre>25.00e1</pre> <pre>null</pre> <pre>1</pre> 0 SigFigsStrict <pre>25.00e1</pre> <pre>null</pre> <pre>3</pre> 0 SigFigsStrict <pre>25.00e1</pre> <pre>null</pre> <pre>4</pre> 1 SigFigsStrict <pre>25.00e1</pre> <pre>null</pre> <pre>5</pre> 0 SigFigsStrict <pre>15.1</pre> <pre>15.1</pre> <pre>3</pre> 1 SigFigsStrict <pre>15.10</pre> <pre>15.1</pre> <pre>3</pre> 0 SigFigsStrict <pre>15.100</pre> <pre>15.1</pre> <pre>3</pre> 0 Units are ignored SigFigsStrict <pre>9.81*m/s^2</pre> <pre>null</pre> <pre>3</pre> 1"},{"location":"Authoring/Answer_Tests/Results/SingleFrac/","title":"SingleFrac: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> SingleFrac Test?Student responseTeacher answerOptMarkAnswer note SingleFrac <pre>1/0</pre> <pre>1/n</pre> -1 ATSingleFrac_STACKERROR_SAns. SingleFrac <pre>0</pre> <pre>1/0</pre> -1 ATSingleFrac_STACKERROR_TAns. SingleFrac <pre>x=3</pre> <pre>2</pre> 0 ATSingleFrac_SA_not_expression. Your answer should be an expression, not an equation, inequality, list, set or matrix. SingleFrac <pre>3</pre> <pre>3</pre> 1 SingleFrac <pre>3</pre> <pre>2</pre> 0 ATSingleFrac_ret_exp. Your answer is not algebraically equivalent to the correct answer. You must have done something wrong. SingleFrac <pre>1/m</pre> <pre>1/n</pre> 0 ATSingleFrac_true. ATSingleFrac_ret_exp.  Your answer is not algebraically equivalent to the correct answer. You must have done something wrong. SingleFrac <pre>1/n</pre> <pre>1/n</pre> 1 ATSingleFrac_true. SingleFrac <pre>a+1/2</pre> <pre>(2*a+1)/2</pre> 0 ATSingleFrac_part. Your answer needs to be a single fraction of the form \\( {a}\\over{b} \\). SingleFrac <pre>a+1/2</pre> <pre>(2*a+1)/2</pre> 0 ATSingleFrac_part. Your answer needs to be a single fraction of the form \\( {a}\\over{b} \\). SingleFrac <pre>4/(x^2+2*x-24)+2/(x^2+4*x-12)</pre> <pre>(6*x-16)/(x^3-28*x+48)</pre> 0 ATSingleFrac_part. Your answer needs to be a single fraction of the form \\( {a}\\over{b} \\). 2 subtly different answers for the same question SingleFrac <pre>2*(1/n)</pre> <pre>2/n</pre> 0 ATSingleFrac_part. Your answer needs to be a single fraction of the form \\( {a}\\over{b} \\). SingleFrac <pre>2/n</pre> <pre>2/n</pre> 1 ATSingleFrac_true. Simple Mistakes SingleFrac <pre>2/(n+1)</pre> <pre>1/(n+1)</pre> 0 ATSingleFrac_true. ATSingleFrac_ret_exp.  Your answer is not algebraically equivalent to the correct answer. You must have done something wrong. SingleFrac <pre>(2*n+1)/(n+2)</pre> <pre>1/n</pre> 0 ATSingleFrac_true. ATSingleFrac_ret_exp.  Your answer is not algebraically equivalent to the correct answer. You must have done something wrong. SingleFrac <pre>(2*n)/(n*(n+2))</pre> <pre>(2*n)/(n*(n+3))</pre> 0 ATSingleFrac_true. ATSingleFrac_ret_exp.  Your answer is not algebraically equivalent to the correct answer. You must have done something wrong. SingleFrac <pre>(x-1)/(x^2-1)</pre> <pre>1/(x+1)</pre> 1 ATSingleFrac_true. Fractions within fractions SingleFrac <pre>(1/2)/(3/4)</pre> <pre>2/3</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. SingleFrac <pre>(x-2)/4/(2/x^2)</pre> <pre>(x-2)*x^2/8</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. SingleFrac <pre>1/(1-1/x)</pre> <pre>x/(x-1)</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. SingleFrac <pre>(1+1/a)/a</pre> <pre>(1+a)/a^2</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. SingleFrac <pre>a/(1+1/a)</pre> <pre>a^2/(1+a)</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. SingleFrac <pre>(1+2*b/a)/c</pre> <pre>(a+2*b)/(a*c)</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. SingleFrac <pre>c/(1+2*b/a)</pre> <pre>a*c/(a+2*b)</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. SingleFrac <pre>a*c/(a+2*b)</pre> <pre>a*c/(a+2*b)</pre> 1 ATSingleFrac_true. Negative cases SingleFrac <pre>-1/2</pre> <pre>-1/2</pre> 1 ATSingleFrac_true. SingleFrac <pre>-1/2</pre> <pre>-1/3</pre> 0 ATSingleFrac_true. ATSingleFrac_ret_exp.  Your answer is not algebraically equivalent to the correct answer. You must have done something wrong. SingleFrac <pre>-(1/2)</pre> <pre>-1/2</pre> 1 ATSingleFrac_true. SingleFrac <pre>-a/b</pre> <pre>-a/b</pre> 1 ATSingleFrac_true. SingleFrac <pre>(-a)/b</pre> <pre>-a/b</pre> 1 ATSingleFrac_true. SingleFrac <pre>a/(-b)</pre> <pre>-a/b</pre> 1 ATSingleFrac_true. SingleFrac <pre>-(a/b)</pre> <pre>-a/b</pre> 1 ATSingleFrac_true. SingleFrac <pre>-(1/(n-1))</pre> <pre>1/(1-n)</pre> 1 ATSingleFrac_true. SingleFrac <pre>a/(-1-1/a)</pre> <pre>-a^2/(1+a)</pre> 0 ATSingleFrac_div. Your answer contains fractions within fractions. You need to clear these and write your answer as a single fraction. Surds in answers SingleFrac <pre>((sqrt(5))^3 +6)/15</pre> <pre>((sqrt(5))^3 +6)/15</pre> 1 ATSingleFrac_true. SingleFrac <pre>1/(1-sqrt(2))</pre> <pre>1/(1-sqrt(2))</pre> 1 ATSingleFrac_true. SingleFrac <pre>((sqrt(5))^3+6)/15</pre> <pre>((sqrt(5))^3+6)/15</pre> 1 ATSingleFrac_true. SingleFrac <pre>(5^(3/2)+6)/15</pre> <pre>((sqrt(5))^3+6)/15</pre> 1 ATSingleFrac_true."},{"location":"Authoring/Answer_Tests/Results/String/","title":"String: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> String Test?Student responseTeacher answerOptMarkAnswer note String <pre>\"With spaces\"</pre> <pre>\"With spaces\"</pre> 1 String <pre>\"Without spaces\"</pre> <pre>\"Withoutspaces\"</pre> 0 String <pre>Hello</pre> <pre>hello</pre> 0 String <pre>hello</pre> <pre>hello</pre> 1 String <pre>hello</pre> <pre>heloo</pre> 0 This test works on expressions as well as strings String <pre>sin(x^2)</pre> <pre>\"sin(x^2)\"</pre> 1"},{"location":"Authoring/Answer_Tests/Results/StringSloppy/","title":"StringSloppy: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> StringSloppy Test?Student responseTeacher answerOptMarkAnswer note StringSloppy <pre>\"hello\"</pre> <pre>\"hello\"</pre> 1 StringSloppy <pre>\"hello\"</pre> <pre>\"heloo\"</pre> 0 StringSloppy <pre>\"hel lo\"</pre> <pre>\"hello\"</pre> 1 StringSloppy <pre>\"hel lo\"</pre> <pre>\"Hel*lo\"</pre> 0"},{"location":"Authoring/Answer_Tests/Results/SubstEquiv/","title":"SubstEquiv: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> SubstEquiv Test?Student responseTeacher answerOptMarkAnswer note SubstEquiv <pre>1/0</pre> <pre>x^2-2*x+1</pre> -1 ATSubstEquiv_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. SubstEquiv <pre>x^2</pre> <pre>x^2-2*x+1</pre> <pre>[1/0]</pre> -1 ATSubstEquiv_STACKERROR_Opt. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. SubstEquiv <pre>x^2</pre> <pre>x^2-2*x+1</pre> <pre>x</pre> -1 ATSubstEquiv_Opt_List. The option to this answer test must be a list. This is an error. Please contact your teacher. SubstEquiv <pre>x^2+1</pre> <pre>x^2+1</pre> 1 SubstEquiv <pre>x^2+1</pre> <pre>x^3+1</pre> 0 SubstEquiv <pre>x^2+1</pre> <pre>x^3+1</pre> 0 SubstEquiv <pre>X^2+1</pre> <pre>x^2+1</pre> 1 ATSubstEquiv_Subst [X = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ X=x \\right] \\] SubstEquiv <pre>x^2+y</pre> <pre>a^2+b</pre> 1 ATSubstEquiv_Subst [x = a,y = b]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=a , y=b \\right] \\] SubstEquiv <pre>x^2+y/z</pre> <pre>a^2+c/b</pre> 1 ATSubstEquiv_Subst [x = a,y = c,z = b]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=a , y=c , z=b \\right] \\] SubstEquiv <pre>y=x^2</pre> <pre>a^2=b</pre> 1 ATSubstEquiv_Subst [x = a,y = b]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=a , y=b \\right] \\] SubstEquiv <pre>{x=1,y=2}</pre> <pre>{x=2,y=1}</pre> 1 ATSubstEquiv_Subst [x = y,y = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=y , y=x \\right] \\] Where a variable is also a function name. SubstEquiv <pre>cos(a*x)/(x*(ln(x)))</pre> <pre>cos(a*y)/(y*(ln(y)))</pre> 1 ATSubstEquiv_Subst [a = a,x = y]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ a=a , x=y \\right] \\] SubstEquiv <pre>cos(a*x)/(x*(ln(x)))</pre> <pre>cos(x*a)/(a*(ln(a)))</pre> 1 ATSubstEquiv_Subst [a = x,x = a]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ a=x , x=a \\right] \\] SubstEquiv <pre>cos(a*x)/(x*(ln(x)))</pre> <pre>cos(a*x)/(x(ln(x)))</pre> 0 SubstEquiv <pre>cos(a*x)/(x*(ln(x)))</pre> <pre>cos(a*y)/(y(ln(y)))</pre> 0 SubstEquiv <pre>x+1&gt;y</pre> <pre>y+1&gt;x</pre> 1 ATSubstEquiv_Subst [x = y,y = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=y , y=x \\right] \\] SubstEquiv <pre>x+1&gt;y</pre> <pre>x&lt;y+1</pre> 1 ATSubstEquiv_Subst [x = y,y = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=y , y=x \\right] \\] Matrices SubstEquiv <pre>matrix([1,A^2+A+1],[2,0])</pre> <pre>matrix([1,x^2+x+1],[2,0])</pre> 1 ATSubstEquiv_Subst [A = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=x \\right] \\] SubstEquiv <pre>matrix([B,A^2+A+1],[2,C])</pre> <pre>matrix([y,x^2+x+1],[2,z])</pre> 1 ATSubstEquiv_Subst [A = x,B = y,C = z]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=x , B=y , C=z \\right] \\] SubstEquiv <pre>matrix([B,A^2+A+1],[2,C])</pre> <pre>matrix([y,x^2+x+1],[2,x])</pre> 0 ATMatrix_wrongentries. The entries underlined in red below are those that are incorrect. \\[ \\left[\\begin{array}{cc} {\\color{red}{\\underline{B}}} &amp; {\\color{red}{\\underline{A^2+A+1}}} \\\\ 2 &amp; {\\color{red}{\\underline{C}}} \\end{array}\\right]\\] Lists SubstEquiv <pre>[x^2+1,x^2]</pre> <pre>[A^2+1,A^2]</pre> 1 ATSubstEquiv_Subst [x = A]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=A \\right] \\] SubstEquiv <pre>[x^2-1,x^2]</pre> <pre>[A^2+1,A^2]</pre> 0 (ATList_wrongentries 1, 2). The entries underlined in red below are those that are incorrect. \\[\\left[ {\\color{red}{\\underline{x^2-1}}} , {\\color{red}{\\underline{x ^2}}} \\right] \\] SubstEquiv <pre>[A,B,C]</pre> <pre>[B,C,A]</pre> 1 ATSubstEquiv_Subst [A = B,B = C,C = A]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=B , B=C , C=A \\right] \\] SubstEquiv <pre>[A,B,C]</pre> <pre>[B,B,A]</pre> 0 (ATList_wrongentries 1, 3). The entries underlined in red below are those that are incorrect. \\[\\left[ {\\color{red}{\\underline{A}}} , B , {\\color{red}{\\underline{C }}} \\right] \\] SubstEquiv <pre>[1,[A,B],C]</pre> <pre>[1,[a,b],C]</pre> 1 ATSubstEquiv_Subst [A = a,B = b,C = C]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=a , B=b , C=C \\right] \\] Sets SubstEquiv <pre>{x^2+1,x^2}</pre> <pre>{A^2+1,A^2}</pre> 1 ATSubstEquiv_Subst [x = A]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ x=A \\right] \\] SubstEquiv <pre>{x^2-1,x^2}</pre> <pre>{A^2+1,A^2}</pre> 0 ATSet_wrongentries. The following entries are incorrect, although they may appear in a simplified form from that which you actually entered. \\[\\left \\{x^2-1 , x^2 \\right \\}\\] SubstEquiv <pre>{A+1,B^2,C}</pre> <pre>{B,C+1,A^2}</pre> 1 ATSubstEquiv_Subst [A = C,B = A,C = B]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=C , B=A , C=B \\right] \\] SubstEquiv <pre>{1,{A,B},C}</pre> <pre>{1,{a,b},C}</pre> 1 ATSubstEquiv_Subst [A = a,B = b,C = C]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=a , B=b , C=C \\right] \\] SubstEquiv <pre>y=A+B</pre> <pre>x=a+b</pre> <pre>[x]</pre> 0 ATEquation_default SubstEquiv <pre>y=A+B</pre> <pre>x=a+b</pre> <pre>[z]</pre> 1 ATSubstEquiv_Subst [A = a,B = b,y = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=a , B=b , y=x \\right] \\] SubstEquiv <pre>A*cos(t)+B*sin(t)</pre> <pre>P*cos(t)+Q*sin(t)</pre> 1 ATSubstEquiv_Subst [A = P,B = Q,t = t]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=P , B=Q , t=t \\right] \\] SubstEquiv <pre>A*cos(t)+B*sin(t)</pre> <pre>P*cos(x)+Q*sin(x)</pre> 1 ATSubstEquiv_Subst [A = P,B = Q,t = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=P , B=Q , t=x \\right] \\] Fix some variables. SubstEquiv <pre>A*cos(x)+B*sin(x)</pre> <pre>P*cos(x)+Q*sin(x)</pre> <pre>[x]</pre> 1 ATSubstEquiv_Subst [A = P,B = Q]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=P , B=Q \\right] \\] SubstEquiv <pre>A*cos(t)+B*sin(t)</pre> <pre>P*cos(x)+Q*sin(x)</pre> <pre>[x]</pre> 0 SubstEquiv <pre>A*cos(t)+B*sin(t)</pre> <pre>P*cos(x)+Q*sin(x)</pre> <pre>[t]</pre> 0 SubstEquiv <pre>A*cos(t)+B*sin(t)</pre> <pre>P*cos(x)+Q*sin(x)</pre> <pre>[z]</pre> 1 ATSubstEquiv_Subst [A = P,B = Q,t = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=P , B=Q , t=x \\right] \\] SubstEquiv <pre>A*cos(t)*e^x+B*sin(t)*e^x+C*si\nn(2*x)+D*cos(2*x)</pre> <pre>P*cos(t)*e^x+Q*sin(t)*e^x+R*si\nn(2*x)+S*cos(2*x)</pre> <pre>[x,t]</pre> 1 ATSubstEquiv_Subst [A = P,B = Q,C = R,D = S]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ A=P , B=Q , C=R , D=S \\right] \\] SubstEquiv <pre>sqrt(2*g*y)</pre> <pre>sqrt(2*g*x)</pre> 1 ATSubstEquiv_Subst [g = g,y = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ g=g , y=x \\right] \\] SubstEquiv <pre>sqrt(2*g*y)</pre> <pre>sqrt(2*g*x)</pre> <pre>[g]</pre> 1 ATSubstEquiv_Subst [y = x]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ y=x \\right] \\] SubstEquiv <pre>C1*%e^x*sin(4*x)+C2*%e^x*cos(4\n*x)+C4*x*%e^-x+C3*%e^-x</pre> <pre>e^(x)*A*cos(4*x)+B*e^(x)*sin(4\n*x)+C*e^(-x)+D*x*e^(-x)</pre> <pre>[x]</pre> 1 ATSubstEquiv_Subst [C1 = B,C2 = A,C3 = C,C4 = D]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ C_{1}=B , C_{2}=A , C_{3}=C , C_{4}=D \\right] \\] SubstEquiv <pre>C1*%e^x*sin(4*x)+C2*%e^x*cos(4\n*x)+C4*x*%e^-x+C3*%e^-x</pre> <pre>C4*x*e^(-x)+e^(x)*C1*cos(4*x)+\nC2*e^(x)*sin(4*x)+C3*e^(-x)</pre> <pre>[x]</pre> 1 ATSubstEquiv_Subst [C1 = C2,C2 = C1,C3 = C3,C4 = C4]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ C_{1}=C_{2} , C_{2}=C_{1} , C_{3}=C_{3} , C_{4}=C_{4} \\right] \\] SubstEquiv <pre>C1*%e^x*sin(4*x)+C2*%e^x*cos(4\n*x)+C4*x*%e^-x+C3*%e^-x</pre> <pre>A*x*e^(-x)+e^(x)*B*cos(4*x)+C*\ne^(x)*sin(4*x)+D*e^(-x)</pre> <pre>[x]</pre> 1 ATSubstEquiv_Subst [C1 = C,C2 = B,C3 = D,C4 = A]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ C_{1}=C , C_{2}=B , C_{3}=D , C_{4}=A \\right] \\] SubstEquiv <pre>C1*%e^x*sin(4*x)+C2*%e^x*cos(4\n*x)+C4*x*%e^-x+C3*%e^-x</pre> <pre>e^(x)*C1*cos(4*x)+C2*e^(x)*sin\n(4*x)+C3*e^(-x)+C4*x*e^(-x)</pre> <pre>[x]</pre> 1 ATSubstEquiv_Subst [C1 = C2,C2 = C1,C3 = C3,C4 = C4]. Your answer would be correct if you used the following substitution of variables. \\[\\left[ C_{1}=C_{2} , C_{2}=C_{1} , C_{3}=C_{3} , C_{4}=C_{4} \\right] \\]"},{"location":"Authoring/Answer_Tests/Results/SysEquiv/","title":"SysEquiv: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> SysEquiv Test?Student responseTeacher answerOptMarkAnswer note Basic tests SysEquiv <pre>1/0</pre> <pre>[(x-1)*(x+1)=0]</pre> -1 ATSysEquiv_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. SysEquiv <pre>[(x-1)*(x+1)=0]</pre> <pre>1/0</pre> -1 ATSysEquiv_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. SysEquiv <pre>1</pre> <pre>[(x-1)*(x+1)=0]</pre> 0 ATSysEquiv_SA_not_list. Your answer should be a list, but it is not! SysEquiv <pre>[(x-1)*(x+1)=0]</pre> <pre>1</pre> 0 ATSysEquiv_SB_not_list. The teacher's answer is not a list. Please contact your teacher. SysEquiv <pre>[1]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SA_not_eq_list. Your answer should be a list of equations, but it is not! SysEquiv <pre>[(x-1)*(x+1)=0]</pre> <pre>[1]</pre> 0 ATSysEquiv_SB_not_eq_list. The teacher's answer is not a list of equations, but should be. SysEquiv <pre>[x^2]</pre> <pre>[(x-1)*(x+1)=0]</pre> 0 ATSysEquiv_SA_not_eq_list. Your answer should be a list of equations, but it is not! SysEquiv <pre>[90=v*t^t,90=(v+5)*(t-1/4)]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SA_not_poly_eq_list. One or more of your equations is not a polynomial! SysEquiv <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> <pre>[90=v*t^t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SB_not_poly_eq_list. The Teacher's answer should be a list of polynomial equations, but is not. Please contact your teacher. Tests of equivalence SysEquiv <pre>[x^2=1]</pre> <pre>[(x-1)*(x+1)=0]</pre> 1 SysEquiv <pre>[x^2+y^2=4,y=x]</pre> <pre>[y=x,y^2=2]</pre> 1 SysEquiv <pre>[x^2+y^2=2,y=x]</pre> <pre>[y=x,y^2=2]</pre> 0 ATSysEquiv_SA_system_overdetermined. The entries underlined in red below are those that are incorrect. \\[\\left[ {\\color{red}{\\underline{y^2+x^2=2}}} , y=x \\right] \\] SysEquiv <pre>[x=1]</pre> <pre>[(x-1)*(x+1)=0,(x-1)*(x-3)=0]</pre> 1 ATSysEquiv_SA_Completely_solved. SysEquiv <pre>[3*a+b-c=2, a-b+2*c=5,b+c=5]</pre> <pre>[a=1,b=2,c=3]</pre> 1 SysEquiv <pre>[a=1,b=2,c=3]</pre> <pre>[3*a+b-c=2, a-b+2*c=5,b+c=5]</pre> 1 ATSysEquiv_SA_Completely_solved. SysEquiv <pre>[x^2=1]</pre> <pre>[(x-1)*(x+1)*(x-2)=0]</pre> 0 ATSysEquiv_SA_system_overdetermined. The entries underlined in red below are those that are incorrect. \\[\\left[ {\\color{red}{\\underline{x^2=1}}} \\right] \\] SysEquiv <pre>[x=1,y=-1]</pre> <pre>[(x-1)*(y+1)=0]</pre> 0 ATSysEquiv_SA_Not_completely_solved. SysEquiv <pre>[x=1]</pre> <pre>[(x-1)*(x+1)=0]</pre> 0 ATSysEquiv_SA_Not_completely_solved. SysEquiv <pre>[x=1]</pre> <pre>[(x-1)*(x+1)*y=0]</pre> 0 ATSysEquiv_SA_Not_completely_solved. SysEquiv <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 1 SysEquiv <pre>[90=v*t,90=(v+5)*(t*x-1/4)]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SA_extra_variables. Your answer includes too many variables! SysEquiv <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> <pre>[90=v*t,90=(v+5)*(t*x-1/4)]</pre> 0 ATSysEquiv_SA_missing_variables. Your answer is missing one or more variables! SysEquiv <pre>[90=v*t]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SA_system_underdetermined. The equations in your system appear to be correct, but you need others besides. SysEquiv <pre>[90=v*t,90=(v+5)*(t-1/4),90=(v\n+6)*(t-1/5)]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SA_system_overdetermined. The entries underlined in red below are those that are incorrect. \\[\\left[ 90=t\\cdot v , 90=\\left(t-\\frac{1}{4}\\right)\\cdot \\left(v+5 \\right) , {\\color{red}{\\underline{90=\\left(t-\\frac{1}{5}\\right) \\cdot \\left(v+6\\right)}}} \\right] \\] SysEquiv <pre>[90=v*t,90=(v+5)*(t-1/4),90=(v\n+6)*(t-1/5),90=(v+7)*(t-1/4),9\n0=(v+8)*(t-1/3)]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SA_system_overdetermined. The entries underlined in red below are those that are incorrect. \\[\\left[ 90=t\\cdot v , 90=\\left(t-\\frac{1}{4}\\right)\\cdot \\left(v+5 \\right) , {\\color{red}{\\underline{90=\\left(t-\\frac{1}{5}\\right) \\cdot \\left(v+6\\right)}}} , {\\color{red}{\\underline{90=\\left(t- \\frac{1}{4}\\right)\\cdot \\left(v+7\\right)}}} , {\\color{red} {\\underline{90=\\left(t-\\frac{1}{3}\\right)\\cdot \\left(v+8\\right)}}} \\right] \\] Wrong variables SysEquiv <pre>[b^2=a,a=9]</pre> <pre>[x^2=y,y=9]</pre> 0 ATSysEquiv_SA_wrong_variables. Your answer uses the wrong variables! SysEquiv <pre>[x^2=4]</pre> <pre>[x^2=4,y=9]</pre> 0 ATSysEquiv_SA_missing_variables. Your answer is missing one or more variables! SysEquiv <pre>[d=90,d=v*t,d=(v+5)*(t-1/4)]</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 0 ATSysEquiv_SA_extra_variables. Your answer includes too many variables! SysEquiv <pre>stack_eval_assignments([d=90,d\n=v*t,d=(v+5)*(t-1/4)])</pre> <pre>[90=v*t,90=(v+5)*(t-1/4)]</pre> 1"},{"location":"Authoring/Answer_Tests/Results/Units/","title":"Units: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> Units Test?Student responseTeacher answerOptMarkAnswer note Units <pre>1/0</pre> <pre>1</pre> <pre>2</pre> -1 ATUnits_STACKERROR_SAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Units <pre>1</pre> <pre>1/0</pre> <pre>2</pre> -1 ATUnits_STACKERROR_TAns. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Units <pre>1</pre> <pre>1</pre> <pre>1/0</pre> -1 ATUnits_STACKERROR_Opt. TEST_FAILED The answer test failed to execute correctly: please alert your teacher. Division by zero. Units <pre>x-1)^2</pre> <pre>(x-1)^2</pre> <pre>2</pre> -1 ATUnitsTEST_FAILED-Empty SA. The answer test failed to execute correctly: please alert your teacher. Attempted to execute an answer test with an empty student answer, probably a CAS validation problem when authoring the question. Units <pre>12.3*m*s^(-1)</pre> <pre>3*m</pre> <pre>[3,x]</pre> -1 ATNumSigFigs_STACKERROR_not_integer. The answer test failed to execute correctly: please alert your teacher. Units <pre>3*m*s^(-1)</pre> <pre>3*m</pre> <pre>[1,2,3]</pre> -1 ATNumSigFigs_STACKERROR_list_wrong_length. The answer test failed to execute correctly: please alert your teacher. Units <pre>12.3*m*s^(-1)</pre> <pre>{12.3*m*s^(-1)}</pre> <pre>3</pre> -1 ATUnits_TA_not_expression. The answer test failed to execute correctly: please alert your teacher. Units <pre>x=12.3*m*s^(-1)</pre> <pre>12.3*m*s^(-1)</pre> <pre>3</pre> 0 ATUnits_SA_not_expression. Your answer needs to be a number together with units. Do not use sets, lists, equations or matrices. Missing units Units <pre>12.3</pre> <pre>12.3*m</pre> <pre>3</pre> 0 ATUnits_SA_no_units. Your answer must have units. Units <pre>12</pre> <pre>12.3*m</pre> <pre>3</pre> 0 ATUnits_SA_no_units. Your answer must have units. Units <pre>1/2</pre> <pre>12.3*m</pre> <pre>3</pre> 0 ATUnits_SA_no_units. Your answer must have units. Units <pre>e^(1/2)</pre> <pre>12.3*m</pre> <pre>3</pre> 0 ATUnits_SA_no_units. Your answer must have units. Units <pre>9.81*m</pre> <pre>12.3</pre> <pre>3</pre> -1 ATUnits_SB_no_units. The answer test failed to execute correctly: please alert your teacher. Only units Units <pre>m/s</pre> <pre>12.3*m/s</pre> <pre>3</pre> 0 ATUnits_SA_only_units. Your answer needs to be a number together with units. Your answer only has units. Units <pre>m</pre> <pre>12.3*m/s</pre> <pre>3</pre> 0 ATUnits_SA_only_units. Your answer needs to be a number together with units. Your answer only has units. Bad units Units <pre>9.81+m/s</pre> <pre>9.81*m/s</pre> <pre>3</pre> 0 ATUnits_SA_bad_units. Your answer must have units, and you must use multiplication to attach the units to a value, e.g. <code>3.2*m/s</code>. Basic tests Units <pre>12.3*m/s</pre> <pre>12.3*m/s</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>12.4*m/s</pre> <pre>12.3*m/s</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. ATUnits_units_match. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Units <pre>12.4*m/s</pre> <pre>12.3*m/s</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. Units <pre>12.45*m/s</pre> <pre>12.3*m/s</pre> <pre>[3,2]</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_units_match. Your answer contains the wrong number of significant digits. Units <pre>13.45*m/s</pre> <pre>12.3*m/s</pre> <pre>[3,2]</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. ATUnits_units_match. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Units <pre>7.54E-5*(s*M)^-1</pre> <pre>5.625E-5*s^-1</pre> <pre>[3,2]</pre> 0 ATNumSigFigs_VeryInaccurate. ATUnits_incompatible_units. Your units are incompatible with those used by the teacher. Units <pre>7.54E-5*(s*M)^-1</pre> <pre>stackunits(5.625E-5,1/s)</pre> <pre>[3,2]</pre> 0 ATNumSigFigs_VeryInaccurate. ATUnits_incompatible_units. Your units are incompatible with those used by the teacher. Units <pre>12*m/s</pre> <pre>12.3*m/s</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_Inaccurate. ATUnits_units_match. Your answer contains the wrong number of significant digits. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Units <pre>-9.81*m/s^2</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>-9.82*m/s^2</pre> <pre>-9.815*m/s^2</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>-9.81*m/s^2</pre> <pre>-9.815*m/s^2</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. ATUnits_units_match. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Units <pre>-9.81*m*s^(-2)</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>-9.82*m/s^2</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. ATUnits_units_match. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Units <pre>-9.81*m*s^(-2)</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>-9.81*m/s/s</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>-9.81*m/s</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 0 ATUnits_incompatible_units. ATUnits_correct_numerical. Your units are incompatible with those used by the teacher. Please check your units carefully. Units <pre>-9.81*m/s</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 0 ATUnits_incompatible_units. ATUnits_correct_numerical. Your units are incompatible with those used by the teacher. Please check your units carefully. Units <pre>(-9.81)*m/s^2</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>520*amu</pre> <pre>520*amu</pre> <pre>3</pre> 1 ATNumSigFigs_WithinRange. ATUnits_units_match. Units <pre>520*amu</pre> <pre>521*amu</pre> <pre>3</pre> 0 ATNumSigFigs_WithinRange. ATNumSigFigs_Inaccurate. ATUnits_units_match. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Missing units Units <pre>(-9.81)</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 0 ATUnits_SA_no_units. Your answer must have units. Units <pre>9.81*m/s</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 0 ATNumSigFigs_WrongSign. ATUnits_incompatible_units. Your answer has the wrong algebraic sign. Your units are incompatible with those used by the teacher. Units <pre>8.81*m/s</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 0 ATNumSigFigs_WrongSign. ATNumSigFigs_VeryInaccurate. ATUnits_incompatible_units. Your answer has the wrong algebraic sign. Your units are incompatible with those used by the teacher. Units <pre>8.1*m/s</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_WrongSign. ATNumSigFigs_VeryInaccurate. ATUnits_incompatible_units. Your answer contains the wrong number of significant digits. Your answer has the wrong algebraic sign. Your units are incompatible with those used by the teacher. Units <pre>m/4</pre> <pre>0.25*m</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_units_match. Your answer contains the wrong number of significant digits. Student is too exact Units <pre>pi*s</pre> <pre>3.14*s</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_units_match. Your answer contains the wrong number of significant digits. Units <pre>sqrt(2)*m</pre> <pre>1.41*m</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_units_match. Your answer contains the wrong number of significant digits. Different units Units <pre>25*g</pre> <pre>0.025*kg</pre> <pre>2</pre> 1 ATUnits_compatible_units kg. Units <pre>26*g</pre> <pre>0.025*kg</pre> <pre>2</pre> 0 ATNumSigFigs_Inaccurate. ATUnits_compatible_units kg. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Units <pre>100*g</pre> <pre>10*kg</pre> <pre>2</pre> 0 ATNumSigFigs_WithinRange. ATNumSigFigs_VeryInaccurate. ATUnits_compatible_units kg. Units <pre>0.025*g</pre> <pre>0.025*kg</pre> <pre>2</pre> 0 ATUnits_compatible_units kg. ATUnits_correct_numerical. Please check your units carefully. Units <pre>1000*m</pre> <pre>1*km</pre> <pre>2</pre> 1 ATNumSigFigs_WithinRange. ATUnits_compatible_units m. Units <pre>1*Mg/10^6</pre> <pre>1*N*s^2/(km)</pre> <pre>1</pre> 1 ATUnits_compatible_units kg. Units <pre>1*Mg/10^6</pre> <pre>1*kN*ns/(mm*Hz)</pre> <pre>1</pre> 1 ATUnits_compatible_units kg. Units <pre>3.14*Mg/10^6</pre> <pre>%pi*kN*ns/(mm*Hz)</pre> <pre>3</pre> 1 ATUnits_compatible_units kg. Units <pre>3.141*Mg/10^6</pre> <pre>%pi*kN*ns/(mm*Hz)</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_compatible_units kg. Your answer contains the wrong number of significant digits. Units <pre>4.141*Mg/10^6</pre> <pre>%pi*kN*ns/(mm*Hz)</pre> <pre>3</pre> 0 ATNumSigFigs_WrongDigits. ATNumSigFigs_VeryInaccurate. ATUnits_compatible_units kg. Your answer contains the wrong number of significant digits. Units <pre>400*cc</pre> <pre>0.4*l</pre> <pre>2</pre> 1 ATNumSigFigs_WithinRange. ATUnits_compatible_units m^3. Units <pre>400*cm^3</pre> <pre>0.4*l</pre> <pre>2</pre> 1 ATNumSigFigs_WithinRange. ATUnits_compatible_units m^3. Units <pre>400*ml</pre> <pre>0.4*l</pre> <pre>2</pre> 1 ATNumSigFigs_WithinRange. ATUnits_compatible_units m^3. Units <pre>18*kJ</pre> <pre>18000.0*J</pre> <pre>2</pre> 1 ATUnits_compatible_units (kg*m^2)/s^2. Units <pre>18.1*kJ</pre> <pre>18000.0*J</pre> <pre>2</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_compatible_units (kg*m^2)/s^2. Your answer contains the wrong number of significant digits. Units <pre>120*kWh</pre> <pre>0.12*MWh</pre> <pre>2</pre> 1 ATUnits_compatible_units (kg*m^2)/s^2. Units <pre>2.0*hh</pre> <pre>720000*s</pre> <pre>2</pre> 1 ATUnits_compatible_units s. Units <pre>723*kVA</pre> <pre>0.723*MVA</pre> <pre>3</pre> 1 ATUnits_compatible_units VA. Edge case Units <pre>0*m/s</pre> <pre>0*m/s</pre> <pre>1</pre> 1 ATUnits_units_match. Units <pre>0.0*m/s</pre> <pre>0*m/s</pre> <pre>1</pre> 1 ATUnits_units_match. Units <pre>0*m/s</pre> <pre>0.0*m/s</pre> <pre>1</pre> 1 ATUnits_units_match. Units <pre>0.00*m/s</pre> <pre>0.0*m/s</pre> <pre>2</pre> 1 ATUnits_units_match. Units <pre>0.0*km/s</pre> <pre>0.0*m/s</pre> <pre>1</pre> 1 ATUnits_compatible_units m/s. Units <pre>0.0*m</pre> <pre>0.0*m/s</pre> <pre>1</pre> 0 ATUnits_incompatible_units. ATUnits_correct_numerical. Your units are incompatible with those used by the teacher. Please check your units carefully. Units <pre>0.0</pre> <pre>0.0*m/s</pre> <pre>1</pre> 0 ATUnits_SA_no_units. Your answer must have units. Imperial Units <pre>7*in</pre> <pre>7*in</pre> <pre>1</pre> 1 ATUnits_units_match. Units <pre>6*in</pre> <pre>0.5*ft</pre> <pre>1</pre> 1 ATUnits_compatible_units in. Units <pre>2640*ft</pre> <pre>0.5*mi</pre> <pre>4</pre> 1 ATNumSigFigs_WithinRange. ATUnits_compatible_units in. Units <pre>2650*ft</pre> <pre>0.5*mi</pre> <pre>4</pre> 0 ATNumSigFigs_WithinRange. ATNumSigFigs_VeryInaccurate. ATUnits_compatible_units in. TODO Units ! <pre>142.8*C</pre> <pre>415.9*K</pre> <pre>4</pre> -3 ATNumSigFigs_VeryInaccurate. ATUnits_incompatible_units. Your units are incompatible with those used by the teacher. Units ! <pre>520*mamu</pre> <pre>520*mamu</pre> <pre>3</pre> -3 ATUnits_SB_no_units. The answer test failed to execute correctly: please alert your teacher. Units <pre>-9.82*m/s^2</pre> <pre>stackunits(-9.815,m/s^2)</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>-9.81*m/s^2</pre> <pre>stackunits(-9.815,m/s^2)</pre> <pre>3</pre> 0 ATNumSigFigs_Inaccurate. ATUnits_units_match. The accuracy of your answer is not correct. Either you have not rounded correctly, or you have rounded an intermediate answer which propagates an error. Units <pre>-9.82*m/s^2</pre> <pre>stackunits(displaydp(-9.815,3)\n,m/s^2)</pre> <pre>3</pre> 1 ATUnits_units_match. Units <pre>-9.82*m/s^2</pre> <pre>stackunits(displaysf(-9.815,4)\n,m/s^2)</pre> <pre>3</pre> 1 ATUnits_units_match."},{"location":"Authoring/Answer_Tests/Results/UnitsAbsolute/","title":"UnitsAbsolute: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> UnitsAbsolute Test?Student responseTeacher answerOptMarkAnswer note UnitsAbsolute <pre>-123000*J</pre> <pre>-123*kJ</pre> <pre>5*J</pre> 0 ATUnits_SO_wrong_units. The units specified for the numerical tolerance must match the units used for the teacher's answer. This is an internal error with the test. Please ask your teacher about this. UnitsAbsolute <pre>12.3*m/s</pre> <pre>12.3*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>12*m/s</pre> <pre>12.3*m/s</pre> <pre>0.01</pre> 0 ATUnits_units_match. UnitsAbsolute <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.15</pre> 1 ATUnits_compatible_units kg. The following illustrates that we convert to base units to compare. UnitsAbsolute <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.1</pre> 1 ATUnits_compatible_units kg. UnitsAbsolute <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.09</pre> 0 ATUnits_compatible_units kg. Units in the options UnitsAbsolute <pre>-123000*J</pre> <pre>-123*kJ</pre> <pre>5*kJ</pre> 1 ATUnits_compatible_units (kg*m^2)/s^2. UnitsAbsolute <pre>-123006*J</pre> <pre>-123*kJ</pre> <pre>5*kJ</pre> 1 ATUnits_compatible_units (kg*m^2)/s^2. UnitsAbsolute <pre>-129006*J</pre> <pre>-123*kJ</pre> <pre>5*kJ</pre> 0 ATUnits_compatible_units (kg*m^2)/s^2. UnitsAbsolute <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.1*kN*ns/(mm*H\nz)</pre> 1 ATUnits_compatible_units kg. UnitsAbsolute <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.09*kN*ns/(mm*\nHz)</pre> 0 ATUnits_compatible_units kg. Edge case UnitsAbsolute <pre>0*m/s</pre> <pre>0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>0.0*m/s</pre> <pre>0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>0*m/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>0.0*m/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>0.0*km/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_compatible_units m/s. UnitsAbsolute <pre>0.0*m</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 0 ATUnits_incompatible_units. ATUnits_correct_numerical. Your units are incompatible with those used by the teacher. Please check your units carefully. UnitsAbsolute <pre>0.0</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 0 ATUnits_SA_no_units. Your answer must have units. UnitsAbsolute <pre>1.0*m/s</pre> <pre>m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>15/pi*kN/mm^2</pre> <pre>15/pi*kN/mm^2</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>(15*kN)/(pi*mm^2)</pre> <pre>(15*kN)/(pi*mm^2)</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>(15/pi)*(kN/mm^2)</pre> <pre>(15/pi)*(kN/mm^2)</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>(600*N)/(%pi*mm^2)</pre> <pre>(600*N)/(%pi*mm^2)</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>(600/pi)*kN/m^2</pre> <pre>(600/pi)*kN/m^2</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsAbsolute <pre>(600/pi)*kN/mm^2</pre> <pre>(600/pi)*kN/mm^2</pre> <pre>0.01</pre> 1 ATUnits_units_match."},{"location":"Authoring/Answer_Tests/Results/UnitsRelative/","title":"UnitsRelative: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> UnitsRelative Test?Student responseTeacher answerOptMarkAnswer note UnitsRelative <pre>12.3*m/s</pre> <pre>12.3*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsRelative <pre>12*m/s</pre> <pre>12.3*m/s</pre> <pre>0.01</pre> 0 ATUnits_units_match. UnitsRelative <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.15</pre> 1 ATUnits_compatible_units kg. UnitsRelative <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.05</pre> 0 ATUnits_compatible_units kg. Edge case UnitsRelative <pre>0*m/s</pre> <pre>0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsRelative <pre>0.0*m/s</pre> <pre>0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsRelative <pre>0*m/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsRelative <pre>0.0*m/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsRelative <pre>0.0*km/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_compatible_units m/s. UnitsRelative <pre>0.0*m</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 0 ATUnits_incompatible_units. ATUnits_correct_numerical. Your units are incompatible with those used by the teacher. Please check your units carefully. UnitsRelative <pre>0.0</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 0 ATUnits_SA_no_units. Your answer must have units. UnitsRelative <pre>0.0*kVA</pre> <pre>0.0*kVA</pre> <pre>0.002</pre> 1 ATUnits_units_match."},{"location":"Authoring/Answer_Tests/Results/UnitsStrict/","title":"UnitsStrict: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> UnitsStrict Test?Student responseTeacher answerOptMarkAnswer note Differences from the Units test only UnitsStrict <pre>25*g</pre> <pre>0.025*kg</pre> <pre>2</pre> 0 ATUnits_compatible_units kg. UnitsStrict <pre>1*Mg/10^6</pre> <pre>1*N*s^2/(km)</pre> <pre>1</pre> 0 ATUnits_compatible_units kg. UnitsStrict <pre>1*Mg/10^6</pre> <pre>1*kN*ns/(mm*Hz)</pre> <pre>1</pre> 0 ATUnits_compatible_units kg. UnitsStrict <pre>3.14*Mg/10^6</pre> <pre>%pi*kN*ns/(mm*Hz)</pre> <pre>3</pre> 0 ATUnits_compatible_units kg. UnitsStrict <pre>400*cc</pre> <pre>0.4*l</pre> <pre>2</pre> 0 ATNumSigFigs_WithinRange. ATUnits_compatible_units m^3. UnitsStrict <pre>400*cm^3</pre> <pre>0.4*l</pre> <pre>2</pre> 0 ATNumSigFigs_WithinRange. ATUnits_compatible_units m^3. UnitsStrict <pre>400*ml</pre> <pre>0.4*l</pre> <pre>2</pre> 0 ATNumSigFigs_WithinRange. ATUnits_compatible_units m^3. UnitsStrict <pre>400*mL</pre> <pre>0.4*l</pre> <pre>2</pre> 0 ATNumSigFigs_WithinRange. ATUnits_compatible_units m^3. UnitsStrict <pre>142.8*C</pre> <pre>415.9*K</pre> <pre>4</pre> 0 ATNumSigFigs_VeryInaccurate. ATUnits_incompatible_units. We are not *that* strict! UnitsStrict <pre>-9.81*m/s/s</pre> <pre>-9.81*m/s^2</pre> <pre>3</pre> 1 ATUnits_units_match. Edge case UnitsStrict <pre>0*m/s</pre> <pre>0*m/s</pre> <pre>1</pre> 1 ATUnits_units_match. UnitsStrict <pre>0.0*m/s</pre> <pre>0*m/s</pre> <pre>1</pre> 1 ATUnits_units_match. UnitsStrict <pre>0*m/s</pre> <pre>0.0*m/s</pre> <pre>1</pre> 1 ATUnits_units_match. UnitsStrict <pre>0.0*m/s</pre> <pre>0.0*m/s</pre> <pre>1</pre> 1 ATUnits_units_match. UnitsStrict <pre>0.0*km/s</pre> <pre>0.0*m/s</pre> <pre>1</pre> 0 ATUnits_compatible_units m/s. UnitsStrict <pre>0.0*m</pre> <pre>0.0*m/s</pre> <pre>1</pre> 0 ATUnits_incompatible_units. ATUnits_correct_numerical. UnitsStrict <pre>0.0</pre> <pre>0.0*m/s</pre> <pre>1</pre> 0 ATUnits_SA_no_units. Your answer must have units. UnitsStrict <pre>2.33e-15*kg</pre> <pre>2.33e-15*kg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>7.03e-3*ng</pre> <pre>7.03e-3*ng</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>2.35e-6*ug</pre> <pre>2.35e-6*ug</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>9.83e-10*cg</pre> <pre>9.83e-10*cg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>9.73e-21*Gg</pre> <pre>9.73e-21*Gg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>7.19e-15*kg</pre> <pre>7.19e-15*kg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>8.12e-12*g</pre> <pre>8.12e-12*g</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>9.34e-12*g</pre> <pre>9.34e-12*g</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>1.07e-21*Gg</pre> <pre>1.07e-21*Gg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>1.91e-10*cg</pre> <pre>1.91e-10*cg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>5.67e-18*Mg</pre> <pre>5.67e-18*Mg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>2.04e-9*mg</pre> <pre>2.04e-9*mg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>6.75e-6*ug</pre> <pre>6.75e-6*ug</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>6.58e-6*ug</pre> <pre>6.58e-6*ug</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>3.58e-9*mg</pre> <pre>3.58e-9*mg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>9.99e-15*kg</pre> <pre>9.99e-15*kg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>9.8e-9*mg</pre> <pre>9.8e-9*mg</pre> <pre>[3,2]</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_units_match. Your answer contains the wrong number of significant digits. UnitsStrict <pre>9.80e-9*mg</pre> <pre>9.8e-9*mg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>9.83e-9*mg</pre> <pre>9.8e-9*mg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>9.78e-9*mg</pre> <pre>9.8e-9*mg</pre> <pre>[3,2]</pre> 1 ATUnits_units_match. UnitsStrict <pre>36*Kj/mol</pre> <pre>36*Kj/mol</pre> <pre>2</pre> 1 ATUnits_units_match. UnitsStrict <pre>-36*Kj/mol</pre> <pre>-36*Kj/mol</pre> <pre>2</pre> 1 ATUnits_units_match. UnitsStrict <pre>(-36)*Kj/mol</pre> <pre>-36*Kj/mol</pre> <pre>2</pre> 1 ATUnits_units_match. UnitsStrict <pre>(-36*Kj)/mol</pre> <pre>-36*Kj/mol</pre> <pre>2</pre> 1 ATUnits_units_match. UnitsStrict <pre>-(36*Kj)/mol</pre> <pre>-36*Kj/mol</pre> <pre>2</pre> 1 ATUnits_units_match. UnitsStrict <pre>-(36.2*Kj)/mol</pre> <pre>-36.3*Kj/mol</pre> <pre>2</pre> 0 ATNumSigFigs_WrongDigits. ATUnits_units_match. Your answer contains the wrong number of significant digits."},{"location":"Authoring/Answer_Tests/Results/UnitsStrictAbsolute/","title":"UnitsStrictAbsolute: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> UnitsStrictAbsolute Test?Student responseTeacher answerOptMarkAnswer note UnitsStrictAbsolute <pre>2301.0*mm</pre> <pre>2300.0*mm</pre> <pre>10.0</pre> 1 ATUnits_units_match. UnitsStrictAbsolute <pre>2321.0*mm</pre> <pre>2300.0*mm</pre> <pre>10.0</pre> 0 ATUnits_units_match. UnitsStrictAbsolute <pre>2.301*m</pre> <pre>2300.0*mm</pre> <pre>10.0</pre> 0 ATUnits_compatible_units m. UnitsStrictAbsolute <pre>2.321*m</pre> <pre>2300.0*mm</pre> <pre>10.0</pre> 0 ATUnits_compatible_units m. UnitsStrictAbsolute <pre>2.301*kg</pre> <pre>2300.0*mm</pre> <pre>10.0</pre> 0 ATUnits_incompatible_units."},{"location":"Authoring/Answer_Tests/Results/UnitsStrictRelative/","title":"UnitsStrictRelative: Answer test results","text":"<p>This page exposes the results of running answer tests on STACK test cases.  This page is automatically generated from the STACK unit tests and is designed to show question authors what answer tests actually do.  This includes cases where answer tests currentl fail, which gives a negative expected mark.  Comments and further test cases are very welcome.</p> UnitsStrictRelative Test?Student responseTeacher answerOptMarkAnswer note UnitsStrictRelative <pre>12.3*m/s</pre> <pre>12.3*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsStrictRelative <pre>12*m/s</pre> <pre>12.3*m/s</pre> <pre>0.01</pre> 0 ATUnits_units_match. UnitsStrictRelative <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.15</pre> 0 ATUnits_compatible_units kg. UnitsStrictRelative <pre>1.1*Mg/10^6</pre> <pre>1.2*kN*ns/(mm*Hz)</pre> <pre>0.05</pre> 0 ATUnits_compatible_units kg. Edge case UnitsStrictRelative <pre>0*m/s</pre> <pre>0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsStrictRelative <pre>0.0*m/s</pre> <pre>0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsStrictRelative <pre>0*m/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsStrictRelative <pre>0.0*m/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 1 ATUnits_units_match. UnitsStrictRelative <pre>0.0*km/s</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 0 ATUnits_compatible_units m/s. UnitsStrictRelative <pre>0.0*m</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 0 ATUnits_incompatible_units. ATUnits_correct_numerical. UnitsStrictRelative <pre>0.0</pre> <pre>0.0*m/s</pre> <pre>0.01</pre> 0 ATUnits_SA_no_units. Your answer must have units. UnitsStrictRelative <pre>0*J</pre> <pre>0.0*J</pre> <pre>0.01</pre> 1 ATUnits_units_match."},{"location":"Authoring/Question_blocks/","title":"Question blocks","text":""},{"location":"Authoring/Question_blocks/#introduction","title":"Introduction","text":"<p>Question blocks add flexibility to STACK questions by adding functional structures to the CASText.  These are new from v4.0 onwards.</p> <p>For example, you can add in a conditional statement to selectively include materials in the version of the CASText depending on values of variables. This is useful in randomly generated contexts, especially within model solutions and randomly generated diagrams/charts.</p> <p>For maximum flexibility, blocks can be nested and conditionally evaluated. A body of CASText is then repeatedly processed until all blocks have been interpreted into CASText. This is a core part of CASText and so applied to all appropriate parts of the question.</p> <p>Note:  The parameters to blocks in the question body may NOT depend on the student's answers. This means that you cannot reveal an input block based on student input, well not just by using an <code>[[if/]]</code>-block. But you may still adapt PRT feedback as much as you want. Such adaptation requires persistent modifiable question state and is not currently possible in STACK; however, there is work being done to create systems that would allow it.</p>"},{"location":"Authoring/Question_blocks/#block-groups","title":"Block groups","text":"<p>Question blocks are divided into three broad groups.</p> <ol> <li>Static blocks, which are active when a question version is created.</li> <li>Lang</li> <li>Comment</li> <li>Debug</li> <li>Textdownload</li> <li>Include</li> <li>Template</li> <li>Conditional blocks, for looping and branching and programatic structures.</li> <li>Define</li> <li>If</li> <li>Foreach</li> <li>Dynamic blocks, which manage features like Javascript and JSXGraph components.</li> <li>Reveal</li> <li>JSXGraph</li> <li>JSString</li> <li>System blocks, which are not realy intended for end-users.</li> </ol>"},{"location":"Authoring/Question_blocks/#general-syntax","title":"General syntax","text":"<p>The syntax is quite similar to XML but preserving the style <code>[[ ... ]]</code> used in the inputs and potential response tree declarations.</p> <pre><code>[[ block_type param1=\"value1\" param2='value2' ... paramN=\"valueN\" ]]\nSome content.\n[[/ block_type ]]\n</code></pre> <p>This syntax avoids issues with the rich text editors used in Moodle but it is still recommended to use the plain text editor to avoid excess line changes and white space generated by the WYSIWYG editors.</p> <p>Notes</p> <ol> <li>In closing a block you must use <code>[[/ \"blockname\"]]</code> where <code>\"blockname\"</code> must be used, and it must match the previous opening block.  </li> <li>White space is tolerated in block definitions and after the <code>/</code> in the closing block, but is not necessary.</li> <li>The parameters have the following syntax:  <code>param1=\"value1\"</code>.  Blocks define what are valid identifiers and parameters.  The identifiers must not be in quotes (and so cannot contain spaces).  The parameters must be in quotes, and either <code>param1=\"value1\"</code> or <code>param1='value1'</code> is accepted.</li> <li>Typically <code>param1</code> will be a valid Maxima identifier, e.g. a variable name and the value would be a valid Maxima expression.</li> <li>The parameter value must be surrounded by quotes, and both <code>\"value\"</code> and <code>'value'</code> are accepted.</li> </ol>"},{"location":"Authoring/Question_blocks/#empty-blocks","title":"Empty blocks","text":"<p>Some blocks do not have content.  For example, the <code>[[ define x='1' /]]</code> block does not include content. The following is correct syntax:</p> <pre><code>[[ define x='1']][[/ define]]\n</code></pre> <p>But we think the following is much more direct, and clean.</p> <pre><code>[[ define x='1' /]]\n</code></pre> <p>There are other kinds of <code>[[ emptyblocks /]]</code>, which are useful in certain cases and developers of new blocks might like to consider this as a possibility.</p> <p>While the define block does not generate any visible content, empty blocks may be used to generate output. For example <code>[[ debug /]]</code> does generate output.</p>"},{"location":"Authoring/Question_blocks/Conditional_blocks/","title":"Conditional blocks","text":""},{"location":"Authoring/Question_blocks/Conditional_blocks/#conditional-blocks","title":"Conditional blocks","text":""},{"location":"Authoring/Question_blocks/Conditional_blocks/#if-blocks","title":"If blocks","text":"<p>The common if statement is written as:</p> <pre><code>[[ if test=\"some_CAS_expression_evaluating_to_true_or_false\" ]]\nThe expression seems to be true.\n[[/ if ]]\n</code></pre> <p>The if block requires a parameter called <code>test</code> and the value must be a Maxima expression which evaluates to <code>true</code> or <code>false</code>.</p> <p>The if block uses a special syntax expansion that provides it a way to handle else cases. For example,</p> <pre><code>[[ if test='oddp(rand(5))' ]]\nThis is an odd block!\n[[ else ]]\nThis is an even block!\n[[/ if]]\n</code></pre> <p>There is an else if type of structure using elif (Python coders won the syntax selection vote),</p> <pre><code>[[ if test='oddp(var)' ]]\nThis is an odd block!\n[[ elif test='is(var=0)' ]]\nIt might be even but it is also zero.\n[[ else ]]\nThis is an even block!\n[[/ if]]\n</code></pre> <p>Note that you may have to evaluate your expression explicitly.  Maxima does not always evaluate predicates to <code>true</code> or <code>false</code>.  For example, you might expect <code>p&lt;1</code> in the following to evaluate to <code>true</code>.</p> <pre><code>[[ define p=\"0\" /]] \\(p\\) is now {@p@}.\n[[ if test=\"p&lt;1\"]]\n\\(p\\) is less than 1.\n[[ else ]]\n\\(p\\) is not less than 1.\n[[/ if ]]\n</code></pre> <p>However, it remains unevaluated. The true branch is therefore not satisfied. Since 4.4 the behaviour of this block matches normal if-else behaviour in Maxima, you may still meet this problem if you happen to turn simplification off.</p> <p>To address this explicitly evaluate your expressions as predicates.</p> <pre><code>[[ if test=\"is(p&lt;1)\"]]\n</code></pre> <p>Teachers can also use evaluation with simplification and predicates as follows:</p> <pre><code>[[ if test=\"ev(p&lt;1,simp,pred)\"]]\n</code></pre> <p>It is the responsibility of the question author to ensure that every test in an if block evaluates to <code>true</code> or <code>false</code>.</p>"},{"location":"Authoring/Question_blocks/Conditional_blocks/#foreach-loop","title":"Foreach loop","text":"<p>Foreach blocks iterate over lists or sets and repeat their content redefining variables for each repetition.</p> <pre><code>[[ foreach x=\"[1,2,3]\" ]]{#x#} [[/ foreach ]]\n</code></pre> <p>You may have multiple variables and they will be iterated over in sync and the variables may also come from Maxima. Should one of the lists or set be shorter/smaller the iteration will stop when the first one ends.</p> <pre><code>[[ foreach x=\"[1,2,3]\" y=\"makelist(x^2,x,4)\" ]] ({#x#},{#y#}) [[/ foreach ]]\n</code></pre> <p>Because the foreach block needs to evaluate the lists/sets before it can do the iteration, using foreach blocks will require one additional CAS evaluation for each nested level of foreach blocks. This has not applied since 4.4. no additional cost is related to this block and it is recommended that any repeption that can be removed is removed using this block.</p>"},{"location":"Authoring/Question_blocks/Conditional_blocks/#define-block-define-block","title":"Define block {#define-block}","text":"<p>The define block is a core component of the foreach block, but it may also be used elsewhere. Its function is to change the value of a CAS variable in the middle of CASText. For example:</p> <pre><code>[[ define x='1' /]] {#x#}, [[ define x='x+1' /]] {#x#}, [[ define x='x+1' /]] {#x#}\n</code></pre> <p>should print \"1, 2, 3\". You may define multiple variables in the same block and the order of define operations is from left to right so \"[[ define a='1' b='a+1' c='a+b' /]] {#a#}, {#b#}, {#c#}\" should generate the same output.</p> <p>Note, the use of define provides an alternative to using the question variables.  Variables here are defined on the fly.  However, we do not recommend this is done routinely.</p> <ol> <li>the readability of the code will suffer.</li> <li>question variables are available elsewhere in the question, but <code>define</code> blocks are only available in that CASText.  This feature can also be used to your advantage.</li> </ol>"},{"location":"Authoring/Question_blocks/Dynamic_blocks/","title":"Dynamic blocks","text":"<p>Dynamic blocks deal with dynamic content such as Javascript and JSXGraph</p>"},{"location":"Authoring/Question_blocks/Dynamic_blocks/#reveal-block","title":"Reveal block","text":"<p>This block allows sections of text to be shown or hidden based on the value of an input.</p> <pre><code>[[reveal input=\"ans1\" value=\"true\"]]\nText shown when the value of input `ans1` is `true`.\n[[/reveal]]\n</code></pre> <p>The block will only do singular direct string match, and so use of this block is most likely to be useful when combined with true/false or other multiple choice input types.  An example question using this feature is provided in the sample questions.</p> <p>There is currently no \"else\" clause available with this block.</p>"},{"location":"Authoring/Question_blocks/Dynamic_blocks/#interaction-with-mcq-input-types","title":"Interaction with MCQ input types","text":"<p>The reveal block can be used in conjunction with MCQ input types to provide an input, e.g. algebraic, for \"other\".  Here is a very minimal example.  Put the following in the question variables.</p> <pre><code>ta1:[[a,false],[b,false],[c,false],[d,false],[X,true,\"Other\"]];\nta2:x^2;\n</code></pre> <p>Use the following question text.</p> <pre><code>[[input:ans1]] [[validation:ans1]]\n[[reveal input=\"ans1\" value=\"5\"]] [[input:ans2]] [[validation:ans2]] [[/reveal]]\n</code></pre> <ol> <li>Create input <code>ans1</code> as a radio input, with teacher's answer <code>ta1</code>.  Don't require or show validation.</li> <li>Create input <code>ans2</code> as an algebraic input, with teacher's answer <code>ta2</code>.  Use the extra option <code>allowempty</code>.</li> <li>In the PRT the first node should check <code>ans1=X</code> and, if so check that <code>ans2=ta2</code>.</li> </ol> <p>Notice that the reveal block has the condition <code>value=\"5\"</code>, not <code>value=\"X\"</code>.  This is because the reveal block executes client-side, using javascript, and the values of the options are simply numbered, and mapped back to Maxima values server-side.</p>"},{"location":"Authoring/Question_blocks/Dynamic_blocks/#hint-block","title":"Hint block","text":"<p>This block allows sections of text to be shown or hidden with a press of an additional button.</p> <pre><code>[[hint title=\"button text\"]]\nText shown when the button is pressed.\n[[/hint]]\n</code></pre> <p>Notes </p> <ol> <li>hint blocks can be nested.</li> <li>the content of the hint is styled within a <code>stack-hint-content</code> div tag.</li> </ol>"},{"location":"Authoring/Question_blocks/Dynamic_blocks/#jsxgraph-block","title":"JSXGraph block","text":"<p>STACK supports inclusion of dynamic graphs using JSXGraph: http://jsxgraph.uni-bayreuth.de/wiki/. The key feature of this block is the ability to bind elements of the graph to inputs of the question. See the specific documentation on including JSXGraph elements.</p> <pre><code>[[jsxgraph]]\n  // boundingbox:[left, top, right, bottom]\n  var board = JXG.JSXGraph.initBoard(divid, {boundingbox: [-3, 2, 3, -2], axis: true, showCopyright: false});\n  var f = board.jc.snippet('sin(1/x)', true, 'x', true);\n  board.create('functiongraph', [f,-3,3]);\n[[/jsxgraph]]\n</code></pre>"},{"location":"Authoring/Question_blocks/Dynamic_blocks/#jsstring-block","title":"JSString block","text":"<p>A new feature in 4.4 is the <code>[[jsstring]]</code> which makes it simpler to produce JavaScript string values out of CASText content. This may be useful for example when generating labels in JSXGraph. The block takes its content and evaluates it as normal CASText and then excapes it as JavaScript string literal.</p> <pre><code>var label = [[jsstring]]{@f(x)=sqrt(x)@}[[/jsstring]];\n/* Would generate, without the need to manually escape things. */\nvar label = \"\\\\({f\\\\left(x\\\\right)=\\\\sqrt{x}}\\\\)\";\n</code></pre> <p>Note, this block is not designed to output Maxima expressins in JS format. For example, this block will not convert <code>x^2</code> into <code>x**2</code>.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/","title":"Static blocks","text":"<p>Static blocks are mostly used when a random version is created, rather than relating to managing dynamic content such as Javascript.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/#lang-block","title":"Lang block","text":"<p>A new feature in 4.4 is a STACK specific localisation mechanism that allows one to output differing text based on the language the student has chosen in their VLE.</p> <pre><code>[[lang code='fi']]...Text in Finnish...[[/lang]]\n</code></pre> <p>Read more about this in the languages documentation.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/#comment-blocks","title":"Comment blocks","text":"<p>Comment blocks allow you to put content into CASText which will not be seen by students.</p> <pre><code>[[ comment ]] Place comments here which will not appear to students. [[/ comment ]]\n</code></pre> <p>Before 4.4 the contents of the block needed to be syntactically correct CASText. That is no longer the case and you can much more easily use this block to comment our unfinished stuff.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/#todo-blocks","title":"Todo blocks","text":"<p>\"todo\" blocks allow you to put items into CASText which indicate future work needed.  This will not be seen by students.</p> <pre><code>[[ todo ]] Place requests to collaborators here. This will not appear to students. [[/ todo ]]\n</code></pre> <p>Any question with a todo will flag an error in the bulk tester.  This will not throw an error in the editing form.  These blocks can also be found by the dependency checker.</p> <p>The todo block is similar to the comments block.  A different block is provided to facilitate searching for questions with specific \"todo\" items remaining.  The contents must be valid castext (unlike the comments block which can be anything) because in the future we may extend the functionality to display todo items in a teacher preview.  If you need to include invalid content either use the comment block, or escape block inside the todo, e.g.</p> <pre><code>[[todo]][[escape]]...[[/escape]][[/todo]]\n</code></pre> <p>The contents of this block are replaced by the static</p> <pre><code>&lt;!--- stack_todo ---&gt;\n</code></pre> <p>to provide a searchable tag in instantiated text which is not visible in regular html, e.g. in the dependency checker.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/#the-debug-block","title":"The debug block","text":"<p>The special \"debug\" block allows question authors to see all the values of variables created during a session in a table.  Do not leave this block in a live question!</p> <pre><code>[[ debug /]]\n</code></pre>"},{"location":"Authoring/Question_blocks/Static_blocks/#format-blocks","title":"Format blocks","text":"<p>In general CASText is assumed to be written in the format (Markdown, raw HTML, Moodle auto-format) that Moodle defines and which can be selected in the editor if one uses the plain text area editor. However, there are cases where one might need to mix formats withing the CASText itself, one of those cases is the inclusion of content written in another format. In these cases one can wrap the differing part in blocks that declare the format to use for that portion. The blocks used for this are named <code>[[moodleformat]]</code>, <code>[[markdownformat]]</code>, and <code>[[htmlformat]]</code>. In the end all CASText evaluates down to HTML, even if it were written in Markdown-format it will be rendered down to HTML.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/#textdownload-block","title":"Textdownload block","text":"<p>STACK can construct a text-file using CASText and provide a link to it for download. This is obviously a way for serving out randomised data to the student. Do note that you can generate whatever you want as the content of that file, one could even generate a LaTeX template with question specific values for the student to fill things in. Read more about serving data out.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/#include-block","title":"Include block","text":"<p>A new feature in 4.4 is the ability to include content from an URL. The include block allows one to do that. However, it is not a recommended tool for novices and all users choosing to use it should consider what it means for the future maintenance and shareability of your questions. See the specific documentation on include logic.</p>"},{"location":"Authoring/Question_blocks/Static_blocks/#template-block","title":"Template block","text":"<p>Since 4.4.2 it has been possible to use templates to handle repetitive content or to override content deeper in libraries. Templates are essentially a way for handling repetition when <code>[[foreach]]</code> does not easily work or when inline CASText based function solutions are inconvenient. While inline CASText is often better it might not work as well as overridable templates when working with libraries.</p> <p>The template block has two parameters, the first being a name which should be a valid name for a function and the second being the mode parameter that controls the blocks behaviour and is of use especially for library builders. There are three different ways for using this block:</p> <ol> <li>To define a templates value for a given name one simply wraps that value in this block with that name. <code>[[template name=\"foobar\"]]Whatever is {@whatever@}[[/template]]</code>. This will not output anything and can also be done in inline CASText either in the question-variables to effect the whole question or in feedback-variables to effect PRTs.</li> <li>To output that template, one simply uses the empty block form <code>[[template name=\"foobar\"/]]</code> which will output whatever has been defined as that templates value or a warning about the template not been defined. One can add a mode parameter <code>mode=\"ignore missing\"</code> to not see that warning. Typically, one will use the <code>[[define/]]</code> block to change the values used within the template.</li> <li>For library makers the most common operation mode is the <code>mode=\"default\"</code> where the contents of the block are used if no overriding definition can be found. The default value will not define a default template and this intentional, if a template is to be shared then it needs to be defined at a global level where it always gets evaluated while default templates tend to be sensible to use even in conditionally evaluated contexts. Basically, if your library has any CASText that could benefit from being overridable you simply give it a name and wrap it with <code>[[template name=\"libarary_xyz\" mode=\"default\"]]...[[/template]]</code> and then maybe document somewhere that this name has this default where these injectable variables have these roles so that people may replace the wording and structure and still use the same values.</li> </ol> <p>Note in the background templates are just functions with CASText values. You can do the same with inline CASText and more importantly building your own functions allows you to use arguments for them and thus makes repetition with varying parameters simpler. For templates no arguments exist, for them the values come from the context where they get placed in, and must therefore be controlled though other means.</p>"},{"location":"Authoring/Question_blocks/System_blocks/","title":"System question blocks","text":""},{"location":"Authoring/Question_blocks/System_blocks/#commonstring-block","title":"Commonstring block","text":"<p>In some circumstances one might see the <code>[[commonstring/]]</code> block. While it might not be one that an author would use it might appear when working with built-in labels and their localisations. What it does is that it gets a <code>key</code> as a parameter and fetches the matching localised string from STACKs language packs and replaces the block with it. It also provides means for injecting named parameters into those templates with varying simplification and presentation options.</p> <p>For example</p> <pre><code>[[commonstring key=\"pluginname_help\"/]]\n</code></pre> <p>will display the string <code>pluginname_help</code> from the language pack, which in English is currently \"STACK is an assessment system for mathematics.\"</p>"},{"location":"Authoring/Question_blocks/System_blocks/#blocks-that-exist-but-should-not-be-used","title":"Blocks that exist but should not be used","text":"<p>There are other blocks that have roles inside the system and that transfer information required for the operation of the system. If you look at the code these are often called \"specialblocks\". You can rest assured that there are no realistic use cases for them, even in advanced authoring proceses. Practically, none of these blocks ever exist in written out CASText and are only added in as virtual objects during processing. However, if you ever look at the commands going into the CAS you might see these block names going in and coming out.</p> <p>For example, <code>[[pfs]]</code> is a special block that gets generated by internal logic when we see plugin files (if you place an image into the WYSIWYG editor) in the text, it works as a marker for those files context so that we can combine text from multiple contexts together and still keep track of the origins when the final product gets rendered.</p> <p>There are blocks that handle the placeholders for inputs, validation, and feedback. Some others deal with translations between forms and postprocessing special types of content.</p>"},{"location":"CAS/","title":"Uso de Maxima y \u00e1lgebra computacional en STACK","text":"<p>STACK utiliza el sistema de \u00e1lgebra computacional (CAS) Maxima y una interfaz gr\u00e1fica de escritorio como wxMaxima puede ser \u00fatil para la edici\u00f3n de l\u00edneas, incluyendo un STACK-Maxima sandbox para probar c\u00f3digo de preguntas en el escritorio.</p> <p>Los sistemas de \u00e1lgebra computacional suelen estar dise\u00f1ados para que el matem\u00e1tico investigador o el estudiante hagan c\u00e1lculos. A efectos de evaluaci\u00f3n, nuestros c\u00e1lculos establecen algunas propiedades relevantes de las respuestas de los estudiantes.  Establecer propiedades de esta manera, y en base a ello crear resultados como la retroalimentaci\u00f3n, es algo particular de los sistemas de evaluaci\u00f3n. Tales propiedades incluyen cosas como</p> <ul> <li>\u00bfEs la expresi\u00f3n algebraicamente equivalente a la respuesta correcta?</li> <li>\u00bfLa expresi\u00f3n est\u00e1 totalmente simplificada?</li> <li>\u00bfla expresi\u00f3n est\u00e1 escrita de una forma convencional determinada (por ejemplo, factorizada, fracci\u00f3n parcial)?</li> <li>\u00bftodos los n\u00fameros de la expresi\u00f3n est\u00e1n escritos como fracciones en los t\u00e9rminos m\u00e1s bajos?</li> </ul>"},{"location":"CAS/#maxima-en-stack-reference","title":"Maxima en STACK {#reference}","text":"<ul> <li>Funciones de predicado, que son \u00fatiles para probar expresiones.</li> <li>N\u00fameros, incluyendo n\u00fameros de coma flotante y complejos.</li> <li>Simplificaci\u00f3n puede activarse y desactivarse en Maxima.</li> <li>Desigualdades.</li> <li>Matrices y vectores.</li> <li>Estad\u00edsticas.</li> <li>Objetos generados aleatoriamente.</li> <li>Trazados y gr\u00e1ficos.</li> <li>Reglas con errores implementa reglas que no siempre son v\u00e1lidas.</li> </ul>"},{"location":"CAS/#informacion-para-desarrolladores-y-otros-temas-developer","title":"Informaci\u00f3n para desarrolladores, y otros temas {#developer}","text":"<ul> <li>Configuraci\u00f3n de un STACK-Maxima sandbox para probar c\u00f3digo en el escritorio.</li> <li>Optimizando Maxima.</li> </ul>"},{"location":"CAS/Buggy_rules/","title":"Buggy rules","text":"<p>In order to establish that the student has done something particular but wrong, it is useful for us to be able to apply wrong or buggy rules to expressions.  A typical example would be to expand out powers in the wrong way, e.g.</p> <p> </p>"},{"location":"CAS/Buggy_rules/#powers-obey-linearity","title":"Powers obey linearity","text":"<p><code>buggy_pow(ex)</code> Implements the buggy linearity rule for exponentiation, i.e.</p> <p> </p> <p>This is  useful if we want to compare a student's answer to the result  of having done something wrong.</p>"},{"location":"CAS/Buggy_rules/#naive-addition-of-fractions","title":"Naive addition of fractions","text":"<p><code>mediant(ex1,ex2)</code> calculates the mediant of two rational expressions. The mediant of two fractions</p> <p> </p> <p>Note that both <code>denom</code> and <code>num</code> work on non-rational expressions, assuming the expression to be \"over one\" by implication.  Hence <code>mediant</code> will also assume the denominator is also one in such cases.</p> <p>This is not always a buggy rule. It is used, for example, in connection with Farey sequences, but it is included here as in assessment this function is useful for checking a common mistake when adding fractions.</p> <p>There is scope for further examples of such rules.</p>"},{"location":"CAS/Buggy_rules/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"CAS/Complex_numbers/","title":"Complex Numbers in STACK","text":"<p>Complex numbers, especially the display of complex numbers, is a surprisingly subtle issue.   This is because there is some genuine ambiguity in whether  is a single object or the sum of two parts.  In mathematics we use this ambiguity to our advantage, but in online assesment we need to be more precise.  There are also issues of unary minus, e.g. not displaying . Similarly we typically do not display numbers like , unless of course we want to at which point we need the option to do so!</p> <p>The general rules when displaying a complex number in Cartesian form \"\" are</p> <ol> <li>the real part should always appear to the left of the imaginary part;</li> <li>  (or whatever symbol is being used for the imaginary unit) should appear on the right of its coefficient if and only if the coefficient is a numerical value. By numerical value, we mean something like  but not things like , even if  is a constant.</li> </ol> <p>Some examples:</p> <ul> <li><code>3+2*%i</code> should display as .</li> <li><code>3-%i</code> should display as .</li> <li><code>-a+b*%i</code> should display as .</li> <li><code>-b*%i</code> should display as  (not normally as ).</li> </ul> <p>STACK provides two functions, one which simplifies and one which does not.</p> <ol> <li><code>display_complex(ex)</code> takes an expression <code>ex</code> and tries to display this as a complex number obeying the above rules.  In particular, this function makes use of Maxima's <code>realpart</code> and <code>imagpart</code> function to split up <code>ex</code> into real and imaginary parts.  To do this it must assume <code>simp:true</code>, and so the real and imaginary part will be simplified.  For example, <code>display_complex(1+2*%i/sqrt(2))</code> is displayed as .  If you really want  then you will need to use the non-simplifying alternative below.  This function respects normal conventions, e.g. when <code>realpart</code> returns zero this function will not print , it just prints , etc.  </li> <li><code>disp_complex(a, b)</code> assumes <code>a</code> is the real part and <code>b</code> is the imaginary part (no checking is done).  This function (mostly) does not simplify its arguments.  So <code>disp_complex(0, 2)</code> will appear as ; <code>disp_complex(2/4, 1)</code> will appear as ; and <code>disp_complex(2, 2/sqrt(2))</code> will appear as .  Use the atom <code>null</code> if you do not want to print a zero for the real part, or print one times the imaginary part.  <code>disp_complex(null, 2)</code> will appear as  and <code>disp_complex(null, null)</code> will appear as just .  Think of <code>null</code> as a non-printable unit (additive or multiplicative).</li> </ol> <p>There is one exception.  In order to pull out a unary minus to the front, <code>disp_complex(a, b)</code> will simplify <code>b</code> if <code>b</code> is not a number and it contains a unary minus.  So, for example <code>disp_complex(a, (-b^2)/b)</code> is displayed .  (We might be able to fix this but this edge case requires disproportionate effort: ask the developers if this is essential).</p> <p>You cannot use these functions to display complex numbers in this form , both these function will always display as .</p> <p>Display respects the multiplication sign used elsewhere within expressions, so that you may have  rather than .</p> <p>Note that the function <code>display_complex(ex)</code> returns the inert form <code>disp_complex(a, b)</code>.  The expression <code>disp_complex(a, b)</code> is an \"inert form\", which is only used to fine-tune the display.  This function is not actually defined and so Maxima always returns it unevaluated.  To remove the intert form from an expression, which is needed to manipulate this further, use <code>remove_disp_complex</code>, e.g., with the following.</p> <pre><code>p1:disp_complex(a, b);\np2:ev(p1, disp_complex=remove_disp_complex);\n</code></pre> <p>(Because <code>null</code> has two different meanings within an expression it isn't sufficient to just define <code>disp_complex(ex1, ex2) := ex1+ex2*%i</code>.)</p> <p>There are occasions when you will need to explicitly add brackets to the displayed form of a complex number, e.g. to emphasise it is a single entity.  To add brackets there is a further \"inert form\" <code>disp_parens</code> which does nothing but add parentheses when the expression is displayed with the <code>tex()</code> function.  For example,</p> <pre><code>p1:disp_parens(display_complex(1+%i))*x^2+disp_parens(display_complex(1-%i));\n</code></pre> <p>will display as .  To remove these inert forms evaluate</p> <pre><code>p2:ev(p1, disp_complex=remove_disp_complex, disp_parens=lambda([ex],ex));\n</code></pre> <p>You must remove inert forms before expressions are evaluated by the potential response tree, for example in the feedback variables.  For example, <code>disp_complex(a, b)</code> is not algebraically equivalent to <code>a+b*%i</code>.</p>"},{"location":"CAS/Complex_numbers/#polar-forms","title":"Polar forms","text":"<p>A complex number written as  is in polar form.  The Maxima function <code>polarform</code> re-writes a complex number in this form, however with <code>simp:false</code> it does not simplfy the expressions for the modulus  or argument  (in STACK). Attempting to re-simplify the expression only returns the number to Cartesian form!</p> <p>As a minimal example, try the following.</p> <pre><code>simp:false;\np1:polarform(1+%i);\np2:ev(polarform(1+%i), simp);\np3:ev(p2, simp);\n</code></pre> <p>First we have <code>p1</code> is  . Of course, we really need some simplification of the  and the  values.</p> <p>Notice the difference between <code>p2</code>: , and <code>p3</code>:  (which of course is not even  either!).</p> <p>The problem is that in this case <code>ev( ... , simp)</code> is not idempotent, (i.e.  in all cases) and the PHP-maxima connection inevitibly passes an expression to and from Maxima multiple times.  If <code>simp:true</code> then we get multiple simplifications, in this example back to <code>p3</code>.</p> <p>Instead, use <code>polarform_simp</code> to rewrite the expression in polar form, and do some basic simplification of  and .</p> <pre><code>simp:false;\np1:polarform_simp(1+%i);\n</code></pre> <p>returns <code>p1</code> as .</p> <p>Here are some design choices.</p> <ol> <li>Positive numbers are returned as real numbers, not as .  E.g. <code>polarform_simp(3)</code> is .</li> <li>If  then this is not displayed. E.g. <code>polarform_simp(1/sqrt(2)*(-1+%i))</code> is .</li> </ol> <p>If question level simplification is on, then the value will probably get re-simplified to Cartesian form.</p>"},{"location":"CAS/Equations/","title":"Asking students to solve equations","text":"<p>It is quite common to ask students to solve an algebraic equation.  The student's answer may be a list (or set) of numbers.  We need to check that this list is</p> <ol> <li>Correct: every element of the list satisfies the equation.</li> <li>Complete: every solution of the equation is in the list.</li> </ol> <p>The best way to do (1) is not to check algebraic equivalence with the list/set of correct answers!  Instead, substitute the student's answer into the equation and see if it works.</p> <p>We proceed by example.  Imagine the teacher has asked the student to solve <code>p=0</code> in the equation defined in the following \"question variables\".</p> <pre><code>p:2*x^2+11*x-5/4;\nta:solve(p,x);\n/* Solve gives a list of equations, we want a set of numbers. */\nta:setify(maplist(rhs,ta));\n</code></pre> <p>For solutions we are not interested in order, but we need multiplicity.  Therefore a \"bag\" is what we need logically.  However, Maxima only has sets and lists.</p> <p>If the student enters a set or list, the AlgEquiv answer test can be used to compare sets and lists, but it does so element-wise.  We need to do something different.</p> <p>In the feedback variables we create a new list called \"listans\" as follows, assuming the student's answer is assigned to <code>ans1</code>.</p> <pre><code>/* Need a *LIST* from this point on, so we have a definite order. */\nsans:listify(ans1);\n/* Substitute into the equation. */\nlistans:maplist(lambda([ex],ev(p,x=ex)), listify(ans1));\n</code></pre> <p>The values of <code>listans</code> are what we get when we substitute in each of the students' answers into the equation.   We could also simplify this, but it isn't strictly necessary.</p> <pre><code>/* \"Simplify\" the result (not strictly necessary). */\nlistans:maplist(fullratsimp, listans);\n</code></pre> <p>Now we have a list of numbers.  We need to compare this with something, but the student's list may have a different number of entries than of the teacher's solution!</p> <pre><code>/* Generate something to compare this list with. */\nzl:makelist(0,length(listans));\n</code></pre> <p>In the potential response tree, compare <code>listans</code> with <code>zl</code> using the AlgEquiv answer test and the <code>quiet=yes</code> option to suppress all feedback.</p> <p>Next, assume we want to work out which answers in the student's list are wrong.</p> <pre><code>/* To decide which answers in a list are equivalent. */\n/* Pick out the wrong answers. */\nwe:sublist(sans, lambda([ex], not(algebraic_equivalence(ev(p,x=ex),0))));\n</code></pre> <p>To use this, we could put the following in the <code>false</code> branch feedback of the first node.</p> <pre><code>The following answers you entered do not satisfy the equation\n\\[ {@we@}. \\]\n</code></pre> <p>The above test only makes sure that everything typed in by the student satisfies the equation.  In particular, the empty set <code>{}</code> will pass this test!  So, we now need to separately check that the student has all the solutions to the equation. To establish this you can check that the length of the teacher's answer is greater than the length of the student's. This can be done with the following test (i.e. the \"greater than\" test).</p> <pre><code>ATGT(length(ta), length(fullratsimp(sans)))\n</code></pre> <p>If this test is true, then the student has missed some solutions.</p> <p>The point really here is that we are not seeking equivalence with a particular set of numbers, rather we are establishing correctness (all things identified by the student are solutions) and completeness (all the solutions are identified by the student) as separate mathematical properties.</p>"},{"location":"CAS/Equations/#randomly-generated-variables","title":"Randomly generated variables","text":"<p>In the above example, we may have created a randomly generated variable.  E.g.</p> <pre><code>v:rand([x,y,z,t]);\np:a*v^2+b*v+c;\n</code></pre> <p>In this case, to make the substitution you need to put in an extra evaluation.</p> <pre><code>listans:maplist(lambda([ex],ev(p,ev(v=ex))), listify(ans1));\n</code></pre>"},{"location":"CAS/Equations/#repeated-roots","title":"Repeated roots!","text":"<p>If the teacher asks a student to enter the answer as a set, then by default STACK does not remove duplicates because validation, etc.  is done with <code>simp:false</code>.  If you want the student to enter repeated roots you must set <code>Auto-simplify</code> to <code>no</code> in the PRT to avoid losing solutions from the student.  You can then check that each answer satisfies the equation and the student has the correct number of answers using</p> <pre><code>length(ans1)\n</code></pre> <p>being equivalent to the correct number using <code>EqualComAss</code> to avoid simplification. Note, that if you \"simplify\" <code>ans1</code> you are likely to lose answers as sets automatically lose duplicates.</p> <p>Alternatively, you may want to simplify the student's answer to make sure they have the right number of different solutions.  This is a separate test.</p> <pre><code>length(fullratsimp(ans1))\n</code></pre> <p>Exact circumstances of the question will dictate what to do, and whether the teacher expects students to enter duplicate roots the right number of times.</p>"},{"location":"CAS/Equivalence_reasoning/","title":"Reasoning by equivalence","text":"<p>NOTE: Reasoning by equivalence was introduced in STACK 3.6.  This area of STACK is still under active development, and features and behaviour may change significantly in future versions, subject to trials with students and feedback from colleagues.</p> <p>We currently provide support for </p> <ul> <li>basic single variable polynomials,</li> <li>very simple inequalities,</li> <li>simple simultaneous equations.</li> </ul> <p>There is no support for algebraic manipulations involving logarithms and trig functions although individual examples may work.</p> <p>Wider support is intended for future versions. A simple getting started with equivalence reasoning guide can be found elsewhere.</p>"},{"location":"CAS/Equivalence_reasoning/#what-is-reasoning-by-equivalence-and-this-input-type","title":"What is reasoning by equivalence and this input type?","text":"<p>Reasoning by equivalence is a particularly important activity in elementary algebra. It is an iterative formal symbolic procedure where algebraic expressions, or terms within an expression,  are replaced by an equivalent until a \"solved\" form is reached. An example of solving a quadratic equation is shown below.  </p> <p>The point is that replacing an expression or a sub-expression in a problem by an equivalent expression provides a new problem having the same solutions. This input type enables us to capture and evaluate student's line-by-line reasoning, i.e. their steps in working, during this kind of activity.</p> <p>Reasoning by equivalence is very common in elementary mathematics.  It is either the entire task (such as when solving a quadratic) or it is an important part of a bigger problem.  E.g. proving the induction step is often achieved by reasoning by equivalence.  </p>"},{"location":"CAS/Equivalence_reasoning/#how-do-students-use-this-input","title":"How do students use this input?","text":"<p>Instructions for students.</p> <p>In traditional practice students work line by line rewriting an equation until it is solved. This input type is designed to capture this kind of working and evaluate it based on the assumption that each line should be equivalent to the previous one. Instructions for students are here.  Some common observations about this form of reasoning are</p> <ol> <li>Students often use no logical connectives between lines.</li> <li>Students ignore the natural domain of an expression, e.g. in  the value  is excluded from the domain of definition.</li> <li>Operations which do not result in equivalence are often used, e.g. squaring both sides of an equation.</li> </ol> <p>This input type mirrors current common practice and does not expect students to indicate either logic or domains. The input type itself will give students feedback on these issues.</p> <p>Note that students must use correct propositional logic connectives <code>or</code> and <code>and</code>. E.g. their answer must be something correct such as <code>x=1 or x=2</code>, not something sloppy like <code>x=1 or 2</code> or <code>x=1,2</code>. It certainly can't be something wrong such as <code>x=1 and x=2</code> which is often seen in written answers!</p> <p>Note that students may not take square roots of both sides of an equation.  This will be rejected because it is not equivalent!  Similarly, students may not cancel terms from both sides which may be zero.  As we require equivalence, students may not multiply either.  This will probably not correspond to students' expectations, and may take a bit of getting used to.</p> <p>But should students really use logical connectives?  Yes, I (CJS) believe they should but to require this from the input type now would be too big a step for students and their teachers. Students are already being expected to use connectives such as <code>and</code> and <code>or</code> correctly.  The input type uses these connectives and in the future options may be added to this input type which require students to be explicit about logical connectives, especially when we add support for implication in addition to equivalence.  As we gain confidence in teaching with equivalence reasoning, we will add more options to this input type.</p> <p>If you have strong views on how this input type should behave, please contact the developers.</p>"},{"location":"CAS/Equivalence_reasoning/#validation-and-correctness","title":"Validation and correctness","text":"<p>STACK carefully separates out validation of a student's answer from the correctness. This idea is encapsulated in the separation of validation feedback via the tags <code>[[validation]]</code>  which is tied to inputs, from the potential response trees which establish the mathematical properties.</p> <p>Each line of a student's answer must be a valid expression, just as with the algebraic input type. However, sets, lists and matrices are not permitted in this input type. The internal result is a list of expressions (equations or inequalities).</p>"},{"location":"CAS/Equivalence_reasoning/#example-use-cases-for-this-input-type","title":"Example use cases for this input type","text":"<ol> <li> <p>Reasoning by equivalence is the entire task.  The argument must be correct and the last line is the final answer.</p> </li> <li> <p>In a formative setting, we want immediate feedback on whether the argument consists of equivalent lines.  This feedback can be given</p> </li> <li>as the student types line by line, or</li> <li>at the end when they press \"check\".</li> </ol> <p>The ability to give feedback on the equivalence of adjacent lines as the student types their answer somewhat  blurs the distinction between validation and correctness, but in a way which is probably very useful to students.</p>"},{"location":"CAS/Equivalence_reasoning/#notes-for-question-authors","title":"Notes for question authors","text":"<ul> <li>The position of the validation tags, e.g. <code>[[validation:ans1]]</code> are ignored for this input type.  Validation feedback is always displayed next to the TextArea into which students type their answer.</li> <li>The teacher's answer and any syntax hint must be a list.  If you just pass in an expression strange behaviour may result.</li> <li>The input type works very much like the TextArea input type.  Internally, the student's lines are turned into a list.  If you want to use the \"final answer\" then use code such as <code>last(ans1)</code> in your potential response tree.</li> <li>If students type in an expression rather than an equation, the system will assume they forgot to add  at the end and act accordingly.  This is displayed to the student.</li> </ul> <p>If the student starts their line with an <code>=</code> sign, this is accepted.  Teachers cannot use a prefix <code>=</code>.  In a worked solution the teacher must use the prefix function <code>stackeq</code>.  For example,</p> <pre><code>ta:[(x-1)^2,stackeq(x^2-2*x+1)]\n</code></pre> <p>Teachers must explicitly use the <code>nounor</code> and <code>nounand</code> commands, not the <code>and</code> and <code>or</code> logic.  For more details see the section on simplification.  For example, a worked solution might be</p> <pre><code>ta:[p=0,(v-n1)*(v-n2)=0,v-n1=0 nounor v-n2=0,v=n1 nounor v=n2]\n</code></pre>"},{"location":"CAS/Equivalence_reasoning/#input-type-options","title":"Input type options","text":"<p>To enter options for this input use the \"extra options field\".   Options should be a comma separated list of values only from the following list.</p> <p><code>hideequiv</code> does not display whether each line is equivalent to the next at validation time.</p> <p><code>hidedomain</code> does not display natural domain information.</p> <p><code>comments</code> allows students to include comments in their answer.  By default comments are not permitted as it breaks up the argument and stops automatic marking.</p> <p><code>firstline</code> takes the first line of the teacher's answer and forces the student to have this as the first line of the student's answer.  The test used is equality up to commutativity and associativity (EqualComAss answer test).</p> <p><code>assume_pos</code> sets the value of Maxima's <code>assume_pos</code> variable to be true. If we <code>assume_pos</code> they any negative solutions will be ignored, whether or not they exist.  So  will now be equivalent to . You might not want this equivalence.  In particular, this also has the effect of condoning squaring or rooting both sides of an equation. For example  will now be equivalent to  (rather than ). This is not the default, but is useful in situations where a student is rearranging an equation to a given subject, and all the variables are assumed to be positive.  Note, this option is only for the input type. You will also need to set this in the question options to also affect the answer test.</p> <p><code>assume_real</code> sets an internal flag to work over the real numbers.  If <code>true</code> then  will be considered equivalent to .  Note, this option is only for the input type. You will also need to set this in the question options to also affect the answer test.</p> <p><code>calculus</code> allows calculus operations in an argument.  Note, this option is only for the input type. You will also need to set this in the answer test options to also affect the answer test.  This is at a very early stage of development. For example, constants of integration are not currently checked by this currently.</p> <p>If the syntax hint is just the keyword <code>firstline</code> then the first line of the value of the teacher's answer will appear as a syntax hint. This enables a randomly generated syntax hint to appear in the box.</p>"},{"location":"CAS/Equivalence_reasoning/#answer-tests","title":"Answer tests","text":"<p>There are a number of answer tests which seek to establish whether a student's list of expressions are all equivalent.</p> <p>In these tests there is no concept of \"step size\" or any test that a student has worked in a sensible order. The tests share code with the input type, and feedback from the test will be identical to that from the input when this is shown.</p> <p>You will also need to set options, as in the input type above, to get the answer tests to reflect the options set. The options supported are <code>assume_pos</code>, <code>assume_real</code>, and <code>calculus</code>.</p>"},{"location":"CAS/Equivalence_reasoning/#equivreasoning","title":"EquivReasoning","text":"<p>This test establishes that all the items in the list are equivalent, using algebraic equivalence.</p>"},{"location":"CAS/Equivalence_reasoning/#equivfirst","title":"EquivFirst","text":"<ol> <li>This test establishes that all the items in the list are equivalent, using algebraic equivalence.</li> <li>Test that the first line of the student's answer is equivalent to the first line of the teacher's answer up to commutativity and associativity (using the answer test EqualComAss.)</li> </ol> <p>To test the last line of an argument is in the correct form will require a separate node in the potential response tree.  To add this to the answer test gives too many possibilities.</p>"},{"location":"CAS/Equivalence_reasoning/#natural-domains","title":"Natural domains","text":"<p>The equivalence reasoning input tracks natural domains of expressions.  This is via the STACK's <code>natural_domain(ex)</code> function.  Natural domains are shown to students in the validation feedback.  At the moment STACK quietly condones silent domain enlargements such as in the above example.</p>"},{"location":"CAS/Equivalence_reasoning/#repeated-roots","title":"Repeated roots","text":"<p>There is general ambiguity about how to express multiplicity of roots.  If  is not equivalent to  then students need to indicate multiplicity of roots, but there appears to be no consensus on how this should be notated.</p> <p>The equation  and the expression  are considered to be equivalent, because they have the same roots with the same multiplicity. The expressions  and  have the same variety, but are not identical. This is, of course, slightly awkward since logical ``or'' is idempotent, and so  and  would be equivalent at a symbolic level. For this reason, STACK accepts  as equivalent to , but with an acknowledgement.  </p>"},{"location":"CAS/Equivalence_reasoning/#other-functions","title":"Other functions","text":"<p>The maxima function <code>stack_disp_arg(ex, [showlogic, showdomain])</code> can be used to display a list of expressions <code>ex</code> in the same form as used in the input and answer tests.  This is useful for displaying the teacher's worked solution in the general feedback.  </p> <p>The second two arguments are optional. 1. The boolean variable <code>showlogic</code> determines whether the equivalence symbols are shown.  For a worked solution you probably need to use the following: 2. The boolean variable <code>showdomain</code> determines whether the natural domains are shown.</p> <p>For a worked solution you probably need to use the function</p> <pre><code>\\[ {@stack_disp_arg(ta)@} \\]\n</code></pre> <p>Without the equivalence symbols you use </p> <pre><code>\\[ {@stack_disp_arg(ta, false)@} \\]\n</code></pre> <p>With the equivalence symbols but without natural domains you use </p> <pre><code>\\[ {@stack_disp_arg(ta, true, false)@} \\]\n</code></pre>"},{"location":"CAS/Equivalence_reasoning/#finding-a-step-in-working","title":"Finding a step in working","text":"<p>It is relatively common to want students to take a \"particular step\" in their argument.  That is to say, to expect a particular intermediate expression to appear explicitly in their list of answers.</p> <p>For example, imagine you want students to \"simplify\"  to .  It is important to see evidence of the expression  in their answer.  The teacher's answer is, e.g.</p> <pre><code>ta:[lg(25,5),stackeq(lg(5^2,5)),stackeq(2*lg(5,5)),stackeq(2*1),stackeq(2)]\n</code></pre> <p>We want to accept </p> <pre><code>sa1:[lg(25,5),stackeq(lg(5^2,5)),stackeq(2)]\n</code></pre> <p>But reject</p> <pre><code>sa0:[lg(25,5),stackeq(2)]\n</code></pre> <p>Both of these are correct reasoning arguments, but the second is missing the desired step.</p> <p>To facilitate this search we provide the function <code>stack_equiv_find_step(ex, exl)</code>.  This looks for expression <code>ex</code> in the list <code>exl</code> using <code>ATEqualComAss</code>.  It returns the list of indices of the position.  If you just want to know if the expression is missing use the predicate <code>emptyp</code>.  Note, this function strips off <code>stackeq</code> before testing, so this function will find  in both <code>sa1</code> and <code>sa2</code> below.</p> <pre><code>sa2:[lg(25,5),lg(5^2,5),2]\n</code></pre>"},{"location":"CAS/Equivalence_reasoning/#longer-term-plans","title":"Longer term plans","text":"<ol> <li>Define  operator.  Needed to exclude single numbers from the domain.</li> <li>Define  operator, for student use.</li> <li>Provide better tools for dealing with assessment, such as checking for particular steps.</li> <li>Provide better feedback to students about which steps they have taken and what goes wrong.</li> </ol> <p>In the long term, we may fully implement the ideas in the paper Sangwin, C.J. An Audited Elementary Algebra The Mathematical Gazette, July 2015.</p> <p>In the future students might also be expected to say what they are doing, e.g. ``add  to both sides\", as well as just do it.  Quite how it does this, and the options available to the teacher is what is most likely to change.</p> <p>We would like to introduce the idea of a model answer.  STACK will then establish the extent to which the student's answer follows this model solution.</p>"},{"location":"CAS/Greek/","title":"The Greek Alphabet","text":"<p>Greek letters are transliterated using their English names.  I.e.</p> <pre><code>[alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigma,tau,upsilon,phi,chi,psi,omega]\n</code></pre> <p>Upper case Greek letters have an upper-case English first letter.  I.e.</p> <pre><code>[Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega]\n</code></pre> <p>Many of the Greek letters already have a meaning in Maxima.</p> <ul> <li><code>beta</code>:  The beta function is defined as .</li> <li><code>gamma</code>:  The gamma function.</li> <li><code>delta</code>: This is the Dirac Delta function (only defined in Laplace).</li> <li><code>zeta</code>: This is the Riemann zeta function.</li> <li><code>lambda</code>: Defines and returns a lambda expression, i.e. an unnamed function.</li> <li><code>psi</code>: The derivative of 'log (gamma ())' of order '+1', which has a strange syntax <code>psi[n](x)</code>.  It is also defined in the tensor package. <p>Note that by default, <code>psi</code> requires arguments and any attempt to use this variable name without arguments will result in an error.  For this reason we delete this function in STACK, and <code>psi</code> becomes an unnamed variable.</p> <p>The following are given a specific value by STACK.</p> <ul> <li><code>pi</code> is defined to be the numeric constant which is the ratio of the diameter to the circumference of a circle.  In Maxima this is normally <code>%pi</code>, but STACK also defines the letter <code>pi</code> to have this value.</li> <li>In Maxima the numeric constant which represents the so-called golden mean,  is <code>%phi</code>.</li> </ul>"},{"location":"CAS/Greek/#undefine-maxima-defaults","title":"\"Undefine\" Maxima defaults","text":"<p>It is currently not possible to \"undefine\" function names and return them to variables.</p>"},{"location":"CAS/Inequalities/","title":"Inequalities","text":"<p>The non-strict inequalities  and  are created as infix operators with the respective syntax</p> <pre><code>&gt;=,  &lt;=\n</code></pre> <p>Maxima allows single inequalities, such as , and also support for inequalities connected by logical operators, e.g. .</p> <p>You can test if two inequalities are the same using the algebraic equivalence test, see the comments on this below.  </p> <p>Chained inequalities, for example  are not permitted.  They must be joined by logical connectives, e.g. \" and \".  As <code>and</code> and <code>or</code> are converted to <code>nounand</code> and <code>nounor</code> in student answers, you may need to use these forms in the teacher's answer as well. For more information, see Propositional Logic.</p> <p>From version 3.6, support for inequalities in Maxima (particularly single variable real inequalities) was substantially improved.</p>"},{"location":"CAS/Inequalities/#functions-to-support-inequalities","title":"Functions to support inequalities","text":"<ul> <li><code>ineqprepare(ex)</code></li> </ul> <p>This function ensures an inequality is written in the form <code>ex&gt;0</code> or <code>ex&gt;=0</code> where <code>ex</code> is always simplified.  This is designed for use with the algebraic equivalence answer test in mind.</p> <ul> <li><code>ineqorder(ex)</code></li> </ul> <p>This function takes an expression, applies <code>ineqprepare()</code>, and then orders the parts.  For example,</p> <pre><code> ineqorder(x&gt;1 and x&lt;5);\n</code></pre> <p>returns</p> <pre><code>  5-x &gt; 0 and x-1 &gt; 0\n</code></pre> <p>It also removes duplicate inequalities.  Operating at this syntactic level will enable a relatively strict form of equivalence to be established, simply manipulating the form of the inequalities.  It will respect commutativity and associativity and <code>and</code> and <code>or</code>, and will also apply <code>not</code> to chains of inequalities.</p> <p>If the algebraic equivalence test detects inequalities, or systems of inequalities, then this function is automatically applied.</p> <ul> <li><code>make_less_ineq(ex)</code></li> </ul> <p>Reverses the order of any inequalities so that we have <code>A&lt;B</code> or <code>A&lt;=B</code>.  It does no other transformations.  This is useful because when testing equality up to commutativity and associativity we don't perform this transformation.  We need to put all inequalities a particular way around.  See the EqualComAss test examples for usage.</p>"},{"location":"CAS/Inequalities/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"CAS/Matrix/","title":"Matrices and vectors in STACK","text":"<p>This page documents the use of matrices in STACK.  There is a topics page for setting linear algebra STACK questions.</p>"},{"location":"CAS/Matrix/#matrices","title":"Matrices","text":"<p>Note that in Maxima, the operator <code>.</code> represents noncommutative multiplication and scalar product. The star <code>A*B</code> gives element-wise multiplication.</p> <p>The following functions are part of Maxima, but are very useful for us.</p> <pre><code>rowswap(m,i,j)\nrowadd(m,i,j,k)\n</code></pre> <p>Where <code>m[i]: m[i] + k * m[j]</code>.</p> <pre><code>rowmul(m,i,k)\n</code></pre> <p>Where <code>m[i]: k * m[i]</code>. And a function to compute reduced row echelon form</p> <pre><code>rref(m)\n</code></pre>"},{"location":"CAS/Matrix/#assigning-individual-elements","title":"Assigning individual elements","text":"<p>To assign values to individual elements, use the simple syntax such as the following.</p> <pre><code>m:matrix([1,1],[1,2])\nm[1,2]:3\n</code></pre> <p>Note also Maxima's <code>setelmx</code> function:</p> <pre><code>setelmx (&lt;x&gt;, &lt;i&gt;, &lt;j&gt;, &lt;M&gt;)\n</code></pre> <p>Assigns <code>&lt;x&gt;</code> to the <code>(&lt;i&gt;, &lt;j&gt;)</code>'th element of the matrix <code>&lt;M&gt;</code>, and returns the altered matrix. <code>&lt;M&gt; [&lt;i&gt;, &lt;j&gt;]: &lt;x&gt;</code> has the same effect, but returns <code>&lt;x&gt;</code> instead of <code>&lt;M&gt;</code>.</p>"},{"location":"CAS/Matrix/#showing-working-showing-working","title":"Showing working {#Showing-working}","text":"<p>It is quite common to want to show part of a matrix calculation \"un-evaluated\".  For example, the following is typical.</p> <p> </p> <p>This is achieved, by having a question in which simplification is off, and we define the question variables as follows.</p> <pre><code>A:matrix([1,2],[4,5]);\nB:matrix([1,-1],[1,2]);\nC:apply(matrix,zip_with(lambda([l1,l2],zip_with(\"+\",l1,l2)),args(A),args(B)));\nD:ev(C,simp);\n</code></pre> <p>Notice the use of <code>zip_with</code> which is not a core Maxima function, but is defined by STACK. The above equation is then generated by the CASText</p> <pre><code>\\[ {@A@}+{@B@}={@C@}={@D@}.\\]\n</code></pre> <p>A similar procedure is needed for showing working when multiplying matrices.   Here we need to loop over the matrices, for square matrices we use the following.</p> <pre><code>A:ev(rand(matrix([5,5],[5,5]))+matrix([2,2],[2,2]),simp);\nB:ev(rand(matrix([5,5],[5,5]))+matrix([2,2],[2,2]),simp);\nBT:transpose(B);\nC:zeromatrix (first(matrix_size(A)), second(matrix_size(A)));\nS:for a:1 thru first(matrix_size(A)) do for b:1 thru second(matrix_size(A)) do C[ev(a,simp),ev(b,simp)]:apply(\"+\",zip_with(\"*\",A[ev(a,simp)],BT[ev(b,simp)]));\nD:ev(C,simp);\n</code></pre> <p>Notice we need to simplify the arguments before we take indices of expressions.  This is one problem with <code>simp:false</code>.</p> <p>For non-square matrices we can use this.</p> <pre><code>A:ev(rand(matrix([5,5,5],[5,5,5]))+matrix([2,2,2],[2,2,2]),simp);\nB:transpose(ev(rand(matrix([5,5,5],[5,5,5]))+matrix([2,2,2],[2,2,2]),simp));\nTA:ev(A.B,simp);\nBT:transpose(B);\nC:zeromatrix (first(matrix_size(A)), second(matrix_size(B)));\nS:for a:1 thru first(matrix_size(A)) do for b:1 thru second(matrix_size(B)) do C[ev(a,simp),ev(b,simp)]:apply(\"+\",zip_with(\"*\",A[ev(a,simp)],BT[ev(b,simp)]));\nD:ev(C,simp);\n</code></pre> <p>Now it makes no sense to include the point wise multiplication of elements as a possible wrong answer.</p> <p>There must be a more elegant way to do this!</p>"},{"location":"CAS/Matrix/#display-of-matrices-matrixparens","title":"Display of matrices ## {#matrixparens}","text":"<p>You can set the type of parentheses used to surround matrices in a number of ways.  Firstly, the admin user should set the site default in the qtype_stack options page.</p> <p>For an individual question, the teacher can set the variable</p> <pre><code>lmxchar:\"(\";\n</code></pre> <p>in any of the usual places, e.g. in the question variables.</p> <p>To set the display of an individual matrix, <code>m</code> say, in CASText you can use</p> <pre><code>{@(lmxchar:\"|\", m)@}\n</code></pre> <p>Since <code>lmxchar</code> is a global setting in Maxima, you will have to set it back when you next display a matrix.  Not ideal, but there we are.</p> <p>Note, STACK only displays matrices with matching parentheses.  If you want something like  then you will have to display the matrix without parentheses and sort out the mismatching parentheses in the CASText at the level of display.</p>"},{"location":"CAS/Matrix/#vectors","title":"Vectors","text":"<p>If you are trying to use the vector notation such as  you will probably want to redefine  to be an abstract symbol, not a complex number. More information on this is given under Numbers.</p> <p>Another way to do this is to create matrices as follows:</p> <pre><code>ordergreat(i,j,k);\np:matrix([-7],[2],[-3]);\nq:matrix([i],[j],[k]);\n</code></pre> <p>Now we can use the dot product to create the vector.  The STACK function <code>texboldatoms</code> wraps all atomic variable names in the ephemeral function <code>stackvector</code>, which is typeset in bold.</p> <pre><code>v:texboldatoms(dotproduct(p,q));\n</code></pre> <p>If you turn the option \"Multiplication sign\" to none, this should display as  Notice the use of the function <code>ordergreat</code>.  <code>ordergreat</code> can only be used once at the beginning of the question.</p> <p>The vector <code>stackvector(a)</code> and the atom <code>a</code> are different, and are not considered algebraically equivalent.  While students may type in <code>stackvector(a)</code> as an answer, they are likely to type in <code>a</code>.  The teacher can either (1) add in <code>stackvector</code> ephemeral forms to the student's answer in the feedback variables using <code>texboldatoms</code> or 92) remove all <code>stackvector</code> forms from the teacher's answer by using the <code>destackvector(ex)</code> function on their answer.  In the future we may have an option in the input to apply texboldatoms to student's expressions.</p> <p>The display of the ephemeral form of <code>stackvector</code> is controlled by the function <code>stackvectortex</code>, e.g. you can display vectors differently using the following examples.</p> <pre><code>stackvectortex(ex):= block(sconcat(\"{\\\\bf \\\\vec{\", tex1(first(args(ex))), \"}}\"));\nstackvectortex(ex):= block(sconcat(\"{\\\\bf \\\\underline{\", tex1(first(args(ex))), \"}}\"));\n</code></pre> <p>which should go in the question variables.</p> <p>Any <code>texput</code> commands in the question variables now become \"context variables\" and will be available to the inputs. So, if in the context of your question you would like a variable such as <code>x</code> to be considered as a vector and displayed as a vector you can add one of the following to the question variables.</p> <pre><code>texput(x, \"\\\\mathbf{\\\\vec{x}}\");\ntexput(x, \"\\\\mathbf{\\\\underline{x}}\");\n</code></pre> <p>Whenever <code>x</code> is then displayed in any part of the question, including the student's input validation or feedback generated by the answer tests, we will have the updated tex for this atom.  E.g.</p> <pre><code>texput(x, \"\\\\mathbf{\\\\vec{x}}\");\ntexput(y, \"\\\\mathbf{\\\\vec{y}}\");\n</code></pre> <p>and a student types in <code>a*x+b*y</code> then the tex output will be .</p>"},{"location":"CAS/Matrix/#vector-cross-product","title":"Vector cross product","text":"<p>The wedge product operator is denoted by the tilde <code>~</code>.  This is the <code>itensor</code> package.  This package is not normally loaded by STACK, and in any case the package takes lists and not matrices.  For convenience, the following function has been added which requires <code>3*1</code> matrices.  </p> <pre><code>crossproduct(a,b);\n</code></pre> <p>Another advantage of this function is the ability to return an un-simplified version with <code>simp:false</code>.</p>"},{"location":"CAS/Matrix/#student-input","title":"Student input","text":"<p>Students do find typing in matrices very tedious.  Some teachers have asked for a convenient notation such as</p> <pre><code>c(1,2,3)\n</code></pre> <p>for column vectors and</p> <pre><code>v(1,2,3,4)\n</code></pre> <p>For row vectors.  This is not a core part of STACK currently, but in individual questions you can convert such notation easily into mainstream Maxima using code such as the following.</p> <pre><code>ta1:c(1,2,3);\nta2:v(1,2,3);\nvec_convert(sa) := if op(sa)=c then transpose(matrix(args(sa))) elseif op(sa)=v then matrix(args(sa));\nvec_convert(ta1);\nvec_convert(ta2);\n</code></pre> <p>Once converted into Matrices, the student's answer will be evaluated by PRTs as matrices.   Of course, this will not be reflected in the valuation.  If there is sufficient demand for this contact the developers.</p>"},{"location":"CAS/Maxima/","title":"Introduction to Maxima for STACK users","text":"<p>A computer algebra system (CAS) is software that allows the manipulation of mathematical expressions in symbolic form. Most commonly, this is to allow the user to perform some computation.  For the purposes of assessment our calculation establishes some relevant properties of the students' answers. These properties include</p> <ul> <li>using a predicate function to find if a single expression has a property.  For example, are any of the numbers floating points?</li> <li>comparing two expressions using an answer test to compare two expressions.  For example, is the student's expression equivalent to the teacher's?</li> </ul> <p>randomly generating structured mathematical objects which become parts of a question and plotting graphs of functions.</p> <p>To write more than very simple STACK questions you will need to use some Maxima commands. This documentation does not provide a detailed tutorial on Maxima. A very good introduction is given in Minimal Maxima, which this document assumes you have read.</p> <p>STACK modifies Maxima in a number of ways.</p>"},{"location":"CAS/Maxima/#types-of-object-types_of_object","title":"Types of object {#Types_of_object}","text":"<p>Everything in Maxima is either an atom or an expression. Atoms are either an integer number, float, string or a name.  You can use the predicate <code>atom()</code> to decide if its argument is an atom.  Expressions have an operator and a list of arguments. Note that the underscore symbol is not an operator.  Thus <code>a_1</code> is an atom in maxima. Display of subscripts and fine tuning the display is explained in the atoms, subscripts and fine tuning the LaTeX display page.</p> <p>Maxima is a very weakly typed language.  However, in STACK we need the following \"types\" of expression:</p> <ol> <li>equations, i.e. an expression in which the top operation is an equality sign;</li> <li>inequalities, for example ;</li> <li>sets, for example, ;</li> <li>lists, for example, .   In Maxima ordered lists are entered using square brackets, for example as <code>p:[1,1,2,x^2]</code>.     An element is accessed using the syntax <code>p[1]</code>.</li> <li>matrices.  The basic syntax for a matrix is <code>p:matrix([1,2],[3,4])</code>.  Each row is a list. Elements are accessed as <code>p[1,2]</code>, etc.</li> <li>logical expression.  This is a tree of other expressions connected by the logical <code>and</code> and <code>or</code>.  This is useful for expressing solutions to equations, such as <code>x=1 or x=2</code>.  Note, the support for these expressions is unique to STACK.</li> <li>expressions.</li> </ol> <p>Expressions come last, since they are just counted as being not the others! STACK defines predicate functions to test for each of these types.</p>"},{"location":"CAS/Maxima/#numbers-numbers","title":"Numbers {#Numbers}","text":"<p>Numbers are important in assessment, and there is more specific and detailed documentation on how numbers are treated: Numbers in STACK.</p>"},{"location":"CAS/Maxima/#alias","title":"Alias","text":"<p>STACK defines the following function alias names</p> <pre><code>simplify := fullratsimp\nint := integrate\n</code></pre> <p>The absolute value function in Maxima is entered as <code>abs()</code>.  STACK also permits you to enter using <code>|</code> symbols, i.e.<code>|x|</code>.  This is an alias for <code>abs</code>.  Note that <code>abs(x)</code> will be displayed by STACK as .</p> <p>STACK also redefined a small number of functions</p> <ul> <li>The plot command <code>plot2d</code> is not used in STACK questions.  Use <code>plot</code> instead, which is documented here.  This ensures your image files are available on the server.</li> <li>The random number command <code>random</code> is not used in STACK questions.  Use the command <code>rand</code> instead, which is documented here.  This ensures pseudorandom numbers are generated and a student gets the same version each time they login.</li> </ul>"},{"location":"CAS/Maxima/#parts-of-maxima-expressions-parts_of_maxima_expressions","title":"Parts of Maxima expressions {#Parts_of_Maxima_expressions}","text":""},{"location":"CAS/Maxima/#opx-the-top-operator","title":"<code>op(x)</code> - the top operator","text":"<p>It is often very useful to take apart a Maxima expression. To help with this Maxima has a number of commands, including <code>op(ex)</code>, <code>args(ex)</code> and <code>part(ex,n)</code>. Maxima has specific documentation on this.</p> <p>In particular,  <code>op(ex)</code> returns the main operator of the expression <code>ex</code>.  This command has some problems for STACK.</p> <ol> <li>calling <code>op(ex)</code> on an atom (see Maxima's documentation on the predicate <code>atom(ex)</code>) such as numbers or variable names, cause  <code>op(ex)</code> to throw an error.</li> <li><code>op(ex)</code> sometimes returns a string, sometimes not.</li> <li>the unary minus causes problems.  E.g. in <code>-1/(1+x)</code>     the operation is not \"/\", as you might expect, but it is \"-\" instead!</li> </ol> <p>To overcome these problems STACK has a command</p> <pre><code>safe_op(ex)\n</code></pre> <p>This always returns a string.  For an atom this is empty, i.e. <code>\"\"</code>.  It also sorts out some unary minus problems.</p>"},{"location":"CAS/Maxima/#get_opsex-all-operators","title":"<code>get_ops(ex)</code> - all operators","text":"<p>This function returns a set of all operators in an expression.  Useful if you want to find if multiplication is used anywhere in an expression.</p>"},{"location":"CAS/Maxima/#maxima-commands-defined-by-stack-maxima_commands_defined_by_stack","title":"Maxima commands defined by STACK {#Maxima_commands_defined_by_STACK}","text":"<p>It is very useful when authoring questions to be able to test out Maxima code in the same environment which STACK uses Maxima. That is to say, with the settings and STACK specific functions loaded. To do this see STACK-Maxima sandbox.</p> <p>STACK creates a range of additional functions and restricts those available, many of which are described within this documentation.  See also Predicate functions.</p> Command Description <code>factorlist(ex)</code> Returns a list of factors of ex without multiplicities. <code>zip_with(f,a,b)</code> This function applies the binary function  to two lists  and  returning a list.  An example is given in adding matrices to show working. <code>coeff_list(ex,v)</code> This function takes an expression <code>ex</code> and returns a list of coefficients of <code>v</code>. <code>coeff_list_nz(ex,v)</code> This function takes an expression <code>ex</code> and returns a list of nonzero coefficients of <code>v</code>. <code>divthru(ex)</code> Takes an algebraic fraction, e.g.  and divides through by the denominator, to leave a polynomial and a proper fraction. Useful in feedback, or steps of a calculation. <code>stack_strip_percent(ex,var)</code> Removes any variable beginning with the <code>%</code> character from <code>ex</code> and replace them with variables from <code>var</code>.  Useful for use with solve, ode2 etc.  Solve and ode2. <code>exdowncase(ex)</code> Takes the expression <code>ex</code> and substitutes all variables for their lower case version (cf <code>sdowncase(ex)</code> in Maxima).  This is very useful if you don't care if a student uses the wrong case, just apply this function to their answer before using an answer test.  Note, of course, that <code>exdowncase(X)-x=0.</code> <code>stack_reset_vars</code> Resets constants, e.g. , as abstract symbols, see Numbers. <code>safe_op(ex)</code> Returns the operation of the expression as a string.  Atoms return an empty string (rather than throwing an error as does <code>op</code>). <code>comp_square(ex,v)</code> Returns a quadratic <code>ex</code> in the variable <code>v</code> in completed square form. <code>degree(ex,v)</code> Returns the degree of the expanded form of <code>ex</code> in the variable <code>v</code>. See also Maxima's <code>hipow</code> command. <code>unary_minus_sort(ex)</code> Tidies up the way unary minus is represented within expressions when <code>simp:false</code>.  See also simplification. <code>texboldatoms(ex)</code> Displays all non-numeric atoms in bold.  Useful for vector questions."},{"location":"CAS/Maxima/#assignment-assignment","title":"Assignment ## {#assignment}","text":"<p>In Maxima the assignment of a value to a variable is very unusual.</p> Input Result <code>a:1</code> Assignment of the value  to . <code>a=1</code> An equation, yet to be solved. <code>f(x):=x^2</code> Definition of a function. <p>In STACK simple assignments are of the more conventional form <code>key : value</code>, for example,</p> <pre><code>n : rand(3)+2;\np : (x-1)^n;\n</code></pre> <p>Of course, these assignments can make use of Maxima's functions to manipulate expressions.</p> <pre><code>p : expand( (x-3)*(x-4) );\n</code></pre> <p>Another common task is that of substitution. This can be performed with Maxima's <code>subst</code> command. This is quite useful, for example if we define   as follows, in the then we can use this in response processing to determine if the student's answer is odd.</p> <pre><code>p : ans1 + subst(-x,x,ans1);\n</code></pre> <p>All sorts of properties can be checked for in this way. For example, interpolates. Another example is a stationary point of  at , which can be checked for using</p> <pre><code>p : subst(a,x,diff(ans1,x));\n</code></pre> <p>Here we have assumed <code>a</code> is some point given to the student, <code>ans1</code> is the answer and that  will be used in the response processing tree.</p> <p>You can use Maxima's looping structures within Question variables. For example</p> <pre><code>n : 1;\nfor a:-3 thru 26 step 7 do n:n+a;\n</code></pre> <p>The result will be . It is also possible to define functions within the question variables for use within a question. </p> <pre><code>f(x) := x^2;\nn : f(4);\n</code></pre>"},{"location":"CAS/Maxima/#logarithms","title":"Logarithms","text":"<p>STACK loads the contributed Maxima package <code>log10</code>.  This defines logarithms to base  automatically. STACK also creates two aliases</p> <ol> <li><code>ln</code> is an alias for , which are natural logarithms</li> <li><code>lg</code> is an alias for , which are logarithms to base .     It is not possible to redefine the command <code>log</code> to be to the base .</li> </ol>"},{"location":"CAS/Maxima/#sets-lists-sequences-n-tuples","title":"Sets, lists, sequences, n-tuples","text":"<p>It is very useful to be able to display expressions such as comma separated lists, and n-tuples   Maxima has in-built functions for lists, which are displayed with square brackets , and sets with curly braces . Maxima has no default functions for n-tuples or for sequences.</p> <p>STACK provides an inert function <code>sequence</code>.  All this does is display its arguments without brackets. For example <code>sequence(1,2,3,4)</code> is displayed . STACK provides convenience functions.</p> <ul> <li><code>sequenceify</code>, creates a sequence from the arguments of the expression.  This turns lists, sets etc. into a sequence.</li> <li><code>sequencep</code> is a predicate to decide if the expression is a sequence.</li> <li>The atom <code>dotdotdot</code> is displayed using the tex <code>\\ldots</code> which looks like .  This atom cannot be entered by students.</li> </ul> <p>STACK provides an inert function <code>ntuple</code>.  All this does is display its arguments with round brackets. For example <code>ntuple(1,2,3,4)</code> is displayed .  <code>ntupleify</code> and <code>ntuplep</code> construct and test for ntuples. In strict Maxima syntax <code>(a,b,c)</code> is equivalent to <code>block(a,b,c)</code>.  If students type in <code>(a,b,c)</code> using a STACK input it is filtered to <code>ntuple(a,b,c)</code>. Teachers must use the <code>ntuple</code> function explicitly to construct question variables, teacher's answers, test cases and so on. The <code>ntuple</code> is useful for students to type in coordinates.</p> <p>If you want to use these functions, then you can create question variables as follows</p> <pre><code>L1:[a,b,c,d];\nD1:apply(ntuple, L1);\nL2:args(D1);\nD2:sequenceify(L2);\n</code></pre> <p>Then <code>L1</code> is a list and is displayed with square brackets as normal. <code>D1</code> has operator <code>ntuple</code> and so is displayed with round brackets. <code>L2</code> has operator <code>list</code> and is displayed with square brackets.  Lastly, D2 is an <code>sequence</code> and is displayed without brackets.</p> <p>You can, of course, apply these functions directly.</p> <pre><code>T1:ntuple(a,b,c);\nS1:sequence(a,b,c,dotdotdot);\n</code></pre> <p>If you want to use <code>sequence</code> or <code>ntuple</code> in a PRT comparison, you probably want to turn them back into lists. E.g. <code>ntuple(1,2,3)</code> is not algebraically equivalent to <code>[1,2,3]</code>.  To do this use the <code>args</code> function.   We may, in the future, give more active meaning to the data types of <code>sequence</code> and <code>ntuple</code>.</p> <p>Currently, students can enter expressions with \"implied ntuples\" E.g</p> <ul> <li>Student input of <code>(1,2,3)</code> is interpreted as <code>ntuple(1,2,3)</code>.</li> <li>Student input of <code>{(1,2,3),(4,5,6)}</code> is interpreted as <code>{ntuple(1,2,3),ntuple(4,5,6)}</code>.</li> <li>Since no operations are defined on ntuples, students cannot currenlty enter things like <code>(1,2,3)+s*(1,0,0)</code>.  There is nothing to stop a teacher defining the expression tree <code>ntuple(1,2,3)+s*ntuple(1,0,0)</code>, but the operations <code>+</code> and <code>*</code> are not defined for ntuples and so nothing will happen!  If you want a student to enter the equation of a line/plane they should probably use the matrix syntax for vectors.  (This may change in the future).</li> </ul> <p>Matrices have options to control the display of the braces.  Matrices are displayed without commas.</p> <p>If you are interacting with javascript do not use <code>sequenceify</code>.  If you are interacting with javascript, such ss JSXGraph, then you may want to output a list of values without all the LaTeX and without Maxima's normal bracket symbols. You can use</p> <pre><code>stack_disp_comma_separate([a,b,sin(pi)]);\n</code></pre> <p>This function turns a list into a string representation of its arguments, without braces. Internally, it applies <code>string</code> to the list of values (not TeX!).  However, you might still get things like <code>%pi</code> in the output.</p> <p>You can use this with mathematical input: <code>{@stack_disp_comma_separate([a,b,sin(pi)])@}</code> and you will get the result <code>a, b, sin(%pi/7)</code> (without the string quotes) because when a Maxima variable is a string we strip off the outside quotes and don't typeset this in maths mode.</p>"},{"location":"CAS/Maxima/#functions","title":"Functions","text":"<p>It is sometimes useful for the teacher to define functions as part of a STACK question.  This can be done in the normal way in Maxima using the notation.</p> <pre><code> f(x):=x^2;\n</code></pre> <p>Using Maxima's <code>define()</code> command is forbidden. An alternative is to define <code>f</code> as an \"unnamed function\" using the <code>lambda</code> command.</p> <pre><code> f:lambda([x],x^2);\n</code></pre> <p>Here we are giving a name to an \"unnamed function\" which seems perverse.  Unnamed functions are extremely useful in many situations.</p> <p>For example, a piecewise function can be defined by either of these two commands</p> <pre><code> f(x):=if (x&lt;0) then 6*x-2 else -2*exp(-3*x);\n f:lambda([x],if (x&lt;0) then 6*x-2 else -2*exp(-3*x));\n</code></pre> <p>You can then plot this using</p> <pre><code>{@plot(f(x),[x,-1,1])@}\n</code></pre>"},{"location":"CAS/Maxima/#maxima-gotchas","title":"Maxima \"gotcha\"s!","text":"<ul> <li>See the section above on assignment.</li> <li>Maxima does not have a <code>degree</code> command for polynomials.  We define one via the <code>hipow</code> command.</li> <li>Matrix multiplication is the dot, e.g. <code>A.B</code>. The star <code>A*B</code> gives element-wise multiplication.</li> <li>The atoms <code>a1</code> and <code>a_1</code> are not considered to be algebraically equivalent.</li> </ul>"},{"location":"CAS/Maxima/#further-information-and-links","title":"Further information and links","text":"<ul> <li>Minimal Maxima</li> <li>Maxima on SourceForge</li> </ul>"},{"location":"CAS/Maxima/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"CAS/Numbers/","title":"Numbers in STACK","text":"<p>Separate pages document</p> <ol> <li>numerical answer tests,</li> <li>complex numbers.</li> </ol>"},{"location":"CAS/Numbers/#precise-constants","title":"Precise Constants","text":"<p>In Maxima the special constants are defined to be</p> <pre><code>%i, %e, %pi\n</code></pre> <p>etc.   STACK also uses single letters, e.g.</p> <pre><code>e: %e\npi: %pi\n</code></pre> <p>Optionally, depending on the question settings, you have</p> <pre><code>i: %i\nj: %i\n</code></pre> <p>Sometimes you need to use , or other constants, as an abstract symbol not a number.  The Maxima solution is to use the <code>kill()</code> command, but for security reasons users of STACK are not permitted to use this function. Instead use <code>stack_reset_vars(true)</code> in the question variables.  This resets all the special constants defined by STACK so the symbols can be redefined in an individual STACK question.  (On Maxima 5.42.1 (and possibly others) <code>stack_reset_vars(true)</code> also resets <code>ordergreat</code>, so if you need to use <code>stack_reset_vars(true)</code> it must be the first command the question variables.  Since this has been fixed in Maxima 5.44.0, it was probably a bug in Maxima.)</p>"},{"location":"CAS/Numbers/#modular-arithmetic","title":"Modular arithmetic","text":"<p>The function <code>recursemod(ex, n)</code> recurses over an expression tree, and applies the function <code>mod(?, n)</code> to any numbers as identified by <code>numberp</code>.  This works on any expression, whereas <code>polymod</code> only applies to polynomials.</p>"},{"location":"CAS/Numbers/#internal-representation-of-numbers","title":"Internal representation of numbers","text":"<p>Maxima has two data types to represent numbers: integers and floats.  Rational numbers are expressed as a division of two integers not with a dedicated data type, and surds with fractional powers or the <code>sqrt</code> function. The option Surd for Square Root enables the question author to alter the way surds are displayed in STACK.</p> <p>Similarly, complex numbers are not represented as a single object, but as a sum of real and imaginary parts, or via the exponential function. The input and display of complex numbers is difficult, since differences exist between mathematics, physics and engineering about which symbols to use. The option sqrt(-1) is set in each question to sort out meaning and display.</p>"},{"location":"CAS/Numbers/#floating-point-numbers-floats","title":"Floating point numbers ## {#Floats}","text":"<ul> <li>To convert to a float use Maxima's <code>float(ex)</code> command.</li> <li>To convert a float to an exact representation use <code>rat(x)</code> to rationalise the decimal.</li> </ul> <p>The variable  has been defined as <code>e:exp(1)</code>.  This now potentially conflicts with scientific notation <code>2e3</code> which means <code>2*10^3</code>.    </p> <p>If you expect students to use scientific notation for numbers, e.g. <code>3e4</code> (which means  ), then you may want to use the option for strict syntax.  </p> <p>Internally Maxima represents floats in binary, and so even simple calculations which would be exact in base ten (e.g. adding 0.16 to 0.12) might end up in a recurring decimal float which is not exactly equal to the result you would type in directly.  </p> <p>Try <code>452-4.52*10^2</code> in desktop Maxima, which is not zero, therefore <code>ATAlgEquiv(452,4.52*10^2)</code> fails. (Maxima 5.44.0, November 2022).   ends up with recurring 9s when represented as a binary float, so it is not algebraically equivalent to the integer .</p> <p>Rounding like this can also occur in calculations, for example</p> <pre><code>p1:0.29;\np2:0.18;\np3:0.35;\nv0:1-(p1+p2+p3);\nv1:0.18;\n</code></pre> <p>Then Maxima returns <code>0.18</code> for <code>v0</code>, (as expected) but <code>v0-v1</code> equals  and so <code>ATAlgEquiv(v0,v1)</code> will give false.  Please always use a numerical test when testing floats.</p>"},{"location":"CAS/Numbers/#maxima-and-floats-with-trailing-zeros","title":"Maxima and floats with trailing zeros","text":"<p>For its internal representation, Maxima always truncates trailing zeros from a floating point number.  For example, the Maxima expression <code>0.01000</code> will be converted internally to <code>0.01</code>.  Actually this is a byproduct of the process of converting a decimal input to an internal binary float, and back again.  Similarly, when a number is a \"float\" datatype, Maxima always prints at least one decimal digit to indicate the number is a float.  For example, the floating point representation of the number ten is .  This does not indicate significant figures, rather it indicates data type.  In situations where the number of significant figures is crucial this is problematic.</p> <p>Display of numbers in STACK is controlled with LaTeX, and the underlying LISP provides flexible ways to represent numbers.</p> <p>Note, that apart from the units input, all other input types truncate the display of unnecessary trailing zeros in floating point numbers, loosing information about significant figures.  So, when the student's answer is a floating point number, trailing zeros will not be displayed.  If you want to specifically test for significant figures, use the units input type, with the teacher's answer having no units.  The units input type should display the same number of significant figures as typed in by the student.  </p>"},{"location":"CAS/Numbers/#display-of-numbers-with-latex","title":"Display of numbers with LaTeX","text":"<p>The display of numbers is controlled by Maxima's <code>texnumformat</code> command, which STACK modifies.</p> <p>Stack provides two variables to control the display of integers and floats respectively.  The default values are</p> <pre><code>stackintfmt:\"~d\";\nstackfltfmt:\"~a\";\n</code></pre> <p>These two variables control the output format of integers (identified by the predicate <code>integerp</code>) and floats (identified by the predicate <code>floatnump</code>) respectively.  These variables persist, so you need to define their values each time you expect them to change.</p> <p>These variables must be assigned a string following Maxima's <code>printf</code> format.</p> <p>These variables can be defined in the question variables, for global effect.  They can also be defined inside a Maxima block to control the display on the fly, and for individual expressions.  For example, consider the following CASText.</p> <pre><code>The decimal number {@n:73@} is written in base \\(2\\) as {@(stackintfmt:\"~2r\",n)@}, in base \\(7\\) as {@(stackintfmt:\"~7r\",n)@}, in scientific notation as {@(stackintfmt:\"~e\",n)@} and in rhetoric as {@(stackintfmt:\"~r\",n)@}.\n</code></pre> <p>The result should be \"The decimal number  is written in base  as , in base  as , in scientific notation as  and in rhetoric as .\"</p> <p>To force all floating point numbers to scientific notation use</p> <pre><code>stackfltfmt:\"~e\";\n</code></pre> <p>To force all floating point numbers to decimal floating point numbers use</p> <pre><code>stackfltfmt:\"~f\";\n</code></pre> <p>You can also force all integers to be displayed as floating point decimals or in scientific notation using <code>stackintfmt</code> and the appropriate template.  This function calls the LISP <code>format</code> function, which is complex and more example are available online elsewhere.</p> Template Input TeX Output Description/notes <code>\"~,4f\"</code> <code>0.12349</code> Output four decimal places: floating point. <code>0.12345</code> Note the rounding. <code>0.12</code> <code>\"~,5e\"</code> <code>100.34</code> Output five decimal places: scientific notation. <code>\"~:d\"</code> <code>10000000</code> Separate decimal groups of three digits with commas. <code>~r</code> <code>9</code> Rhetoric. <code>~:r</code> <code>9</code> Ordinal rhetoric. <code>~7r</code> <code>9</code> Base 7. <code>~@r</code> <code>9</code> Roman numerals. <code>~:@r</code> <code>9</code> Old style Roman numerals. <p>There are many other options within the LISP format command. Please note with the rhetoric and Roman numerals that the numbers will be in LaTeX mathematics environments.</p> <p>Note that the <code>@</code> symbol is currently not parsed correctly inside strings within CASText.  That is to say, you cannot currently type <code>{@(stackintfmt:\"~@r\",4)@}</code> into CASText.  This is a known bug.  To avoid this problem, define a variable in the question variables (e.g. <code>roman:\"~@r\";</code>) and use the variable name in the CASText (e.g. <code>{@(stackintfmt:roman,4)@}</code>).</p> <p>Maxima has a separate system for controlling the number of decimal digits used in calculations and when printing the value of computed results.  Trailing zeros will not be printed with the value.  This is controlled by Maxima's <code>fpprec</code> and <code>fpprintprec</code> variables.  The default for STACK is</p> <pre><code>fpprec:20,          /* Work with 20 digits. */\nfpprintprec:12,     /* Print only 12 digits. */\n</code></pre>"},{"location":"CAS/Numbers/#notes-about-numerical-rounding","title":"Notes about numerical rounding","text":"<p>There are two ways to round numbers ending in a digit .  </p> <ul> <li>Always round up, so that , ,  etc.</li> <li>Another common system is to use ``Bankers' Rounding\". Bankers Rounding is an algorithm for rounding quantities to integers, in which numbers which are equidistant from the two nearest integers are rounded to the nearest even integer. , ,  etc.  The supposed advantage to bankers rounding is that in the limit it is unbiased, and so produces better results with some statistical processes that involve rounding.</li> <li>In experimental work, the number of significant figures requires sometimes depends on the first digits of the number.  For example, if the first digit is a  or  then we need to take an extra significant figure to ensure the relative error is suitably small.  The maxima string functions can be used to check the first digit of a number until we have bespoke internal functions to make this check.</li> </ul> <p>Maxima's <code>round(ex)</code> command rounds multiples of 1/2 to the nearest even integer, i.e. Maxima implements Bankers' Rounding.  We do not currently have an option to always round up.</p> <p>STACK has defined the function <code>significantfigures(x,n)</code> to conform to convention of rounding up.</p>"},{"location":"CAS/Numbers/#stack-numerical-functions-and-predicates","title":"STACK numerical functions and predicates","text":"<p>The following commands which are relevant to manipulation of numbers are defined by STACK.</p> Command Description <code>significantfigures(x,n)</code> Truncate  to  significant figures (does perform rounding). <code>decimalplaces(x,n)</code> Truncate  to  decimal places  (does perform rounding). <code>commonfaclist(l)</code> Returns the highest common factors of a list of numbers. <code>list_expression_numbers(ex)</code> Create a list with all parts for which <code>numberp(ex)=true</code>. <code>coeff_list(ex,v)</code> This function takes an expression  and returns a list of coefficients of . <code>coeff_list_nz(ex,v)</code> This function takes an expression  and returns a list of nonzero coefficients of . <code>numabsolutep(sa,ta,tol)</code> Is  within  of ? I.e. ( <code>numrelativep(sa,ta,tol)</code> Is  within  of ? I.e. ( <p>The following commands generate displayed forms of numbers.  These will not be manipulated further automatically, so you will need to use these at the last moment, e.g. only when generating the teacher's answer etc.</p> Command Description <code>dispdp(x,n)</code> Truncate  to  decimal places and display with trailing digits.  Note, this always prints as a float (or integer), and not in scientific notation. <code>dispsf(x,n)</code> Truncate  to  significant figures and display with trailing digits.  Note, this always prints as a float, and not in scientific notation. <code>scientific_notation(x,n)</code> Write  in the form .   Only works reliably with <code>simp:false</code> (e.g. try 9000).  The optional second argument applies <code>displaysci(m,n)</code> to the mantissa to control the display of trailing zeros. <code>displaydp(x,n)</code> An inert internal function to record that  should be displayed to  decimal places with trailing digits.  This function does no rounding. <code>displaysci(x,n,expo)</code> An inert internal function to record that  should be displayed to  decimal places with trailing digits, in scientific notation.  E.g. . Function Predicate <code>simp_numberp(ex)</code> Fixes <code>numberp(ex)</code> for <code>simp:false</code>. <code>real_numberp(ex)</code> Determines if  is a real number.  This includes surds and symbolic numbers such as . <code>lowesttermsp(ex)</code> Is the rational expression in its lowest terms? <code>anyfloatex(ex)</code> Decides if any floats are in the expression. <code>scientific_notationp(ex)</code> Determines if  is written in the form  where  is an integer or float, and  is an integer."},{"location":"CAS/Numbers/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"CAS/Permutations/","title":"Writing a permutation as a product of disjoint cycles","text":"<p>Let  </p> <p>In pure mathematics we might ask students to write a permutation such as this as a product of disjoint cycles.</p> <p>One way to do this is to expect students to write their answer as a list, including the one-cycles. e.g. the permutation  is entered as <code>[[1],[2, 3]]</code>.</p> <p>This list can be turned into a set of lists, so that the order of disjoint cycles is not important.  However, we need to write each cycle in a particular way.  For example, we would want <code>[2, 3, 4]</code> and <code>[3, 4, 2]</code> to be considered as equivalent.</p> <p>One way to do this is to make sure the first element in the list is the minumum element in the list, by cycling through the list.  Essentially, we ensure each cycle is re-written in a definite form.  The following code does this for one cycle.  This function can be used in the question variables.</p> <pre><code>/* Write a cycle with the smallest element at the front.  Gives a definite order. */\nperm_min_first(ex) := block(\n    if length(ex)&lt;2 then return(ex),\n    if is(first(ex)&lt;apply(min, rest(ex))) then return(ex),\n    return(perm_min_first(append(rest(ex), [first(ex)])))\n);\n</code></pre> <p>Assume the student's answer <code>ans1</code> is entered as <code>[[1],[2, 3]]</code>.  In the feeback variables make sure each list in <code>ans1</code> has the smallest element first with the following code.</p> <pre><code>sa1:maplist(perm_min_first, ans1);\n</code></pre> <p>Then compare <code>setify(sa1)</code> with the teacher's answer (which needs to be processed in a similar way) using algebraic equivalence (quiet).</p> <p>This is a good example of where we do not have a specific data type and corresponding methods for equivalence, but the pre-processing of a student's answer will make sure we can establish the relevant equivalence.</p>"},{"location":"CAS/Plots/","title":"Plots and graphics in STACK questions.","text":"<p>Plots and graphics can be placed into any of the CASText fields.</p> <p>The main way to create plots with the core STACK commands is using Maxima.  As of version 4.0, the tags <code>{#...#}</code> provide the possibility to interact with 3rd party scripts.  If you have examples of this, please contact the developers.  This page is about core supported functionality.</p>"},{"location":"CAS/Plots/#plot-plot","title":"plot() {#plot}","text":"<p>In STACK, the <code>plot</code> command has been defined to be a wrapper for Maxima's <code>plot2d</code> command.  The wrapper makes sure that an image file is given an appropriate name, file location, and that Maxima returns a URL to the user giving the image.  Not all of the features of <code>plot2d</code> are available through <code>plot</code>.  </p> <p>Try, for example, the following in the question stem.</p> <pre><code>{@plot(x^2,[x,-1,1])@}\n</code></pre> <p>You can add a second variable to control the axes.</p> <pre><code>plot(x^2,[x,-1,1],[y,0,2])\n</code></pre> <p>However, Maxima will not always allow you to get the axes you want (this is a bug in Maxima). To get many plots in one window, we need to define a list of expressions.</p> <pre><code>plot([x^2,sin(x)],[x,-1,1])\n</code></pre> <p>This can be done with Maxima's <code>makelist</code> command</p> <pre><code>(p(k):=x^k,pl:makelist(p(k),k,1,5),plot(pl,[x,-1,1]))\n</code></pre> <p>Notes:</p> <ul> <li>Currently STACK has <code>gnuplot</code> return a basic SVG image.</li> <li>Only a very few of Maxima's <code>plot_options</code> are respected by <code>plot</code>, mainly for security reasons.  (<code>plot</code> calls an external command <code>gnuplot</code> which writes to the server filesystem.)</li> <li>The <code>draw</code> package is currently not supported.</li> <li>To change the size of the image use the Maxima variable <code>size</code>, e.g. <code>plot(x^2,[x,-1,1],[size,250,250])</code>.</li> <li>By default plots are surrounded by the <code>&lt;div class=\"stack_plot\"&gt;</code>.  This puts whitespace around a plot, and places the plot in the centre of the screen.  To suppress this <code>div</code> use the option <code>[plottags,false]</code>.</li> </ul>"},{"location":"CAS/Plots/#traditional-axes","title":"Traditional axes","text":"<p>Note: this example only works with newer versions of Maxima (and not before 5.31.3).</p> <p>A traditional plot with the axes in the middle can be generated by the following.</p> <pre><code>{@plot([x^2/(1+x^2),2*x/(1+x^2)^2], [x, -2, 2], [y,-2.1,2.1], [box, false], [yx_ratio, 1], [axes, solid], [xtics, -2, 0.5, 2],[ytics, -2, 0.5, 2])@}\n</code></pre>"},{"location":"CAS/Plots/#labels","title":"Labels","text":"<p>The <code>ylabel</code> command rotates its argument through 90 degrees.  If you want a horizontal label on the -axis you will need to use the <code>label</code> command instead.</p> <pre><code>{@plot([x^2/(1+x^2),2*x/(1+x^2)^2], [x, -2, 2], [y,-2.1,2.1], [label,[\"y\",-2.5,0.25]])@}\n</code></pre>"},{"location":"CAS/Plots/#grid","title":"Grid","text":"<p>The grid is controlled by the maxima command <code>grid2d</code> (newer versions of Maxima only).  Compare the following.</p> <pre><code>{@plot([x^2/(1+x^2),2*x/(1+x^2)^2], [x, -2, 2], [y,-2.1,2.1], grid2d)@}\n{@plot([x^2/(1+x^2),2*x/(1+x^2)^2], [x, -2, 2], [y,-2.1,2.1])@}\n</code></pre>"},{"location":"CAS/Plots/#options","title":"Options","text":"<p>The following <code>plot</code> options are currently supported by STACK.   If you would like to expand the range of options available please contact the developers.</p> <pre><code>[xlabel, ylabel, label, legend, color, style, point_type, nticks, logx, logy, axes, box, plot_realpart, yx_ratio, xtics, ytics, ztic, grid2d],\n</code></pre> <p>Please see Maxima's documentation for more information on these options.  Note that the <code>draw</code> package is currently not supported.</p> <p>Notes on some of the options.</p> <ul> <li>The default in Maxima is to include a legend consisting of a <code>string</code> representation of the plot.  In STACK this is turned off by default.  To switch it back on, use the command <code>[legend, true]</code>.  Any other value of the option <code>legend</code> will respect the original command.</li> </ul>"},{"location":"CAS/Plots/#alternate-text-for-an-image-alt-tag-alttext","title":"Alternate text for an image (alt tag) {#alttext}","text":"<p>The default alternate text for an image (img alt tag) generated by a plot command such as</p> <pre><code>plot(x^2,[x,-2,2]);\n</code></pre> <p>is \"STACK auto-generated plot of x^2 with parameters [[x,-2,2]]\".  If your question asks students to \"give an algebraic expression which describes this curve\" then you will need to set alternative text which does not include the answer.</p> <p>To set a specific alt tag, pass an equation <code>[alt,\"...\"]</code> as an argument to the plot function.</p> <pre><code>plot(x^2,[x,-2,2],[alt,\"Hello world\"]);\n</code></pre> <p>If you would like an expression as part of this then try</p> <pre><code>p:sin(x);\nplot(p,[x,-2,2],[alt,sconcat(\"Here is \",string(p))]);\n</code></pre>"},{"location":"CAS/Plots/#language-strings","title":"Language strings","text":"<p>Note, you cannot put language strings directly into the alt-text.  E.g. the following will not be translated.</p> <pre><code>{@plot(x^2,[x,-2,2],[alt,\"[[lang code='en,other']]A quadratic curve[[/lang]][[lang code='no']]En kvadratisk kurve[[/lang]]\"])@}\n</code></pre> <p>You can define a castext element in the question variables which does get translated, e.g.</p> <pre><code>altlbls: castext(\"[[lang code='en,other']]A quadratic curve[[/lang]][[lang code='no']]En kvadratisk kurve[[/lang]]\");\n</code></pre> <p>and then use this in the castext:</p> <pre><code>{@plot(x^2,[x,-2,2],[alt,altlbls])@}\n</code></pre> <p>This technique can be put into other language dependent plot variables.  E.g.</p> <pre><code>xlabeltrans: castext(\"[[lang code='en,other']]Independent variable[[/lang]][[lang code='no']]Uavhengig variabel[[/lang]]\");\nylabeltrans: castext(\"[[lang code='en,other']]Dependent variable[[/lang]][[lang code='no']]Avhengig variabel[[/lang]]\");\n</code></pre> <p>Then in the castext <code>{@plot(x*sin(1/x),[x,-1,2],[xlabel,xlabeltrans],[ylabel,ylabeltrans])@}</code></p>"},{"location":"CAS/Plots/#a-catalogue-of-plots","title":"A catalogue of plots","text":"<p>The following CASText gives representative examples of the plot2d features supported by STACK's plot command.  Cut and paste it into the CASchat script.  Beware that these are likely to cause a timeout on the CAS if you try them all at once.</p> <pre><code>&lt;h3&gt;Basic plot&lt;/h3&gt;\n{@plot(x^2,[x,-2,2])@}\nThe following plot tests the option to explicitly test the alt-text.\n{@plot(x^3,[x,-3,3], [alt,\"What is this function?\"])@}\n&lt;h3&gt;Multiple graphs, clips the \\(y\\) values&lt;/h3&gt;\n{@plot([x^3,exp(x)],[x,-2,2],[y,-4,4])@}\n&lt;h3&gt;With and without a grid&lt;/h3&gt;\n{@plot([x^2/(1+x^2),2*x/(1+x^2)^2], [x, -2, 2], [y,-2.1,2.1], grid2d)@}\n{@plot([x^2/(1+x^2),2*x/(1+x^2)^2], [x, -2, 2], [y,-2.1,2.1])@}\n&lt;h3&gt;Discrete plots&lt;/h3&gt;\nBasic discrete plot.\n{@plot([discrete,[[0,0],[1,1],[0,2]]])@}\nPoints: by default the points are too large!\n{@plot([discrete,[[0,0], [1,1], [1.5,(1.5)^2]]],[x,-2,2],[style, [points]],[point_type, bullet])@}\n{@plot([discrete,[[0,0], [1,1], [1.5,(1.5)^2]]],[x,-2,2],[style, [points, 1]],[point_type, bullet])@}\nNotice the size of the points is controlled by the second argument in the list `[points, 1]`.  This is documented in Maxima under \"Plot option: style\".  A more complicated example is below.\n{@plot([[discrete,[[0,0], [1,1], [1.5,(1.5)^2]]],[discrete,[[0,0.1], [0.75,1], [1.25,1.5]]]],[style, [points, 1, red, 1 ], [points, 1.5, blue, 1]])@}\nCombination of discrete plots with normal plots.\n{@plot([x^2, [discrete,[ [0,0], [1,1], [0,2]]]],[x,-2,2])@}\n{@plot([x^2, [discrete,[ [0,0], [1,1], [1.5,(1.5)^2]]]],[x,-2,2],[style, lines, [points, 1]],[point_type, bullet])@}\n{@plot([[discrete,[[30,7]]], -0.4*x+19],[x,0,60],[y,0,20],[style, points, lines], [color, red, blue],[point_type, asterisk])@}\n{@plot([[discrete,[[10, 0.6], [20, 0.9], [30, 1.1], [40, 1.3], [50, 1.4]]], 2*%pi*sqrt(l/980)], [l,0,50],[style, points, lines], [color, red, blue],[point_type, asterisk])@}\nUsing different point styles.\n{@plot([[discrete, [[10, .6], [20, .9], [30, 1.1],[40, 1.3], [50, 1.4]]],[discrete, [[11, .5], [15, .9], [25, 1.2],[40, 1.3], [50, 1.4]]]],[style, points],[point_type,circle,square],[color,black,green])@}\n&lt;h3&gt;Parametric plots&lt;/h3&gt;\n{@plot([parametric, cos(t), sin(3*t), [t,0,2*%pi]], [nticks, 500])@}\n&lt;h3&gt;Setting non-trivial options: labels on the axes and legend&lt;/h3&gt;\n{@plot([x^2/(1+x^2),diff(x^2/(1+x^2),x)],[x,-1,2],[legend,true])@}\n{@plot(x*sin(1/x),[x,-1,2],[xlabel,\"Independent variable\"],[ylabel,\"Dependent variable\"],[legend,\"This is a plot\"])@}\n&lt;h3&gt;Log scale for y-axis, with red colour&lt;/h3&gt;\n{@plot(exp(3*s),[s, -2, 2],[logy], [color,red])@}\n&lt;h3&gt;Turn off the box, grid and the axes&lt;/h3&gt;\nDefault options\n{@plot([parametric, (exp(cos(t))-2*cos(4*t)-sin(t/12)^5)*sin(t), (exp(cos(t))-2*cos(4*t)-sin(t/12)^5)*cos(t), [t, -8*%pi, 8*%pi]], [nticks, 100])@}\n&lt;tt&gt;[axes, false]&lt;/tt&gt;\n{@plot([parametric, (exp(cos(t))-2*cos(4*t)-sin(t/12)^5)*sin(t), (exp(cos(t))-2*cos(4*t)-sin(t/12)^5)*cos(t), [t, -8*%pi, 8*%pi]], [nticks, 100], [axes,false])@}\n&lt;tt&gt;[box, false]&lt;/tt&gt;\n{@plot([parametric, (exp(cos(t))-2*cos(4*t)-sin(t/12)^5)*sin(t), (exp(cos(t))-2*cos(4*t)-sin(t/12)^5)*cos(t), [t, -8*%pi, 8*%pi]], [nticks, 100], [box,false])@}\n&lt;h3&gt;Putting the axes in the middle&lt;/h3&gt;\n{@plot([x^2/(1+x^2),2*x/(1+x^2)^2], [x, -2, 2], [y,-2.1,2.1], [box, false], [yx_ratio, 1], [axes, solid], [xtics, -2, 0.5, 2],[ytics, -2, 0.5, 2])@}\n</code></pre>"},{"location":"CAS/Plots/#piecewise-functions","title":"Piecewise functions","text":"<p>A piecewise function can be defined with <code>if</code> statements.</p> <pre><code>/* Piecewise function at x0, with discontinuity. */\nf0:x^3\nf1:sin(x)\nx0:2\npg1:if x&lt;(x0-1/1000) then f0 else if x&lt;x0+1/1000 then 5000 else f1;\n</code></pre> <p>Notes:</p> <ol> <li>Do not use functions, but instead have the conditional statement return an expression.  This seems odd, but Maxima's plot command plots expressions not functions.</li> <li>Note the use of a small gap to create a discontinuous graph.  If you want a larger gap, that is fine as well.</li> </ol> <p>Now use the CASText:</p> <pre><code>{@plot(pg1,[x,(x0-5),(x0+5)],[y,-10,10])@}\n</code></pre> <p>For a discontinuous function, with the endpoints circled etc. try adding some of the following options.</p> <pre><code>f0:x^3\nf1:sin(x)\nx0:2\npg1:if x&lt;(x0-1/1000) then f0 else if x&lt;x0+1/1000 then 5000 else f1;\nps:[style, lines, points, points];\npt:[point_type,circle,circle,bullet];\npc:[color, blue,red,blue];\n</code></pre> <p>Now use the CASText:</p> <pre><code>{@plot([pg1, [discrete,[ [x0,ev(f0,x=x0)], [x0,ev(f1,x=x0)]]], [discrete,[ [x0,ev((f0+f1)/2,x=x0)]]] ], [x,(x0-5),(x0+5)], [y,-10,10], ps, pt, pc)@}\n</code></pre>"},{"location":"CAS/Plots/#graph-theory","title":"Graph theory","text":"<p>It is possible to plot simple discrete graphs directly using STACK's <code>plot</code> command by building a combination of discrete and line plots.</p>"},{"location":"CAS/Plots/#implicit_plot-implicit","title":"implicit_plot()  {#implicit}","text":"<p>In Maxima</p> <pre><code>load(\"implicit_plot\");\nimplicit_plot(x^2+y^2=x^2*y^2+1,[x,-2,2],[y,-2,2]);\n</code></pre> <p>generates a plot of an implicit function.</p> <p>Maxima's <code>implicit_plot()</code> function does not respect the plot options, and we cannot place the resulting plot files in the correct places. Hence, STACK does not currently support implicit plots.</p>"},{"location":"CAS/Plots/#html","title":"HTML","text":"<p>Note also that images can be included as HTML.  It is easiest to place your image somewhere on the internet and include a URL in the body of your STACK question.</p>"},{"location":"CAS/Plots/#bode-plots","title":"Bode plots","text":"<p>Maxima has a very basic package for bode diagrams, try <code>load(bode)</code> in a Maxima session.  This is not a supported package, so instead you can create Bode diagrams directly with code such as the following.</p> <pre><code>/* Define two functions to do the plotting */\nbose_gain(f,r):=block([p,w], p:plot(20*log(abs( apply(f,[%i*w]) ))/log(10), [w, r[2],r[3]], [logx]), return(p) );\nbose_phase(f,r):=block([p,w], p:plot(  carg(  apply(f,[%i*w]))*180/%pi, [w, r[2],r[3]], [logx]), return(p) );\n/* Define a transfer function */\nH(s):=100*(1+s)/((s+10)*(s+100));\n\n/* Produce the graphs */\ngain: bose_gain(H,[w,1/1000,1000]);\nphase:bose_phase(H,[w,1/1000,1000]);\n</code></pre>"},{"location":"CAS/Plots/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"CAS/Predicate_functions/","title":"Predicate functions","text":"<p>A predicate function takes an expression and returns Boolean values <code>true</code> or <code>false</code>.</p> <p>The convention in Maxima is to end predicate functions with the letter \"p\". Many predicate functions exist already within Maxima.  Some of the more useful to us are listed below.   STACK defines an additional range of predicate functions.  Some are described here, others are in the relevant specific sections of the documentation, such as numbers.</p> <p>Since establishing mathematical properties are all about predicates they are particularly important for STACK.</p> <p>You can use predicate functions directly in the potential response tree by comparing the result with <code>true</code> using the answer test AlgEquiv.</p>"},{"location":"CAS/Predicate_functions/#maxima-type-predicate-functions","title":"Maxima type predicate functions","text":"<p>The following are a core part of Maxima, but there are many others.  Notice, predicate functions end in the letter \"p\".</p> Function Predicate <code>floatnump(ex)</code> Determines if  is a float. <code>numberp(ex)</code> Determines if  is a number.  NOTE <code>numberp</code> returns <code>false</code> if its argument is a symbol, even if the argument is a symbolic number such as ,  or , or declared to be even, odd, integer, rational, irrational, real, imaginary, or complex.   This function also does not work when <code>simp:false</code>, so see the dedicated page on numbers. <code>setp(ex)</code> Determines if  is a set. <code>listp(ex)</code> Determines if  is a list. <code>matrixp(ex)</code> Determines if  is a matrix. <code>polynomialp(ex,[v])</code> Determines if  is a polynomial in the list of variables v."},{"location":"CAS/Predicate_functions/#stack-type-predicate-functions","title":"STACK type predicate functions","text":"<p>The following type predicates are defined by STACK.</p> Function Predicate <code>variablep(ex)</code> Determines if  is avariable, that is an atom but not a real numberm,  or a string. <code>equationp(ex)</code> Determines if  is an equation. <code>functionp(ex)</code> Determines if  is a function definition, using the operator <code>:=</code>. <code>inequalityp(ex)</code> Determines if  is an inequality. <code>expressionp(ex)</code> Determines if  is not a matrix, list, set, equation, function or inequality. <code>polynomialpsimp(ex)</code> Determines if  is a polynomial in its own variables. <code>simp_numberp(ex)</code> Determines if  is a number when <code>simp:false</code>. <code>simp_integerp(ex)</code> Determines if  is an integer when <code>simp:false</code>. <code>real_numberp(ex)</code> Determines if  is a real number. <code>rational_numberp(ex)</code> Determines if  is written as a fraction.  For a true mathematical rational number use <code>rational_numberp(ex) or simp_integerp(ex)</code> <code>lowesttermsp(ex)</code> Determines if a fraction  is in lowest terms. <code>complex_exponentialp(ex)</code> Determines if  is written in complex exponential form, .  Needs <code>simp:false</code>. <code>imag_numberp(ex)</code> Determines if  is a purely imaginary number."},{"location":"CAS/Predicate_functions/#stack-general-predicates","title":"STACK general predicates","text":"<p>The following are defined by STACK.</p> Function Predicate <code>element_listp(ex,l)</code> <code>true</code> if <code>ex</code> is an element of the list .  (Sets have <code>elementp</code>, but lists don't) <code>all_listp(p,l)</code> <code>true</code> if all elements of  satisfy the predicate . <code>any_listp(p,l)</code> <code>true</code> if any elements of  satisfy the predicate . <code>sublist(l,p)</code> Return a list containing only those elements of the list  for which the predicate p is true <p>(The last of these is core Maxima and is not, strictly speaking, a predicate function)</p>"},{"location":"CAS/Predicate_functions/#stack-other-predicate-functions","title":"STACK other predicate functions","text":"Function Predicate <code>expandp(ex)</code> true if  equals its expanded form. <code>factorp(ex)</code> true if  equals its factored form.  Note, if you would like to know if an expression is factored you need to use the FacForm answer test.  Prime integers equal their factored form, composite integers do not. <code>continuousp(ex,v,xp)</code> true if  is continuous with respect to  at  (unreliable). <code>diffp(ex,v,xp,[n])</code> true if  is (optionally  times) differentiable with respect to  at  (unreliable). <p>The last two functions rely on Maxima's <code>limit</code> command and hence are not robust.</p>"},{"location":"CAS/Predicate_functions/#establishing-form","title":"Establishing form","text":"<p>A lot of what teachers do is try to establish if a student's answer \"looks right\" that is, in an appropriate form.</p> <p><code>linear_term_p(ex, p)</code> establishes that the expression <code>ex</code> is a simple product of one expression for which the predicate <code>p</code> is true and zero or more real numbers.</p> <p><code>linear_combination_p(ex, p)</code> establishes that the expression <code>ex</code> is a linear combination of terms for which <code>p</code> is true.</p> <p>The teacher can then use this function to build more complex predicates such as the following</p> <pre><code>fouriertermp(ex) := if ((safe_op(ex)=\"cos\" or safe_op(ex)=\"sin\") and linear_term_p(first(args(ex)), variablep)) then true else false$\n</code></pre> <p>This predicate function decides if we have a term of the form  or  where  is any product of real numbers (e.g. ) and  is any variable.  A teacher might prefer to specify a particular variable.</p> <pre><code>fouriertermp(ex) := if ((safe_op(ex)=\"cos\" or safe_op(ex)=\"sin\") and linear_term_p(first(args(ex)), lambda([ex2], ex2=t))) then true else false$\n</code></pre> <p>So, if you want to decide if the student's answer looks like  the combined predicate <code>linear_combination_p(ex, fouriertermp)</code> can be used.</p> <p>Testing for form in this way is probably more reliable that the <code>substequiv</code> answer test which fails to match up expressions like  with .  As every, the minus sign is a problem.  However, the following predicate will work.</p> <pre><code>simpletrigp(ex) := if (ex=cos(t) or ex=sin(t)) then true else false$\n</code></pre> <p>and the test <code>linear_combination_p(ex, simpletrigp)</code> will be able to do this.</p>"},{"location":"CAS/Predicate_functions/#related-functions","title":"Related functions","text":"<p>This is not, strictly speaking, a predicate function.  It is common to want to ensure that a student's expression is free of things like ,  or  in the denominator.  This include any complex numbers.</p> <p><code>rationalized(ex)</code> searches across the whole expression <code>ex</code> and looks in the denominators of any fractions.  If the denominators are free of such things the function returns <code>true</code> otherwise the function returns the list of offending expressions.  This design allows efficient feedback of the form ``the denominator in your expression should be free of the following: ...\".</p>"},{"location":"CAS/Predicate_functions/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"CAS/Random/","title":"Random objects","text":"<p>STACK can generate structured random objects.  STACK provides a Maxima function <code>rand()</code> which can be used in the question and answer variables.</p> <p>STACK creates pseudo-random numbers from a definite seed. This ensures that when a particular student returns they see the same variant of the question. (Note to site maintainers: if you upgrade your Maxima version mid-way through an academic cycle, then there is no gurantee that the random numbers will remain the same.  It is unlikley Maxima will change its random number generation between versions, but if it important to you please check first!)</p> <p>For the purposes of learning and teaching, we do not need an algorithm which is statistically perfect. We are much more interested in simplicity, efficiency and reproducibility across platforms. Hence, we adopt pseudo-random numbers.</p> <p>It is very important to test each random version a student is likely to see and not to leave this to chance.  To pre-generate and test random variants see the separate documentation on deploying random variants.</p>"},{"location":"CAS/Random/#rand-rand","title":"rand() {#rand}","text":"<p>STACK provides its own function <code>rand()</code>.</p> <ul> <li><code>rand(n)</code> generates an integer between  and .</li> <li><code>rand(n.0)</code> generates a floating point number between  and .  It is probably more useful to use something like a=float(rand(1000)/1000)   to obtain an accurate number of decimal places.  An alternative is to use the Maxima function <code>round()</code></li> <li><code>rand([a,b,...,z])</code> makes a random selection from a list.</li> <li><code>rand({a,b,...,z})</code> makes a random selection from a set.</li> <li><code>rand(matrix(..))</code> applies rand to each element of the matrix.</li> </ul> <p>STACK provides the following functions for random generation of sets.</p> <ul> <li><code>random_subset(u)</code> returns a random subset of <code>u</code>.</li> <li><code>random_subset_n(u,n)</code> returns a random subset of <code>u</code> with <code>n</code> elements (if possible).</li> <li><code>random_ne_subset(u)</code> returns a non-empty random subset of <code>u</code>.</li> </ul> <p>There are also Maxima's random functions.  For example, to create a random list use <code>random_permutation</code>.</p> <p>It is probably much better not to use conditional statements when creating random objects. For example, if you would like to create a random small prime number, try</p> <pre><code>p : rand([2,3,5,7,11,13,17,19]);\n</code></pre> <p>This might not appear to be the neatest mathematical solution, but it is probably the most reliable.</p>"},{"location":"CAS/Random/#rand_with_steplowerupperstep","title":"rand_with_step(lower,upper,step)","text":"<p>Returns a random number from the set <code>{lower, lower+step, lower+2*step, ... , final}</code>. The examples below explain behaviour the best. Examples:</p> <ul> <li><code>rand_with_step(-5,5,1)</code> returns a random number from the set .</li> <li><code>rand_with_step(-5,5,2)</code> returns a random number from the set .</li> <li><code>rand_with_step(-5,3,3)</code> returns a random number from the set .</li> </ul> <p>The function <code>rand_range(lower,upper,step)</code> does the same thing.</p>"},{"location":"CAS/Random/#rand_with_prohiblowerupperlist","title":"rand_with_prohib(lower,upper,list)","text":"<p>Returns a random integer from the set [lower,upper] such that it cannot be any value in <code>list</code>. This list can include values which are also random variables, for example, generated by <code>rand_with_step</code>. Examples:</p> <ul> <li><code>rand_with_prohib(-5,5,[0])</code> returns a random number from the set .</li> <li><code>rand_with_prohib(-5,5,[-1,0,1,sqrt(pi)])</code> returns a random number from the set .</li> <li><code>rand_with_prohib(-5,3,[-5/2,a])</code> returns a random number from the set .</li> </ul> <p>This can be used with matrices, to generate a matrix with non-zero entries for example.  The unnamed function in this example ignores its arguments.</p> <pre><code>matrixmap(lambda([ex],rand_with_prohib(-5,5,[0])),zeromatrix(5,5));\n</code></pre> <p>To create a matrix of a random size you can use Maxima's <code>makelist</code> function, e.g.</p> <pre><code>M1:apply(matrix, makelist(makelist(2^n/3^m, n,1,4), m,1,3));\n</code></pre>"},{"location":"CAS/Random/#rand_selectionex-n","title":"rand_selection(ex, n)","text":"<p>Returns a list containing a random selection of <code>n</code> different items from the list/set <code>ex</code>.  If <code>ex</code> contains duplicates, then the result may also contain duplicates.</p>"},{"location":"CAS/Random/#rand_selection_with_replacementex-n","title":"rand_selection_with_replacement(ex, n)","text":"<p>Returns a list containing a random selection of <code>n</code> items from the list/set <code>ex</code>.</p>"},{"location":"CAS/Random/#generating-random-polynomials","title":"Generating random polynomials","text":"<p>Here is an example which generates a random polynomial, of degree 5, with coefficients between 0 and 6.</p> <pre><code>apply(\"+\",makelist(rand(7)*x^(k-1),k,6));\n</code></pre>"},{"location":"CAS/Random/#generating-random-expressions-which-needs-to-be-gathered-and-sorted","title":"Generating random expressions which needs to be \"gathered and sorted\"","text":"<p>It is relatively common to want to be able to generate random expressions which need to be \"gathered and sorted\".  For example in  we need to collect together the  terms.</p> <pre><code>simp:false;\np:apply(\"+\",makelist(ev(rand_with_prohib(-5,5,[0])*y^rand(2),simp), ev(rand(6)+2,simp)));\np:unary_minus_sort(p);\n</code></pre> <p>Now, the output from the first expression will be a random expression in constants and  variables.   The second line tidies up the unary minus.  For more details of this, see simplification.</p> <pre><code>4*y+5*y+(-2*y)\n4*y+5*y-2*y\n</code></pre>"},{"location":"CAS/Random/#random-objects-with-corresponding-information","title":"Random objects with corresponding information","text":"<p>It is often necessary to generate a random object with a number of separate aspects to it.  For example, if you have scientific data and you need to include this in a question.</p> <pre><code>t:rand(5)+3;\nidx:rand(3)+1;  /* Array indexes in Maxima start at 1, rand(n) returns 0,...,n-1.  */\nl1:[\"Mercury\",\"Earth\",\"Mars\"];\nl2:[3.61,9.8,3.75];\np:l1[idx];\nta:t*l2[idx]/(4*%pi^2);\n</code></pre> <p>The question text can then be</p> <pre><code>A pendulum is located on {@p@}. What length should the pendulum have in order to have a period of {@t@}s?\n</code></pre> <p>This indexing with the variable <code>idx</code> is quite robust.  Note that indexes in Maxima start at , whereas <code>rand(n)</code> could return zero.</p> <p>Another option is to use <code>rand()</code> on a list of lists, allowing to group the information of an object in a slick way:</p> <pre><code>t:rand(5)+3;\n[p, g] : rand([[\"Mercury\",3.61], [\"Earth\",9.81], [\"Mars\",3.75]]);\nta:t*g/(4*%pi^2);\n</code></pre> <p>Here, <code>rand()</code> will return one random list of the given lists, say <code>[\"Earth\",9.81]</code>. The assigment <code>[p, g] : [\"Earth\",9.81]</code> then works as one would expect, namely just as <code>p : \"Earth\"; g : 9.81;</code> would.</p>"},{"location":"CAS/Random/#random-objects-satisfying-a-condition","title":"Random objects satisfying a condition","text":"<p>It is often necessary to create random objects which satisfy constraints.  For example, if you want to randomly generate a \"small\" prime number, just select one from a list.</p> <pre><code>p:rand([2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]);\n</code></pre> <p>It is much better to (i) enumerate specific cases or (ii) reverse engineer the question to avoid conditional statements than randomly generate examples and \"hope\" one pops up eventually.  The reason is that the pseudo-random number generator will repeat the process from a seed every time the question is generated!  If you put in loops, this could risk delays and time-outs etc.</p> <p>The following is NOT RECOMMENDED, but enough people have insisted on doing it to document this approach.</p> <p>If you must (and you risk an infinite loop of course....) you can use Maxima's <code>for</code> command.  A simple example is as follows.</p> <pre><code>q:1;\nfor k while not(is(primep(q))) do block(q:rand(98)+1);\n</code></pre>"},{"location":"CAS/Random/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"CAS/Real_Intervals/","title":"Real intervals and sets of real numbers","text":"<p>STACK has a simple system for representing and dealing with real intervals and sets of real numbers.</p> <p>Simple real intervals may be represented by the inert functions <code>oo(a,b)</code>, <code>oc(a,b)</code>, <code>co(a,b)</code>, and <code>cc(a,b)</code>.  Here the character <code>o</code> stands for open end point, and <code>c</code> for a closed end point.  So <code>oc(-1,3)</code> is the interval , and is displayed as  with mismatching brackets in the tradition of UK mathematics.</p> <p>The Maxima function <code>union</code> requires its arguments to be sets, and intervals are not sets.  You must use the <code>%union</code> function (from the package <code>to_poly_solve</code>) to join simple intervals and combine them with discrete sets. E.g. <code>%union(oo(-2,-1),oo(1,2))</code></p> <p>Note that the <code>%union</code> function sorts its arguments (unless you have <code>simp:false</code>), and sort puts simple intervals of the form <code>oo(-inf,a)</code> out of order at the right hand end. So, some sorting functions return lists of intervals, not <code>%union</code> as you might expect, to preserve the order.</p> <p>As arguments, the <code>%union</code> command can take both simple intervals and sets of discrete real numbers, e.g.</p> <pre><code>%union(oo(-inf,0),{1},oo(2,3));\n</code></pre> <p>Similarly, STACK provides <code>%intersection</code> to represent an intersection of intervals (which the package <code>to_poly_solve</code> does not have). </p> <p>Predicate functions</p> <ol> <li><code>intervalp(ex)</code> returns true if <code>ex</code> is a single simple interval.  Does not check <code>ex</code> is variable free, so <code>oo(a,b)</code> is a simple interval.   <code>{}</code>, <code>none</code>, <code>all</code> and singleton sets are not considered \"intervals\" by this predicate, use <code>realsetp</code> instead.  The primary purpose of this predicate is to detect intervals <code>oo</code>, <code>oc</code> etc within code.</li> <li><code>inintervalp(x, I)</code>  returns true if <code>x</code> is an element of <code>I</code> and false otherwise.  <code>x</code> must be a real number.  <code>I</code> must be a set of numbers or a simple interval of the form <code>oo(a,b)</code> etc.</li> <li><code>trivialintervalp(ex)</code> returns true if <code>ex</code> is a trivial interval such as .</li> <li><code>unionp(ex)</code> is the operator a union?</li> <li><code>intersectionp(ex)</code> is the operator an intersection?</li> <li><code>realsetp(ex)</code> return true if <code>ex</code> represents a definite set of real numbers, e.g. a union of intervals.  All end points and set elements must be real numbers, so <code>oo(a,b)</code> is not a <code>realset</code>.  If you want to permit variables in sets and as endpoints use <code>realset_soft_p</code> instead.</li> <li><code>interval_disjointp(I1, I2)</code> establishes if two simple intervals are disjoint.</li> <li><code>interval_subsetp(S1, S2)</code> is the real set <code>S1</code> contained within the real set <code>S2</code>?</li> <li><code>interval_containsp(I1, S2)</code> is the simple interval <code>I1</code> an explicit sub-interval within the real set <code>S2</code>?  No proper subsets here, but this is useful for checking which intervals a student has.</li> </ol> <p>Basic manipulation of intervals.</p> <ol> <li><code>interval_simple_union(I1, I2)</code> join two simple intervals.</li> <li><code>interval_sort(I)</code> takes a list of intervals and sorts them into ascending order by their left hand ends.  Returns a list.</li> <li><code>interval_connect(S)</code> Given a <code>%union</code> of intervals, checks whether any intervals are connected, and if so, joins them up and returns the ammended union.</li> <li><code>interval_tidy(S)</code>  Given a union of sets, returns the \"canonical form\" of this union.</li> <li><code>interval_intersect(S1, S2)</code> intersect two two simple intervals or two real sets, e.g. <code>%union</code> sets.</li> <li><code>interval_intersect_list(ex)</code> intersect a list of real sets.</li> <li><code>interval_complement(ex)</code> take a <code>%union</code> of intervals and return its complement.</li> <li><code>interval_set_complement(ex)</code> Take a set of real numbers, and return the <code>%union</code> of intervals not containing these numbers.</li> <li><code>interval_count_components(ex)</code> Take a set of real numbers, and return the number of separate connected components in the whole expression.  Simple intervals count as one, and sets count as number number of distinct points in the set.  Trivial intervals, such as the empty set, count for 0.  No simplification is done, so you might need to use <code>interval_tidy(ex)</code> first if you don't want to count just the representation.</li> </ol>"},{"location":"CAS/Real_Intervals/#natural-domains-and-real-sets-with-a-variable","title":"Natural domains, and real sets with a variable.","text":"<p>The function <code>natural_domain(ex)</code> returns the natural domain of a function represented by the expression <code>ex</code>, in the form of the inert function <code>realset</code>.  For example <code>natural_domain(1/x)</code> gives</p> <pre><code>realset(x,%union(oo(0,inf),oo(\u2212inf,0)));\n</code></pre> <p>The inert function <code>realset</code> allows a variable to be passed with a set of numbers.  This is mostly for displaying natural domains in a sensible way.  For example, where the complement of the intervals is a discrete set, the <code>realset</code> is displayed as  rather than  which is normally much easier to read and understand.</p> <pre><code>realset(x,%union(oo(0,inf),oo(-inf,0)));\n</code></pre> <p>is displayed as .</p>"},{"location":"CAS/Real_Intervals/#validation-of-students-answers","title":"Validation of students' answers","text":"<p>Students must simply type <code>union</code> (not <code>%union</code>) etc.</p> <p>Validation of students' answer has a very loose sense of \"type\".  When we are checking the \"type\" of answer, if the teacher's answer is a \"set\" then the student's answer should also be a \"set\" (see <code>setp</code>).  If the teacher's answer is acually a set in the context where an interval should be considered valid, then the teacher's answer should be the inert function <code>%union</code>, e.g. <code>%union({1,2,3})</code>, to bump the type of the teacher's answer away from set and into <code>realset</code>.</p> <p>Validation does some simple checks, so that mal-formed intervals such as <code>oo(1)</code> and <code>oo(4,3)</code> are rejected as invalid.</p>"},{"location":"CAS/Real_Intervals/#assessment-of-students-answers","title":"Assessment of students' answers","text":"<p>The algebraic equivalence answer test will apply <code>interval_tidy</code> as needed and compare the results. Currently the feedback in this situation provided by this answer test is minimal.</p>"},{"location":"CAS/STACK-Maxima_sandbox/","title":"STACK - Maxima Sandbox","text":"<p>It is very useful when authoring questions to be able to test out Maxima code on your local machine in the same environment in which STACK uses Maxima on your server. That is to say, to run a desktop version of Maxima with the local settings and STACK specific functions loaded.  You can copy the Maxima code from the question testing page into the sandbox for offline testing and debugging of a question.  This is also used in reporting and analysis of students' responses. To do this you will need to load the libraries of Maxima functions specific to STACK. You may also want to copy some of your local settings from the server to your local machine to ensure an identical setup, but this is not strictly necessary for most purposes.</p> <p>The first step is to install wxMaxima on your local machine (http://maxima.sourceforge.net/).</p>"},{"location":"CAS/STACK-Maxima_sandbox/#getting-the-stack-libraries","title":"Getting the STACK libraries","text":"<p>You will need to download the STACK files onto your local machine.  Download all the STACK files from GitHub (git clone or as a .zip).  E.g. try <code>https://github.com/maths/moodle-qtype_stack/archive/master.zip</code> </p> <p>The only files you need to run the sandbox are contained within the directory</p> <pre><code>stack/maxima/\n</code></pre> <p>This directory also contains the wxMaxima file <code>sandbox.wmx</code> which is the \"sandbox\" interface file. Your goals are (i) to set Maxima's path so it can find all the files you have downloaded, and (ii) to load the file</p> <pre><code>stack/maxima/stackmaxima.mac\n</code></pre> <p>Copy <code>sandbox.wmx</code> somewhere you can find it later and edit this file to reflect the location of the above file on your local machine.  </p> <p>On a Microsoft operating system, if you place the all the files (i.e. clone or unzip the download) into </p> <pre><code>c:/tmp/stackroot\n</code></pre> <p>the <code>sandbox.wmx</code> should work without further adjustment.  </p> <p>Otherwise open <code>sandbox.wmx</code> with wxMaxima and follow the further instructions it contains to setup the path for Maxima.  Note, the backslash character <code>\\</code> is a control character so you will need to edit the path to replace the <code>\\</code> with <code>/</code> in wxMaxima. Execute the sandbox file with wxMaxima when you have updated the settings with <code>cell &gt; Evaluate all cells</code>.  If you see something like the following you have set this up correctly (version numbers will vary).</p> <pre><code>[ STACK-Maxima started, library version 2022022300 ]\n</code></pre> <p>You can test this out by using, for example, the <code>rand()</code> function.</p> <pre><code>rand(matrix([5,5],[5,5]));\n</code></pre> <p>to create a pseudo-random matrix.  If <code>rand</code> returns unevaluated, then you have not loaded the libraries correctly.</p> <p>An alternative approach on a Microsoft operating system is to copy the contents of (a working) <code>sandbox.wmx</code> file into a</p> <pre><code>%USERPROFILE%/Maxima/stacklocal.mac\n</code></pre> <p>Using <code>load(\"stacklocal\")</code> in any worksheet will load the STACK environement.</p>"},{"location":"CAS/STACK-Maxima_sandbox/#using-the-answer-tests","title":"Using the answer tests","text":"<p>Please make sure you read the page on answer tests first.</p> <p>Informally, the answer tests have the following syntax</p> <pre><code>[Errors, Result, FeedBack, Note] = AnswerTest(StudentAnswer, TeacherAnswer, Opt)\n</code></pre> <p>actually the results returned in Maxima are</p> <pre><code>[Valid, Result, FeedBack, Note] = AnswerTest(StudentAnswer, TeacherAnswer, Opt)\n</code></pre> <p>Errors are echoed to the console, and are trapped by another mechanism.  The valid field is used to render an attempt invalid, not wrong.</p> <p>To call an answer test directly from Maxima, you need to use the correct function name.   For example, to call the algebraic equivalence (AlgEquiv) answer test you need to use</p> <pre><code>ATAlgEquiv(x^2+2,x*(x+1));\n</code></pre> <p>The values returned are actually in the form</p> <pre><code>[true,false,\"\",\"\"]\n</code></pre> <p>Feedback is returned in the form of a language tag which is translated later. For example,</p> <pre><code>(%i1) ATInt(x^2,x*(x+1),x);\n(%o1) [true,false,\"ATInt_generic. \",\n       \"stack_trans('ATInt_generic' , !quot!\\\\[2\\\\,x+1\\\\]!quot!  , !quot!\\\\(x\\\\)!quot!  , !quot!\\\\[2\\\\,x\\\\]!quot! ); \"]\n</code></pre> <p>If you just want to decide if two expressions are considered to be algebraically equivalent, then use</p> <pre><code>algebraic_equivalence(ex1,ex2);\n</code></pre> <p>This is the function the answer test <code>ATAlgEquiv</code> uses without all the wrapper of a full answer test.</p>"},{"location":"CAS/STACK-Maxima_sandbox/#useful-tips","title":"Useful tips","text":"<p>STACK turns off the traditional two-dimensional display, which we can turn back on with the following command.</p> <pre><code>display2d:true;\n</code></pre>"},{"location":"CAS/STACK-Maxima_sandbox/#setting-maximas-global-path-microsoft","title":"Setting Maxima's Global Path (Microsoft)","text":"<p>Setting the path in Maxima is a problem on a Microsoft platform.  Maxima does not deal well with spaces in filenames, for example.  The simplest solution is to create a directory</p> <pre><code>C:/maxima\n</code></pre> <p>and add this to Maxima's path.  Place all Maxima files in this directory, so they will then be seen by Maxima. For Maxima 5.43.2, edit, or create, the file</p> <pre><code>C:/Program Files/maxima-5.43.2/share/maxima/5.43.2/share/maxima-init.mac\n</code></pre> <p>ensure it contains the following lines, possibly modified to reflect the directory you have chosen</p> <pre><code>file_search_maxima:append([sconcat(\"C:/maxima/###.{mac,mc}\")],file_search_maxima)$\nfile_search_lisp:append([sconcat(\"C:/maxima/###.{lisp}\")],file_search_lisp)$\n</code></pre> <p>Other versions of Maxima are similar.</p>"},{"location":"CAS/STACK-Maxima_sandbox/#reflecting-the-settings-on-your-server","title":"Reflecting the settings on your server","text":"<p>The healtcheck page (Moodle admin access only) displays the contents of the Maxima configuration file which is written to the sever.  This contains Maxima commands to update the path (which you probably don't want to copy) and also the function <code>STACK_SETUP(ex)</code> which configures your particular version of STACK.  You may want to replace <code>STACK_SETUP(ex)</code> in the sandbox with <code>STACK_SETUP(ex)</code> from the Moodle server. For most users this should not be needed, and is most useful for advanced debugging where significant differences between versions matters.</p> <p>It is more important to match the version of the STACK code you downloaded from github with the version you have on your server.  The STACK documentation page on your server gives the version number of the STACK code at the bottom of the documentation front page.  For example</p> <pre><code>https://stack-demo.maths.ed.ac.uk/demo/question/type/stack/doc/doc.php/\n</code></pre> <p>shows the version of the STACK code the demo site is running.</p>"},{"location":"CAS/Simplification/","title":"Simplification &amp; ordering","text":""},{"location":"CAS/Simplification/#algebraic-equivalence","title":"Algebraic equivalence","text":"<p>Is ?  Well, it depends!  In particular you can easily derive the contradiction  and using our rule   To avoid problems like this we therefore have decided that</p> <pre><code>ATAlgEquiv((a^x)^y, a^(x*y)) = [0, \"\"]\n</code></pre> <p>If you are teaching rules of indices to students for the first time this might come as a surprise!  If you would like STACK to implement this rule, then you need to also <code>assume(a&gt;0)</code>.  This can be done in the feedback variables.  This is a design decision and not a bug (and is recorded in the system unit tests)!</p> <p>Note the Maxima function <code>rootscontract</code> which converts products of roots into roots of products.</p>"},{"location":"CAS/Simplification/#ordering-terms","title":"Ordering terms","text":"<p>Maxima chooses an order in which to write terms in an expression. By default, this will use reverse lexicographical order for simple sums, so that we have  instead of . In elementary mathematics this looks a little odd!  One way to overcome this is to use simplification below but another way is to alter the order in which expressions are transformed.</p> <p>To alter the order in STACK you can use the Maxima commands <code>orderless</code> and <code>ordergreat</code>.  To have  you can use</p> <pre><code>ordergreat(a,b);\n</code></pre> <p>See Maxima's documentation for more details.</p> <p>Only one <code>orderless</code> or <code>ordergreat</code> command can be issued in any session.  The last one encountered will be used and the others ignored. No warnings or errors are issued if more than one is encountered.</p>"},{"location":"CAS/Simplification/#logarithms-to-an-arbitrary-base","title":"Logarithms to an arbitrary base","text":"<p>By default, Maxima does not provide logarithms to an arbitrary base.  To overcome this, STACK provides a function <code>lg</code> for student entry.</p> <ul> <li><code>lg(x)</code> is log of  to the base 10.</li> <li><code>lg(x, a)</code> is log of  to the base .</li> </ul> <p>STACK provides no simplification rules for these logarithms.  To simplify you must transform back to natural logarithms.</p> <p>For example (with <code>simp:true</code> or <code>simp:false</code>)</p> <pre><code>p:lg(27, 3)\nq:ev(p, lg=logbasesimp)\n</code></pre> <p>results in <code>p=lg(27, 3)</code>, and <code>q=3</code>.</p> <p>The algebraic equivalence function <code>algebraic_equivalence</code>, and so anything upon which it depends, will automatically remove logarithms to other bases. This includes the answer tests as needed.</p>"},{"location":"CAS/Simplification/#selective-simplification-selective-simplification","title":"Selective simplification {#selective-simplification}","text":"<p>The level of simplification performed by Maxima can be controlled by changing Maxima's global variable <code>simp</code>, e.g.</p> <pre><code>simp:true\n</code></pre> <p>When <code>simp</code> is set to <code>false</code>, no simplification is performed and Maxima is quite happy to deal with an expression such as  without actually performing the addition. This is most useful for dealing with very elementary expressions, and for showing working.</p> <p>This variable can be set at the question level using the options or for each Potential response tree.</p> <p>When <code>simp</code> is set to <code>false</code>, you can evaluate an expression with simplification turned on by using <code>ev(..., simp)</code>, for example:</p> <pre><code>simp:false;\na:ev(1+1,simp);\n</code></pre> <p>will give .</p>"},{"location":"CAS/Simplification/#within-castext-question-text-general-feedback-etc","title":"Within CASText (question text, general feedback, etc.)","text":"<p>Sometimes it is useful to control the level of simplification applied to expressions included within CASText using <code>{@...@}</code>. In particular, to show steps in working, it is often necessary to turn simplification off.</p> <p>To selectively control simplification within CASText (including the general feedback), you can use the following methods:</p> <ol> <li>Set <code>simp:false</code> in the question options, or at the end of your question variables. That way all expressions in the CASText will be unsimplified, but you can use <code>{@ev(...,simp)@}</code> to simplify selectively.</li> <li>Use evaluation flags to control the level of simplification for an individual CAS expression, for example:</li> </ol> <pre><code>{@3/9,simp=false@}\n</code></pre> <ol> <li>Use a define block to set the value of <code>simp</code>, e.g.</li> </ol> <pre><code>[[define simp=\"false\"/]]\n\\({@3/9@} \\neq {@1+1@}\\)\n[[define simp=\"true\"/]]\n\\({@3/9@} \\neq {@1+1@}\\)\n</code></pre> <p>will produce  followed by . 4. Switch simplification</p> <pre><code>{@(simp:false,3/9)@}\n</code></pre> <p>This command sets the value of <code>simp</code> for this expression, and all others which follow, much like the define block above.</p>"},{"location":"CAS/Simplification/#unary-minus-and-simplification","title":"Unary minus and simplification","text":"<p>There are still some problems with the unary minus, e.g. sometimes we get the display  when we would actually like to always display as . This is a problem with the unary minus function <code>-(x)</code> as compared to binary infix subtraction <code>a-b</code>.</p> <p>To reproduce this problem type in the following into a Maxima session:</p> <pre><code>simp:false;\np:y^3-2*y^2-8*y;\n</code></pre> <p>This displays the polynomial as follows.</p> <pre><code>y^3-2*y^2+(-8)*y\n</code></pre> <p>Notice the first subtraction is fine, but the second one is not.  To understand this, we can view the internal tree structure of the expression by typing in</p> <pre><code>?print(p);\n((MPLUS) ((MEXPT) $Y 3) ((MMINUS) ((MTIMES) 2 ((MEXPT) $Y 2))) ((MTIMES) ((MMINUS) 8) $Y))\n</code></pre> <p>In the structure of this expression the first negative coefficient is <code>-(2*y^2)</code> BUT the second is <code>-(8)*y</code>.  This again is a crucial but subtle difference! To address this issue we have a function</p> <pre><code>unary_minus_sort(p);\n</code></pre> <p>which pulls \"-\" out the front in a specific situation: that of a product with a negative number at the front. The result here is the anticipated <code>y^3-2*y^2-8*y</code>.</p> <p>Note that STACK's display functions automatically apply <code>unary_minus_sort(...)</code> to any expression being displayed.</p>"},{"location":"CAS/Simplification/#really-insisting-on-printing-the-parentheses","title":"Really insisting on printing the parentheses","text":"<p>Why does STACK (i.e. Maxima) not print out the parentheses?  For example, try the following.</p> <pre><code>simp:false;\np1:(a+b)+c;\ntex(p1);\n</code></pre> <p>The result is .  Where have the parentheses gone?  On the other hand <code>p2:a+(b+c)</code> is displayed as .  Why are these displayed differently?  Assuming <code>simp:false</code> and using Maxima's <code>?print</code> command we can see the internal structure.</p> <ul> <li><code>?print(a+b+c)</code> gives <code>((MPLUS) $A $B $C)</code>.  This means we have the flattened (nary) sum of the three variables.  This will always not have brackets.</li> <li><code>?print((a+b)+c)</code> gives <code>((MPLUS) ((MPLUS) $A $B) $C)</code>.  This is not yet flattened to an nary sum, but Maxima's tex routines suppress the parentheses, even with <code>simp:false</code>.  This is part of the problem.</li> <li><code>?print(a+(b+c))</code> gives <code>((MPLUS) $A ((MPLUS) $B $C))</code>.  This is not yet flattened to an nary sum, and in this case it displayed as  by Maxima's TeX function.</li> </ul> <p>Note, this display problem is not a bug.  Experts would interpret  as  not as .  This is only a problem in teaching when we want to display (arguably not needed) parentheses.  To solve this display problem STACK has an inert <code>disp_parens</code> function.  All this function does is print round brackets (parentheses) around its argument.</p> <p>For example, try the following.</p> <pre><code>simp:false;\np1:disp_parens(a+b)+c;\ntex(p1);\n</code></pre> <p>The result is .</p> <p>Parentheses can also be added to other expressions which, strictly speaking, do not need them. For example <code>int(disp_parens(x-2),x)</code> is displayed as .</p> <p>It may be necessary to remove the <code>disp_parens</code> from an expression.  STACK provides the function <code>remove_disp_parens(ex)</code> to remove this inert display function.  Actually, this function is remarkably simple.</p> <pre><code>remove_disp_parens(ex) := ev(ex, disp_parens=lambda([ex2], ex2))$\n</code></pre> <p>The function <code>disp_parens</code> has no mathematical definition.  It just changes the TeX output.  The above function re-evaluates the expression, with this function equal to the identity function (<code>lambda([ex2], ex2))</code>).  Giving <code>disp_parens</code> this mathematical definition effectively removes it.</p> <p>Note that the answer tests do not remove the <code>disp_parens</code> function from a teacher's expression.  Hence, <code>a+b+c</code> and <code>`disp_parens(a+b)+c</code> are not algebraically equivalent.  Teachers who use these display functions must remove them before answer tests are applied.  Students cannot use the <code>disp_parens</code> function.  Indeed, currently a student's input of <code>(a+b)+c</code> is displayed as Maxima does without the brackets (yes, this might be considered a bug).</p>"},{"location":"CAS/Simplification/#selecting-and-highlighting-part-of-an-expression","title":"Selecting, and highlighting part of an expression","text":"<p>Like <code>disp_parens</code>, STACK provides a function <code>disp_select</code> which highlights part of an expression.  All this function does is colour the argument red and underline it.  For example <code>1+disp_select(x^2+2)</code> is displayed as .  Note, the combination of colour and the underline is because it is considered poor practice to use colour alone to convey meaning.</p> <p>STACK provides the function <code>remove_disp_select(ex)</code> to remove this inert display function.  The function <code>remove_disp(ex)</code> removes all inert display functions.</p> <p>When creating feedback it is often useful to select, and highlight, part of an expression.  STACK provides a function <code>select(p1, ex)</code> to do this.  The select function traverses the expression tree for <code>ex</code> and when it encounters a sub-tree for which the predicate <code>p1</code> is true it adds <code>disp_select</code> to the sub-tree and stops traversing any further down that sub-tree.  While nested <code>disp_select</code> are possible (and will dispaly multiple underlines: another reason for having underline) this particular function stops once <code>p1</code> is true.  You will need to build nested display by hand.</p> <p>For example, to select all the integers in an expression you can use the predicate <code>integerp</code> and <code>select(integerp, 1+x+0.5*x^2)</code> gives .</p> <p>It is possible to use any of the existing predicate functions, or to define your own function in the question variables.</p> <p>The function <code>select_apply(f1, ex)</code> traverses the expression and when it encounters the <code>disp_select</code> function it applied the function <code>f1</code> to that sub-tree of the expression.  This allows for selective simplification/modification of highlighted sub-trees.  For example,</p> <pre><code>simp:false;\np1:select(zeroMulp, (1-1)*x^2+0*x+1);\np2:select_apply(simplify, p1);\np3:select_apply(simplify, p1, false);\n</code></pre> <p>generates the following displayed expressions.</p> <ul> <li><code>p1</code> displays as .  We have selected all the parts for which the predicate <code>zeroMulp</code> is true.  This is the predicate which checks if the rule  is applicable.  While the coefficient of  is equivalent to zero, it is unsimplified and the predicate <code>zeroMulp(1-1)</code> is false. This sub-tree is not selected by this predicate.</li> <li><code>p2</code> displays as .  The displayed expression is subjected to the function <code>simplify</code>, and the displayed part replaced.  The rest of the expression is unchanged. By default the <code>disp_select</code> is removed and so the result is not coloured and underlined.</li> <li><code>p3</code> displays as .  Notice the third, optional boolean, argument to <code>select_apply</code> in <code>p3</code>.  This argument will decide whether to continue to display the <code>disp_select</code> display or remove it (now the function has been applied).  The default is <code>true</code>, so here the red underline is not removed.</li> </ul>"},{"location":"CAS/Simplification/#if-you-really-insist-on-a-kludge","title":"If you really insist on a kludge....","text":"<p>In some situations you may find you really do need to work at the display level, construct a string and display this to the student in Maxima. Please avoid doing this!</p> <pre><code>a:sin(x^2);\nb:1+x^2;\nf:sconcat(\"\\\\frac{\",stack_disp(a,\"\"),\"}{\",stack_disp(b,\"\"),\"}\");\n</code></pre> <p>Then you can put in <code>\\({@f@}\\)</code> into one of the CASText fields. Note, you need to add LaTeX maths delimiters, because when the CAS returns a string the command <code>{@f@}</code> will just display the contents of the string without maths delimiters.</p>"},{"location":"CAS/Simplification/#tips-for-manipulating-expressions","title":"Tips for manipulating expressions","text":"<p>How do we do the following in Maxima?  Try</p> <pre><code>q:(1-x)^a*(x-1);\nq:ratsubst(z,1-x,q);\nq:subst(z=1-x ,q);\n</code></pre> <p>How do we do the following in Maxima?  </p> <pre><code> factor(radcan((x-1)*(k*(x-1))^a))\n</code></pre> <p>Maxima's internal representation of an expression sometimes does not correspond with what you expect -- in that case, <code>dispform</code> may help to bring it into the form you expect. For example, the output of <code>solve</code> in the following code shows the  in the denominator as  which gives unnatural-looking output when a value is substituted in -- this is fixed by using <code>dispform</code> and substituting into that variants instead.</p> <pre><code>simp:true;\neqn:b = 1/(6*a+3);\nta1: expand(rhs(solve(eqn,a)[1]));\ndispta1:dispform(ta1);\nsimp:false;\nsubst(2,b,ta1);\nsubst(2,b,dispta1);\n</code></pre>"},{"location":"CAS/Simplification/#creating-sequences-and-series","title":"Creating sequences and series","text":"<p>One problem is that <code>makelist</code> needs simplification.  To create sequences/series, try something like the following</p> <pre><code>an:(-1)^n*2^n/n!\nN:8\nS1:ev(makelist(k,k,1,N),simp)\nS2:maplist(lambda([ex],ev(an,n=ex)),S1)\nS3:ev(S2,simp)\nS4apply(\"+\",S3)\n</code></pre> <p>Of course, to print out one line in the worked solution you can also <code>apply(\"+\",S2)</code> as well.</p> <p>To create the binomial coefficients</p> <pre><code>simp:false;\nn:5;\napply(\"+\",map(lambda([ex],binomial(n,ex)*x^ex), ev(makelist(k,k,0,5),simp)));\n</code></pre>"},{"location":"CAS/Simplification/#surds","title":"Surds","text":"<p>Imagine you would like the student to expand out .  There are two tests you probably want to apply to the student's answer.</p> <ol> <li>Algebraic equivalence with the correct answer: use <code>ATAlgEquiv</code>.</li> <li>That the expression is \"expanded\": use <code>ATExpanded</code>.</li> </ol> <p>You probably then want to make sure a student has \"gathered\" like terms.  In particular you'd like to make sure a student has either  but not  This causes a problem because <code>ATComAss</code> thinks that  So you can't use <code>ATComAss</code> here, and guarantee that all random variants will work by testing that we really have  for example.</p> <p>What we really want is for the functions <code>sqrt</code> and <code>+</code> to appear precisely once in the student's answer, or that the answer is a sum of two things.</p>"},{"location":"CAS/Simplification/#control-of-surds","title":"Control of surds","text":"<p>See also the Maxima documentation on <code>radexpand</code>.  For example</p> <pre><code>radexpand:false$\nsqrt((2*x+10)/10);\nradexpand:true$\nsqrt((2*x+10)/10);\n</code></pre> <p>The first of these does not pull out a numerical denominator.  The second does.</p>"},{"location":"CAS/Simplification/#trig-simplification","title":"Trig simplification","text":"<p>Maxima does have the ability to make assumptions, e.g. to assume that  is an integer and then simplify  to .  Assume the student's answer is <code>ans1</code> then then define the following feedback variables:</p> <pre><code>declare(n,integer);\nsans1:ev(trigrat(ans1),simp);\n</code></pre> <p>The variable <code>sans1</code> can then be used in the PRT.  Just note that <code>trigrat</code> writes powers of trig functions in terms of multiple angles.  This can have an effect of \"expanding\" out an expression.  E.g. <code>trigrat(cos(n)^20)</code> is probably still fine, but <code>trigrat(cos(n)^2000)</code> is probably not!  For this reason <code>trigrat</code> is not part of the default routines to establish equivalence.  Trig simplification, especially when we make assumptions on variables like , needs to be done on a question by question basis.</p>"},{"location":"CAS/Simplification/#boolean-functions","title":"Boolean functions","text":"<p>See the page on propositional logic.</p>"},{"location":"CAS/Simplification/#further-examples","title":"Further examples","text":"<p>Some further examples are given elsewhere:</p> <ul> <li>Matrix examples in showing working.</li> <li>An example of a question with <code>simp:false</code> is discussed in authoring quick start 7.</li> <li>Generating random algebraic expressions which need to be \"gathered and sorted\".</li> </ul> <p>Note also that question tests do not simplify test inputs.</p>"},{"location":"CAS/Statistics/","title":"Statistics support in STACK.","text":"<p>The following optional packages provide statistics support in Maxima:</p> <pre><code>load(\"stats\");\nload(\"distrib\");\nload(\"descriptive\");\n</code></pre> <p>Please see Maxima's documentation for information on the functions these packages contain.</p> <p>These packages are included by default. The Debian package manager currently has a release of Maxima (as of Nov 2015) without these packages and attempting to load them renders STACK unusable. For this reason, they may have been disabled by your system administrator and your server may not support inclusion of these packages.</p>"},{"location":"CAS/Statistics/#package-descriptive","title":"Package: descriptive","text":"<p>Note that the \"descriptive\" package includes a number of functions to plotting graphs, such as boxplots and scatterplot.  These are not supported by STACK.</p>"},{"location":"CAS/Statistics/#stack-functions","title":"STACK functions","text":"<p>STACK provides the <code>mode</code> function which returns the modal value in a list.</p>"},{"location":"CAS/Strings/","title":"Strings in STACK questions","text":"<p>If your answer is a language string, then please consider using the Damerau-Levenshtein distance rather than a string match.</p> <p>Strings are a basic data type in Maxima.  The predicate function <code>stringp(ex)</code> determines whether an expression is a string.  The function <code>string(ex)</code> takes a Maxima expression and returns a string representation.  We do not support Maxima's <code>parse_string</code> function.  There is no way to turn a string into a Maxima expression through STACK.  For example, if you use the string input you cannot later parse the student's answer into a Maxima expression.  Therefore, only use the string input if your answer is actually a string.</p> <p>The whole point of STACK is that teachers should seek to establish mathematical properties and the string match tests are provided for completeness (and because they are trivial to implement).  Experienced question authors almost never use the string match tests.  If you find yourself needing to use the string match tests for something mathematical please contact the developers.</p> <p>There are 4 string-related answer tests.</p> <ul> <li>String</li> <li>StringSloppy</li> <li>Levenshtein</li> <li>SRegExp</li> </ul>"},{"location":"CAS/Subscripts/","title":"Subscripts","text":""},{"location":"CAS/Subscripts/#atoms-subscripts-and-fine-tuning-the-latex-display","title":"Atoms, subscripts and fine tuning the LaTeX display","text":"<p>Everything in Maxima is either an atom or an expression. Atoms are either an integer number, float, string or a name.  You can use the predicate <code>atom()</code> to decide if its argument is an atom.  Expressions have an operator and a list of arguments. Note that the underscore symbol is not an operator.  Thus <code>a_1</code> is an atom in maxima. Hence, the atoms <code>a1</code> and <code>a_1</code> are not considered to be algebraically equivalent.  If you would like to consolidate subscripts in students' input see the documentation on extra options.  Also note that since the underscore is not an operator, an expression such as <code>(a_b)_c</code> is not valid Maxima syntax, but <code>a_b_c</code> is a valid name for an atom.</p> <p>You can change the TeX output for an atom with Maxima's <code>texput</code> command.  E.g. <code>texput(blob, \"\\\\diamond\")</code> will display the atom <code>blob</code> as .  If you place <code>texput</code> commands in the question variables, this affects the display everywhere in the question including the inputs.  E.g. if a student types in <code>blob</code> then the validation feedback should say something like \"your last answer was: \".</p> <p>Display with subscripts is a subtle and potentially confusing issue because subscript notation in mathematics has many different uses.  For example,</p> <ol> <li>Subscripts denote a function of the natural numbers, e.g. when defining terms in a sequence .  That is the subscript denotes function application.  .</li> <li>Subscripts denote differentiation, e.g.  is the derivative of  with respect to .</li> <li>Subscripts denote coordinates in a vector, in .</li> </ol> <p>There are many other possible uses for subscripts, especially in other subjects e.g. in physics or actuarial studies.</p> <p>Because Maxima considers subscripted expressions to be atoms, the default TeX output of an atom <code>V_alpha</code> from Maxima is  (literally <code>{\\it V\\_alpha}</code>) and not  as a user might expect.  For this reason STACK intercepts and redefines how atoms with the underscore are displayed.  In particular STACK (but not core Maxima) takes an atom <code>A_B</code>, applies the <code>tex()</code> command to <code>A</code> and <code>B</code> separately and concatenates the result using subscripts.  For example, if you define</p> <pre><code>texput(A, \"{\\\\mathcal A}\");\ntexput(B, \"\\\\diamond\");\n</code></pre> <p>then <code>A_B</code> is now displayed as .</p> <p>Below are some examples.</p> Maxima code Maxima's <code>tex()</code> command (raw output and displayed) STACK  (raw output and displayed) <code>A_B</code> <code>{\\it A\\_B}</code> <code>{{A}_{B}}</code> <code>A[1]</code> <code>A_{1}</code> <code>{A_{1}}</code> <code>A1</code> <code>A_{1}</code> <code>{A_{1}}</code> <code>A_1</code> <code>A_{1}</code> <code>{A_{1}}</code> <code>A_x1</code> <code>{\\it A\\_x}_{1}</code> <code>{{A}_{x_{1}}}</code> <code>A_BC</code> <code>{\\it A\\_BC}</code> <code>{{A}_{{\\it BC}}}</code> <code>A_alpha</code> <code>{\\it A\\_alpha}</code> <code>{{A}_{\\alpha}}</code> <code>A_B_C</code> <code>{\\it A\\_B\\_C}</code> <code>{{{A}_{B}}_{C}}</code> <code>x_t(1)</code> <code>{\\it x\\_t}\\left(1\\right)</code> <code>{{\\it x\\_t}\\left(1\\right)}</code> <code>A[1,2]</code> <code>A_{1,2}</code> <code>{A_{1,2}}</code> <p>Notes</p> <ol> <li>in the above examples three different expressions (atoms <code>A1</code>, <code>A_1</code> and the expression <code>A[1]</code>) generate the same tex code <code>A_{1}</code> , and so are indistinguishable at the display level.</li> <li>The expression <code>x_t(1)</code> refers to the function <code>x_t</code> which is not an atom, and hence STACK's logic for displaying atoms with underscores does not apply (by design).  If you want to display a function name including a subscript you can explicitly use, e.g. <code>texput(x_t, \"x_t\");</code> to control the display, this is just not done automatically.</li> </ol> <p>One situation where this design is not satisfactory is when you want to use both of the atoms <code>F</code> and <code>F_1</code> but with different display. For example <code>F</code> should display as  but <code>F_1</code> should display as .  Such a situation is not hard to imagine, as it is often considered good style to have things like .  The above design always splits up the atom <code>F_1</code> into <code>F</code> and <code>1</code>, so that the atom <code>F_1</code> will display as  .  (This is actually what you normally expect, especially with the Greek letter subscripts.)  To avoid this problem the logic which splits up atoms containing an underscore checks the texput properties list. If an entry has been made for a specific atom then STACK's display logic uses the entry, and does not split an atom over the underscore.  In the above example, use the following texput commands.</p> <pre><code>texput(F, \"{\\\\mathcal F}\");\ntexput(F_1, \"{F_1}\");\n</code></pre> <p>With this code <code>F</code> displays as , the atom <code>F_1</code> displays as , and every subscript will display with calligraphic, e.g. <code>F_alpha</code> displays as .  There is no way to code the reverse logic, i.e. define a special display only for the unique atom <code>F</code>.</p> <p>Note that the scientific units code redefines and then assumes that symbols represent units.  E.g. <code>F</code> is assumed to represent Farad, and all units are typeset in Roman type, e.g.  rather than the normal . This is typically the right thing to do, but it does restrict the number of letters which can be used for variable names in a particular question.  To overcome this problem you will have to redefine some atoms with texput.  For example,</p> <pre><code>stack_unit_si_declare(true);\ntexput(F_a, \"F_a\");\n</code></pre> <p>will display the atom <code>F_a</code> as , i.e. not in Roman.  If you <code>texput(F, \"F\")</code> the symbol <code>F</code> is no longer written in Roman, as you would expect from units.  This may be sensible if Farad could not possibly appear in context, but students might type a range of subscripted atoms involving <code>F</code>.</p> <p>The use of texput is global to a question. There is no way to display a particular atom differently in different places (except perhaps in the feedback variables, which is currently untested: assume texput is global).</p> <p>How would you generate the tex like ?  STACK's <code>sequence</code> command (see below) does output its arguments separated by a comma, so <code>sequence(1,2)</code> is displayed as , however the Maxima command <code>A_sequence(1,2)</code> refers to the function <code>A_sequence</code>, (since the underscore is not an operator).  Hence STACK's logic for splitting up atoms containing the underscore does not apply.  (In any case, even if the display logic did split up function names we would still have the issue of binding power to sort out, i.e. do we have the atom with parts <code>A</code> and <code>sequence(1,2)</code> or the function named <code>A</code> and <code>sequence</code>?)  To create an output like  you have no option but to work at the level of display.  Teachers can create an inert function which displays using subscripts.</p> <pre><code>texsub(a,b)\n</code></pre> <p>is typeset as  i.e. <code>{a}_{b}</code> in LaTeX.  For example,</p> <ul> <li><code>texsub(A, sequence(1,2))</code> will display as ,</li> <li>with simplification off, <code>texsub(F,1-2)</code> will be displayed as .</li> </ul> <p>Note that the process of converting <code>theta_07</code> into the intermediate <code>texsub</code> form internally results in the <code>texsub(theta,7)</code> which removes the leading zero.  This is a known issue, for which a work around is to directly use <code>texput(theta_07, \"{{\\\\theta}_{07}}\")</code> or <code>texsub(theta,\"07\")</code>.  The second option does not produce optimal LaTeX, since it uses TeX <code>mbox</code>, e.g. <code>{{\\theta}_{\\mbox{07}}}</code>.</p>"},{"location":"CAS/Validator/","title":"Bespoke validators","text":"<p>This extra option <code>validator</code> to a particular input allows additional bespoke validation, based on a function defined by the question author.  For example, you could require that the student's answer is a list of exactly three equations.</p> <p>Please check existing, supported, validation options before defining your own!</p> <p>For example, to check a list has at most three elements define the function named <code>validate_listlength</code> in the question variables, e.g.</p> <pre><code>validate_listlength(ex) := block([l],\n  if not(listp(ex)) then return(castext(\"Your answer must be a list\")),\n  l:length(ex),\n  if l &lt; 3 then return(castext(\"Your list only has {#l#} elements, which is too few.\")),\n  \"\"\n);\n</code></pre> <p>To use this feature put the following in the input extra options.</p> <pre><code>validator:validate_listlength\n</code></pre> <p>Notes:</p> <ol> <li>The validator must be a pure function of a single variable. There must be no reference to the input name within the validator function definition, indeed you cannot reference an input in the question variables.</li> <li>If the function returns a non-empty string, then the student's answer will be considered invalid, and the string displayed to the student as a validation error message as part of the input validation.</li> <li>If the function returns an empty string or <code>true</code> then the student's input is considered to be valid.  The use of an empty string here for valid is designed to encourage teachers to write meaningful error messages to students!</li> <li>The function can reference other question variables, e.g. the teacher's answer.</li> <li>The function is always executed with <code>simp:false</code> regardless of the question settings.</li> <li>The function is called after the built-in validation checks, and only if the expression is already valid otherwise.  So, you cannot replace basic validation (by design).  This means you will/should have an expression which Maxima can evaluate if it gets as far as your validator function.  E.g. no missing <code>*</code> or mismatched brackets.</li> <li>The student still cannot use any of the variable names defined in the question variables.</li> <li>Validators only operate on a single input, and there is no mechanism to validate a combination of inputs at once.</li> <li>The recommended style for naming validator functions is to begin the name with <code>validate_</code>.</li> </ol> <p>A single validator function can be re-used on multiple inputs within a single question. If you regularly copy validator functions from question to question please consider contributing this as a function to the core of STACK (see below for details). We expect to collect and support regularly used validators in future.</p>"},{"location":"CAS/Validator/#combining-validators","title":"Combining validators","text":"<p>If you wish to test for a number of separate properties then it is probably best to create separate functions for each poperty and combine them into a single validator.</p> <p>For example, imagine you would like the following:</p> <ol> <li>the answer must be a list;</li> <li>the list has three elements;</li> <li>each element is an equation.</li> </ol> <p>E.g. <code>[x^2=1, y=1, x+z=1]</code> is a valid answer.  <code>[x^2+5, y=1]</code> is invalid (for two reasons).</p> <p>Functions which establish these properties are:</p> <pre><code>/* Define validator fuctions separately. */\nvalidate_islist(ex) := if listp(ex) then \"\" else \"Your answer must be a list.\";\nvalidate_allequations(ex) := if all_listp(equationp, ex) then \"\" else \"All elements of your answer should be equations.\";\nvalidate_checklen(ex) :=  if ev(is(length(ex)=3),simp) then \"\" else \"Your list must have 3 elements.\";\n/* Combine the validator functions. */\nvalidate_equationlist(ex) := stack_multi_validator(ex, [validate_islist, validate_allequations, validate_checklen]);\n</code></pre> <p>The last line creates a single validator function using the convenience function <code>stack_multi_validator</code> supported by STACK.</p> <p>STACK supports two convenience functions</p> <ol> <li><code>stack_multi_validator</code> executes all the validator functions and concatenates the result.</li> <li><code>stack_seq_validator</code> executes the validator functions in list order until one fails.  This means you can make assumptions in later validators about the form of the expression.</li> </ol> <p>If any validator throws an error then the student's answer is invalid.  E.g. using <code>any_listp</code> on a non-list will throw a Maxima error.</p>"},{"location":"CAS/Validator/#supported-validators","title":"Supported validators","text":"<p>The Maxima code is stored in the sourcecode in <code>stack/maxima/validator.mac</code>, e.g. on github.</p>"},{"location":"CAS/Validator/#contributing-validators-to-the-core-of-stack-contributing","title":"Contributing validators to the core of STACK {#contributing}","text":"<p>When you regularly find yourself testing for particular properties, and copying code between questions, please consider contributing functions to the STACK core for longer term support.</p> <p>You can post your suggestion on the project's GitHub site or submit code directly as a pull request.</p>"},{"location":"CAS/Validator/#localisation-and-language-support","title":"Localisation and language support","text":"<p>To localise your validation messages use the castext <code>lang</code> block. For example</p> <pre><code>ta:phi^2-1;\nvalidate_vars(ex) := block(\n    if ev(subsetp(setify(listofvars(ex)),setify(listofvars(ta))), simp) then return(\"\"),\n    castext(\"[[lang code='fi']]Vastauksesi sis\u00e4lt\u00e4\u00e4 v\u00e4\u00e4ri\u00e4 muuttujia.[[/lang]][[lang code='en']]Your answer contains the wrong variables.[[/lang]]\")\n);\n</code></pre> <p>For the supported validator function, all language strings are drawn from the STACK language pack: STACK stores all language strings in the plugin source code, and these are then translated by volunteers using the online AMOS system.</p> <p>Individual language strings can then be referred to using STACK's <code>[[commonstring ... /]]</code> block.  For example, the language pack contains the string</p> <pre><code>$string['Illegal_strings'] = 'Your answer contains \"strings\" these are not allowed here.';\n</code></pre> <p>An example of how to use this in Maxima code is below.</p> <pre><code>validate_listoftwo(ex):=block(\n    if not(listp(ex)) then return(\"Your answer must be a list.\"),\n    if not(is(length(ex)=2)) then return(\"Your list must have two elements.\"),\n    if stringp(second(ex)) then return(castext(\"[[commonstring key='Illegal_strings' /]]\")),\n    true\n);\n</code></pre> <p>In this example</p> <ol> <li><code>[\"Quadratic\",x^2-1]</code> is valid.</li> <li><code>[x^2-1,\"Quadratic\"]</code> is invalid because the second argument here is a string. In this case the error message comes from the common language pack.</li> </ol> <p>Many language examples have variables which need to be injected.  In this example, the variable <code>m0</code> needs to be injected.</p> <pre><code>$string['ValidateVarsSpurious']   = 'These variables are not needed: {$a-&gt;m0}.';\n</code></pre> <p>To inject variables into a language string we define the value of <code>m0</code> in the <code>[[commonstring ... /]]</code> block.</p> <pre><code>validate_spuriousvar(ex):=block([%_tmp,simp],\n    simp:false,\n    %_tmp: listofvars(ex),\n    simp:true,\n    %_tmp: setdifference(setify(%_tmp), {x,y,z}),\n    if cardinality(%_tmp) = 0 then return(\"\"),\n    castext(\"[[commonstring key='ValidateVarsSpurious' m0='listify(%_tmp)'/]]\")\n);\n</code></pre> <p>Note, when injecting a value <code>m0='X'</code> the <code>X</code> must be a Maxima expression, not a displayed string.</p> <ol> <li>to inject the Maxima expression <code>X</code> with <code>{@...@}</code> injection (without wrapping like <code>\\(...\\)</code>) to a named placeholder <code>m0</code> use <code>m0='X'</code>.</li> <li>to inject the Maxima expression <code>X</code> with <code>{#...#}</code> injection, to get raw values, to a named placeholder <code>m0</code> use <code>raw_m0='X'</code>.</li> </ol> <p>For other prefix options see the documentaiton for the commonstring block.</p>"},{"location":"CAS/Validator/#further-examples","title":"Further examples","text":"<p>To forbid the underscore character in a student's input.</p> <pre><code>validate_underscore(ex) := if is(sposition(\"_\", string(ex)) = false) then \"\"\n           else \"Underscore characters are not permitted in this input.\";\n</code></pre>"},{"location":"CAS/Validator/#sharing-validators-between-questions","title":"Sharing validators between questions","text":"<p>It is common to want to share validators between questions.  It would also be very helpful to contribute commonly used validator functions back to the STACK project.  To include a validator in more than one question you could post your validator function publicly.</p> <ol> <li>Get the validator function working reliably in your question, locally.</li> <li>Add the maxima function to this file, <code>https://github.com/maths/moodle-qtype_stack/blob/master/stack/maxima/contrib/validators.mac</code> or another file, preferably contributing to the STACK project.</li> <li>Add documentation and comprehensive test cases (please!) to let other people know what the validator is intended to do, and to help ensure behaviour remains stable.</li> <li> <p>Include the optional validators within the cas logic with either of the following</p> <p>stack_include(\"https://raw.githubusercontent.com/maths/moodle-qtype_stack/master/stack/maxima/contrib/validators.mac\"); stack_include_contrib(\"validators.mac\");</p> </li> </ol> <p>Note the url <code>https://raw.githubusercontent.com/</code> is used to include the raw content of this file.</p> <p>Including external content always poses a minor additional security risk.  In this case (1) the content is included and then subject to the same checks as if you had typed it yourself, and (2) the developers will take the same care in accepting contributions to the master branch as they do with the existing code base.</p>"},{"location":"CAS/Validator/#example-forbid-underscores-in-an-input","title":"Example: forbid underscores in an input","text":"<p>Create a new question.</p> <ol> <li> <p>Add the following to the question variables, which loads contributed validators.</p> <p>stack_include(\"https://raw.githubusercontent.com/maths/moodle-qtype_stack/master/stack/maxima/contrib/validators.mac\");</p> </li> </ol> <p>or add the following to the question variables</p> <pre><code>stack_include_contrib(\"validators.mac\");\n</code></pre> <ol> <li>Use the extra option <code>validator:validate_underscore</code> in the input.</li> </ol>"},{"location":"Developer/","title":"Desarrolladores","text":"<p>La documentaci\u00f3n para desarrolladores ofrece informaci\u00f3n sobre el desarrollo de STACK, as\u00ed como instrucciones para los desarrolladores que deseen contribuir a STACK.</p>"},{"location":"Developer/#contribuir-a-stack","title":"Contribuir a STACK","text":"<p>STACK es c\u00f3digo abierto, y como tal depende de las contribuciones de los usuarios. Estos documentos describen algunas formas de contribuir.</p> <p>Puede que quiera aprender sobre Crear un tipo de entrada.</p> <p>Podr\u00edas leer sobre Instalar un paquete de idiomas y traducir STACK.</p> <p>Tambi\u00e9n hay informaci\u00f3n sobre contribuir a la documentaci\u00f3n.</p>"},{"location":"Developer/#historial-de-desarrollo","title":"Historial de desarrollo","text":"<p>Si desea seguir el desarrollo de STACK o informar de errores, visite GitHub.</p> <p>El trabajo para la pr\u00f3xima versi\u00f3n de STACK se detalla en Development track.</p> <p>Los planes para el futuro se describen en Future plans.</p> <p>La historia del desarrollo anterior est\u00e1 documentada en Development history.</p>"},{"location":"Developer/#temas-avanzados","title":"Temas avanzados","text":"<p>Los siguientes temas describen temas avanzados para desarrolladores y administradores de sitios.</p> <p>Puedes leer sobre la ejecuci\u00f3n de pruebas unitarias.</p> <p>Hay informaci\u00f3n sobre borrar la cach\u00e9.</p> <p>Tambi\u00e9n puedes leer sobre a\u00f1adir soporte para paquetes Maxima.</p> <p>Si ha actualizado recientemente desde una versi\u00f3n anterior de STACK, puede que necesite actualizar los valores predeterminados de las preguntas.</p> <p>Es posible que desee saber c\u00f3mo ejecutar pruebas de preguntas en un servidor de desarrollo antes de actualizar a una nueva versi\u00f3n de STACK.</p> <p>Puede leer sobre el dise\u00f1o de la interfaz PHP para el CAS.</p>"},{"location":"Developer/CASText2_lifecycle/","title":"CASText2 life-cycle","text":"<p>This document describes the life-cycle of CASText2 evaluation. Use this when you need to decide what to do and when and want to use CASText to do it.</p>"},{"location":"Developer/CASText2_lifecycle/#raw-castext","title":"Raw CASText","text":"<p>In the first phase of the life-cycle CASText is just a string that may or may not contain CASText specific syntax, like blocks or injections. This is the format authors use when writing question-text or feedback or even inline CASText. If you are a developer of the STACK core you are probably only focused on turning this to the next forms, or maybe you are using inline CASText to build something and leave processing it further to tools that do it.</p>"},{"location":"Developer/CASText2_lifecycle/#inline-castext","title":"Inline CASText","text":"<p>Inline CASText is not actually a part of the life-cycle it is just a way of injecting raw CASText into places and it relies on compile time processing to turn it to usable compiled CASText.</p>"},{"location":"Developer/CASText2_lifecycle/#compiled-castext","title":"Compiled CASText","text":"<p>The second phase of the life-cycle is the compiled form of the CASText, this is the result of raw CASText being parsed and then turned into a CAS statement. This happens by asking all the blocks present in the CASText to convert the parts of the parse tree related to them into statements and joining those together. Caching the compilation result is something we really want to do as recompiling is pointless and for large documents can take quite a lot of time, as the compilation result will always be the same for a given raw CASText in the same context (context variance does not yet exist, but may become a thing) i.e. same place in the question after same keyvals and so on, this caching does not depend on the question variant and can be shared by all variants.</p>"},{"location":"Developer/CASText2_lifecycle/#simplification-and-other-pre-processing","title":"Simplification and other pre-processing","text":"<p>The compiled CASText statement is then further processed as far as it can be without actually evaluating it in CAS. This processing can lead into a situation where the statement simplifies to a single string which essentially means that the value of evaluating that statement is going to be the same as the statement itself, in this special case it is unnecessary to send that statement to the CAS for evaluation.</p> <p>During this pre-processing it is also possible to extract long static string values that do not take part in the logic from the statement and replace them with shorter placeholders. These static strings are then stored separately  and can be returned to their places after evaluation.</p>"},{"location":"Developer/CASText2_lifecycle/#evaluated-castext","title":"Evaluated CASText","text":"<p>By evaluating the compiled CASText statement in the CAS we get evaluated CASText which is essentially either a raw string value or a nested list describing which blocks need to post-process things and which parameter values they should use when doing that. This intermediate result is something that the CAS cache can hold onto as an usable value for the next step.</p>"},{"location":"Developer/CASText2_lifecycle/#rendered-castext","title":"Rendered CASText","text":"<p>After the CASText has been evaluated and the evaluated CASText has had any static strings restored to their places we ask all the blocks that are declared in the evaluated value to do their post-processing. They turn the nested list structure into a flat string which we may then present to the user if need be. It is important to note that this post-processing may not be side effect free and some blocks may for example inject scripts into the page, so simply caching the end result of this rendering is not a viable solution as it might miss those side effects. In general, it is best to apply lazy evaluation to this and only post-process evaluated CASText into rendered CASText if the rendering actually needs to be displayed, while the rendering is often the cheapest operations of this whole life cycle it will always save some resources.</p>"},{"location":"Developer/CASText2_lifecycle/#specific-notes","title":"Specific notes","text":"<ol> <li> <p>If you are not going to render something, why evaluate it at all? This     might be something that comes to mind, especially related to PRTs,     the primary reason being that the CAS-cache can efficiently hold onto     those evaluated CASText segments and if the only difference between     the evaluated CASSessions is it necessary to generate two different     sessions to cache? Note that that caching would happen both at     CAS-cache database table and in the parser cache for the result. Also     note that at the point where you would need to know whether you are to     actually render things to decide whether to evaluate them it might not     be easily knowable whether to do so, and minimising branching is always     a good idea.</p> </li> <li> <p>Some blocks need additional context information to be evaluated e.g.      the <code>[[lang]]</code>-block needs a special variable to be set to the language     selected for presentation. Do not forget to set such things if you use     such blocks.</p> </li> </ol>"},{"location":"Developer/CAS_evaluatable/","title":"The family tree of cas_evaluatables.","text":"<p>As of 4.3 the CAS evaluation engine has been replaced by a more modular version. Basically the old \"cassession\" class was replaced with a version that takes in objects that implement the cas_evaluatable interface, and  evaluates them. However, it does not extract values from the CAS unless those objects implement additional interfaces that receive those values.</p>"},{"location":"Developer/CAS_evaluatable/#the-core-interfaces","title":"The core interfaces","text":""},{"location":"Developer/CAS_evaluatable/#cas_evaluatable","title":"cas_evaluatable","text":"<p>Anything that can generate a CAS-statement string, responds to a question about its validity, can tell some backreference information to be displayed in potential error messages, and provides a function that receives information about the success or failure of the statement.</p> <p>In general if one is only loading values into the CAS and does not need to extract those particular values then something implementing cas_evaluatable is probably the thing to use. And one can always add additional items to the session and those can then extract values if need be.</p> <p>In the old terms keyvals are closest to collections of cas_evaluatables as they are rarely extracted on their own.</p>"},{"location":"Developer/CAS_evaluatable/#cas_value_extractor-and-cas_latex_extractor","title":"cas_value_extractor and cas_latex_extractor","text":"<p>These two expand the cas_evaluatable interface by requiring that the object provides means of receiving the value or its LaTeX representation.  The obvious use for these are any items one needs to bring back from CAS, note that while one can easily push every statement to CAS in containers implementing these it is wasteful to do so unless you actually use those  extracted values. What is wasted is bandwidth, processing power, and space in the cache all of which directly affect response time and the upkeep costs of the system.</p> <p>From the old model the things that best match these are CASText, getting the results of PRTs, and generating the LaTeX values for validation messages.</p>"},{"location":"Developer/CAS_evaluatable/#the-new-class-hierarchy-of-base-level-objects","title":"The new class hierarchy of base level objects","text":"<p>As we rarely create new classes that implement those interfaces it is better to list the existing ones so that one can seek for a ready made solution. Note that not all of these will be in active use as other parts of the system are brought forward.</p>"},{"location":"Developer/CAS_evaluatable/#by-source","title":"By source","text":"<p>In general cas_evaluatables are backed with an AST that the statement parser has generated from question code or student input and has been processed by multiple AST-filters and validators. But things are not always so, one might have large blocks of code that have been prevalidated and cached as raw  strings that one wants to directly load to the session, for example logic code that evaluates a whole PRT or a forest of them. For the latter task there exists a special class (<code>stack_secure_loader</code>) that does just that.</p> <p>When dealing with student sourced material one tends to use  the <code>stack_ast_container</code> class which provides complex maker functions that ensure that a raw string gets parsed correctly and goes through key filters in addition to whatever filter you may want to apply in the context of a particular input. In some cases one may also use that class for teacher sourced material but in general  <code>stack_ast_container_silent</code> is the better choice for such material as it does not generate return values and typically teacher sourced content is used in logic, and logic is not something that one needs to always show.</p>"},{"location":"Developer/CAS_evaluatable/#special-cases","title":"Special cases","text":"<p>The old system had the concept of conditional casstrings in the block system of CASText, as CASText is one of those things that will be redone, and in  a way that it no longer needs conditional casstrings, we provide a separate type of cas_evaluatable for this task thus freeing others from having to check for conditions.</p>"},{"location":"Developer/CAS_evaluatable/#the-makers","title":"The makers","text":"<p>There exists three different static maker functions in classes  <code>stack_ast_container_silent</code> and <code>stack_ast_container</code>. The logic is identical as they are only defined in former, but the result is different as they create  objects of classes type. So call they through the class you wish to use.</p>"},{"location":"Developer/Census/","title":"Maxima identifier census","text":"<p>The Maxima identifier census is a new part of STACK starting from version 4.3 the point of this census is to keep track of new Maxima features and their presence in versions of Maxima. Basically, we can use some function and flag if and only if its present in a reasonable number of recent Maxima versions and we drop STACKs support of older versions.</p> <p>In addition to helping developers identify features that are not necessarily available in relevant Maxima versions the census data is also used to build the security-map i.e. a list of identifiers that should not be modified, accessed or called by students or teachers. The same list also describes safe identifiers so that we can identify situations where function names are used as variables or common constants are being redefined.</p>"},{"location":"Developer/Census/#the-census-and-security-files","title":"The census and security files","text":"<p>Currently, the data can be found from JSON files under <code>/stack/cas/</code> the census in its raw form is in <code>base-identifier-map.json</code> and the security-map is In <code>security-map.json</code>. The census file lists identifiers and their usage types and the versions of Maxima those usages have been present in the documentation. The security file gives meta-data about selected identifiers, that meta-data typically consists of keys like <code>function</code>, <code>operator</code>, or <code>variable</code> that have values of <code>s</code>, <code>f</code>, and <code>?</code> first one meaning that students can use that identifier in that way and the second one meaning that no one can use that in that way the last one signals that the identifier is not yet forbidden and that teachers may allow students to use it if they so wish. Other meta-data tends to focus on classification e.g. functions that can be used to apply or map other function on values have their own meta-data flag <code>mapfunction</code>.</p>"},{"location":"Developer/Census/#updating-the-files","title":"Updating the files","text":"<p>The process of updating the census file is as follows:</p> <ol> <li> <p>Acquire the source code of the new Maxima version you want to include in     the census. For example 'maxima-5.42.0.tar.gz' and unpack it somewhere.</p> <p><code>cd /tmp/  mkdir maximatemp  cd maximatemp  tar xvf ~/Downloads/maxima-5.42.0.tar.gz</code></p> </li> <li> <p>Extract the identifiers from the documentation that comes with that source,     and store them to a file.</p> <p><code>cd /tmp/maximatemp/maxima-5.42.0/doc/info  grep '^ \\-\\- .*: .*' -shI * | grep -v 'an error. To debug' &gt; /tmp/maximatemp/identifiers-5.42.0.txt</code></p> </li> <li> <p>Use STACKs update script to read in that file. Make sure that you give     the correct version number.</p> <p><code>cd $MOODLE  php question/type/stack/cli/maximaidentifierupdater.php --version=5.42.0 --data=/tmp/maximatemp/identifiers-5.42.0.txt</code></p> </li> <li> <p>Also call the update script for the security map. The script will read     the data updated in the previous step and include any new identifiers to     the security map. Calling, this script should also be done if you manually     modify the security-map as the script ensure that the map is in alphabetical     order and indented in the expected way.</p> <p><code>cd $MOODLE  php question/type/stack/cli/maximasecuritymapupdater.php</code></p> </li> <li> <p>Remember to commit the changes to those JSON files to the GIT.</p> </li> </ol>"},{"location":"Developer/Creating_an_input_type/","title":"Creating a new Input type","text":""},{"location":"Developer/Creating_an_input_type/#background","title":"Background","text":"<p>To allow questions to be as flexible as possible, the types of input that can be used to build questions are a type of plugin. You can make a new one and add it to STACK if you wish. This document explains how.</p>"},{"location":"Developer/Creating_an_input_type/#file-layout","title":"File layout","text":"<p>Your new input type will be a folder inside question/type/stack/stack/input/. For the purpose of this example, we will suppose we are making an input type called myinput. So, the folder will be question/type/stack/stack/input/myinput.</p> <p>Inside there, you should have two files:</p> <ul> <li>myinput.class.php</li> <li>tests/myinput_test.php - not strictly requried, but of course you want to write unit tests for your new code.</li> </ul>"},{"location":"Developer/Creating_an_input_type/#myinputclassphp","title":"myinput.class.php","text":"<p>In this file, you need to define a subclass of stack_input called stack_myinput_input.</p> <p>The methods you need to implement are well described by the PHPdoc comments on the base class, so go and read those now. The key methods are:</p> <ul> <li>get_parameters_defaults - used by the question editing form.</li> <li>render - displays the input element as HTML.</li> </ul>"},{"location":"Developer/Creating_an_input_type/#finally","title":"Finally","text":"<p>The best way to see how all this works is to have a look at how the inputs that come with stack as standard are implemented. It should be easy to learn by example.</p>"},{"location":"Developer/Development_history/","title":"STACK Development History","text":"<p>For current and future plans, see Development track and Future plans.</p>"},{"location":"Developer/Development_history/#version-445","title":"Version 4.4.5","text":"<p>Released July 2023.</p> <ol> <li>Add in the <code>s_assert</code> function to allow teachers to unit-test individual question variable values.</li> <li>Add in the <code>[[hint]]</code> question block.  Fixes issue #968, thanks to Michael Kallweit.</li> <li>Add in the <code>stack_include_contrib()</code> for easier inclusion of libraries.</li> <li>Add in the <code>[[todo]]</code> question block.</li> <li>Caschat page now saves question variables and general feedback back into the question.  Fixes issue #984.</li> <li>Confirm support for Maxima 5.46.0 and 5.47.0.</li> <li>All inputs now \"allowempty\" and \"hideanswer\" as extra options.  Fixes issue #997.</li> </ol>"},{"location":"Developer/Development_history/#version-444","title":"Version 4.4.4","text":"<p>Released June 2023.</p> <p>This is a bug-fix release.</p>"},{"location":"Developer/Development_history/#version-443","title":"Version 4.4.3","text":"<p>Released May 2023.</p> <ol> <li>Rename testing page as \"STACK question dashboard\" and make it much easier to add a test case based on the teacher's answer.</li> <li>Better cleaning of unicode from students' input strings.</li> <li>Add link to the dependency checker to the plugin page.</li> <li>Add in descriptions to the question (castext), the PRT nodes and the question tests.</li> <li>Add in the input extra option <code>validator</code> to allow user-defined validation functions.</li> <li>Reorganise the answer test documentation.</li> </ol> <p>Major re-working of Javascript in STACK.  Specifically</p> <ol> <li>STACK-JS a VLE agnostic JavaScript system that moves all script execution into sandbox iframes and restricts the things those scripts can do outside that sandbox. Basically, replaces the <code>[[jsxgraph]]</code>-block and provides ways for doing other scripting.</li> <li>Initial implementation of the <code>[[reveal]]</code>-block (#570) using the STACK-JS system.</li> <li>Various related blocks like <code>[[iframe]]</code>, <code>[[javascript]]</code>, <code>[[style]</code>, <code>[[script]]</code>, and <code>[[cors]]</code></li> <li>This version does not yet forbide all JavaScript outside STACK-JS, but do prepare future updates to do so and start migrating existing scripts into STACK-JS.</li> </ol>"},{"location":"Developer/Development_history/#version-442","title":"Version 4.4.2","text":"<p>Released January 2023.</p> <p>This is mainly a bug fix version.</p> <ol> <li>Add in functionality to display Maxima expressions as trees with CSS using  <code>disptree</code>.</li> <li>Load the <code>diag</code> package for better linear algebra support.</li> <li>Better layout on the question testing page.</li> <li>Question variables and feedback variables are now in monospace.</li> <li>Add in the <code>onum</code> option, i.e. <code>make_multsgn(\"onum\")</code> in the options.</li> </ol>"},{"location":"Developer/Development_history/#version-441","title":"Version 4.4.1","text":"<p>Released August 2022.</p> <p>This is mainly a bug fix version.  Version 4.4.0 has a number of major re-writes and also supports Moodle 4.0.</p>"},{"location":"Developer/Development_history/#version-440","title":"Version 4.4.0","text":"<p>Released July 2022.</p> <p>Major rewrite of the PRT and CASText systems, focus on performance and limitations of the previous systems.  This release has changed/tightened up some question authoring causing some problems with existing questions.  For this reason we have written dedicated release notes for v4.4.0.</p> <ol> <li>Release documentation under CC-BY-SA.</li> <li>Caching validation.</li> <li>Compiled PRTs, which are now true <code>if</code>-statements in the CAS and issue #150 is now handled.</li> <li>The marks and penalty fields in the PRTs can be numbers, or other variables defined elsewhere in the question. 5  Change behaviour of UnitsAbsolute in response to discussion of issue #448.</li> <li>CASText2 is the new CASText-system and it supports mixed formats and provides new blocks for declaring formats.</li> <li>Markdown is now a supportted format and value injections into it will get correctly escaped. Use triple slashes for math-mode...</li> <li>There are now means of including external code and CASText fragments from an URL.</li> <li>One can now generate text-files for download with a special block in the question-text. CSV:s of student specific random data etc.</li> <li>Inline CASText is now a feature, it will become more relevant in the future input-system. For now you may use it in MCQ labels.</li> <li>A new CASText block <code>[[jsstring]]</code> for generating JavaScript strings to be used in scripting is now available. It should help when one wants to construct complex values.</li> <li>There now exists a built in language localisation system, that allows access to the language setting over at the CAS side. This mixes well with inline castext and allows localisation of MCQ labels.</li> <li>The number of CAS-evaluation sessions has been cut down significantly. Conversely, the amount of things happening in a single CAS-session has grown significantly. This may affect your Maxima load and the size of the CAS-cache. You may need to retune your operation if you have fine tuned it based on those details. This will also affect cache keys and values so tuning caching may also matter if one tunes everything.</li> <li>The security system now does runtime checks and no longer tries to catch evil things through static analysis in advance.</li> <li>Added <code>checkvars</code> option to inputs.</li> <li>Add in support for the Damerau-Levenshtein distance.</li> <li>Add in suppprt for the display of Complex Numbers.</li> <li>Add in basic solving of expressions with the not equals.  E.g. <code>x-1#0</code> is now considered equivalent to <code>x#1</code>.</li> <li>Add in support for Moodle 4.0.</li> </ol>"},{"location":"Developer/Development_history/#version-4311","title":"Version 4.3.11","text":"<p>Released June 2022.</p> <ol> <li>This release contains an update of JSXGraph (in advance of the forthcoming 4.4 release) to facilitate immediate materials development.</li> <li>Adopt moodle-ci.</li> </ol>"},{"location":"Developer/Development_history/#version-4310","title":"Version 4.3.10","text":"<p>Released December 2021.</p> <ol> <li>Add in filter <code>420_consolidate_subscripts</code> to consolidate students' input with subscripts from <code>M_1</code> to <code>M1</code>.</li> <li>Support variant matching.</li> <li>Add in the option <code>arccos(x)/arcosh(x)</code> for display of trig.  This notation exists becase <code>arcsin</code> gives the arc length on the unit circle for a given y-coordinate. <code>arsinh</code> gives an area enclosed by a hyperbola and two rays from the origin for a given y-coordinate.</li> <li>Allow students to type <code>arccos</code> etc. and treat these as synonyms of the trig functions.</li> <li>Substantially improve the basic question usage report.</li> </ol>"},{"location":"Developer/Development_history/#version-439","title":"Version 4.3.9","text":"<p>Released July 2021.</p> <p>Mostly minor bug fixes.</p> <ul> <li>Add in additional cache <code>compiledcache</code> to reduce validation overheads by compiling questions.</li> <li>Improve checking of teacher's code for better security, this requires a new admin setting <code>caspreparse</code> for back compatibility.</li> <li>Add in local.mac for site specific code.</li> <li>Move STACK admin UI scripts to <code>adminui</code>.</li> <li>Add in ATEqualComAssRules</li> <li>Filter student's input so groups are turned into <code>ntuple</code> inert functions.  At last students can type in coordinates as <code>(x,y)</code> as input!</li> <li>Add in warnings of language mismatch in parts of a question.</li> <li>Add in warnings where the answer test needs a raw input but appears to get a calculated value.</li> <li>Expand <code>rand</code> to accept sets and make a random selection from sets.  Add <code>rand_selection_with_replacement</code>.</li> </ul>"},{"location":"Developer/Development_history/#version-438","title":"Version 4.3.8","text":"<p>Released December 2020.</p> <ul> <li>Introduce \"context variables\" which propagate throughout a question, enabling <code>texput</code> to operate in inputs as well as general castext.</li> <li>Autoload <code>trigtools</code> to provide better simplification options for trig expressions and fix long-standing bug with <code>trigrat</code>.</li> <li>Make it much easier for colleagues to construct a test case using the \"teacher's answer\" input values as test case inputs.</li> <li>Allow users to modify the <code>notanswered</code> message in dropdown and radio inputs.</li> <li>Move all answer tests to Maxima.</li> <li>Separate out Maxima commands in the install process.</li> </ul>"},{"location":"Developer/Development_history/#version-437","title":"Version 4.3.7","text":"<p>Released October 2020.</p> <p>Bug fixes and minor improvements.</p>"},{"location":"Developer/Development_history/#version-436","title":"Version 4.3.6","text":"<p>Released October 2020.</p> <p>Bug fixes and minor improvements.</p>"},{"location":"Developer/Development_history/#version-435","title":"Version 4.3.5","text":"<ul> <li>Add in the HELM styles.</li> </ul>"},{"location":"Developer/Development_history/#version-435_1","title":"Version 4.3.5","text":"<p>Released August 2020.</p> <p>Bug fixes and minor improvements.</p> <ul> <li>Remove all strictSyntax functionality (DB, import/export functions remain).</li> <li>Add in further styles for proof with numbered lists.</li> </ul>"},{"location":"Developer/Development_history/#version-434","title":"Version 4.3.4","text":"<p>Released June 2020.</p> <p>Bug fixes and minor improvements to units.</p>"},{"location":"Developer/Development_history/#version-433","title":"Version 4.3.3","text":"<p>Released May 2020.</p> <p>Bug fixes and documentation.</p>"},{"location":"Developer/Development_history/#version-432","title":"Version 4.3.2","text":"<p>Released May 2020.</p> <ul> <li>Document and support for simple manipulation of real intervals which Maxima does not have a library for.</li> <li>Document and support for simple manipulation of propositional logic based on Maxima's logic package.</li> <li>Document and support for simple manipulation of tables mainly to support easy display of truth tables in logic..</li> <li>Better support for semi-automatic marking.</li> <li>Add in the resizable matrix input type (varmatrix).</li> <li>Fixed bug with javascript on pages with more than one matrix.</li> </ul>"},{"location":"Developer/Development_history/#version-431","title":"Version 4.3.1","text":"<p>Released April 2020.  Bug fixes and features which require DB changes.</p> <ul> <li>Add in STACK option \"logicsymbol\" to control how logical symbols are displayed.</li> <li>Add in formative potential response trees.</li> <li>Add in option <code>feedbackstyle</code> to potential response trees.</li> <li>Add in a new answer test AlgEquivNouns.</li> </ul>"},{"location":"Developer/Development_history/#version-43","title":"Version 4.3","text":"<p>Released April 2020.  This has been tested successfully during the spring semester, at three insitutions with large groups.  STACK 4.3 is, because of the new parser, slightly slower than previous releases.</p> <p>Version 4.3 requires the PHP package <code>mbstring</code> (which will be required from Moodle 3.9 anyway).  Do not attempt to upgrade without checking you have <code>mbstring</code> on your server.  Navigate to this page on Moodle to confirm.</p> <pre><code>/admin/environment.php\n</code></pre> <p>Version 4.3 represents a major internal re-engineering of STACK, with a new dedicated parser and an updated mechanism for connecting to Maxima.  This is a significant improvement, refactoring some of the oldest code and unblocking progress to a wide range of requested features.</p> <p>There have been a number of changes:</p> <ul> <li>In the forbidden words we now match whole words not substrings.</li> <li>Removed the RegExp answer test.  Added the SRegExp answer test using Maxima's <code>regex_match</code> function.</li> <li>Use of units is now reflected throughout a question.  This reduces the need to declare units in all contexts.</li> <li>Internally, the \"+-\" operator has been replaced with a new infix operation \"#pm#\".  Instead of <code>a+-b</code> teachers now must type <code>a#pm#b</code>.  This change was necessary to deal with differences between versions of Maxima when dealing with expresions.</li> </ul> <p>New features in v4.3:</p> <ul> <li>Add in full parser, to address issue #324.</li> <li>Add in input option 'align'.</li> <li>Add in input option 'nounits'.</li> <li>Add in input option 'compact' to input \"Show the validation\" parameter.</li> <li>Add in a basic question use report page, linked from the question testing page.</li> <li>Add in house styles to help typeset proof.</li> <li>Add cache to help reduce parsing overhead.</li> </ul>"},{"location":"Developer/Development_history/#version-423","title":"Version 4.2.3","text":"<p>Released January 2020.  This release is a marker before the release of STACK v4.3.</p>"},{"location":"Developer/Development_history/#version-422","title":"Version 4.2.2","text":"<p>Released September 2019.</p> <ul> <li>Removed the Maxima MathML code (which wasn't connected or used).</li> <li>Add in metadata system to the documentation (Thanks to Malthe Sporring for this suggestion).</li> <li>Add in extra option <code>simp</code> to inputs.</li> <li>Add in extra options in the input <code>allowempty</code> and <code>hideanswer</code>.</li> <li>Review and updated documentation (thanks to Malthe Sporring).</li> </ul>"},{"location":"Developer/Development_history/#version-421","title":"Version 4.2.1","text":"<p>Released August 2018.</p> <ul> <li>Add in privacy subsystem classes for GDPR compliance.</li> </ul>"},{"location":"Developer/Development_history/#version-42","title":"Version 4.2","text":"<p>Released July 2018.</p> <p>Note: newer versions of Maxima require that a variable has been initialised as a list/array before you can assign values to its indices.  For this reason some older questions may stop working when you upgrade to a new version of Maxima.  Please use the bulk test script after each upgrade!  See issue #343.</p> <p>Note: the behaviour of the Maxima <code>addrow</code> function has changed.  Use the bulk test script to identify questions which are affected. Note, once you save a question you will update the version number, and this will prevent questions using <code>addrow</code> from being identified.</p> <ul> <li>Add support for using JSXGraph  <code>http://jsxgraph.org</code> for better support of interactive graphics, and as part of an input type.  See JSXGraph</li> <li>Add in a version number to STACK questions.</li> <li>Update reasoning by equivalence.  This includes the following.</li> <li>Equating coefficients as a step in reasoning by equivalence. E.g. . See <code>poly_equate_coeffs</code> in assessment.mac</li> <li>Solving simple simultaneous equations.  (Interface)</li> <li>Include simple calculus operations (but constant of integration needs some further thought.)</li> <li>Refactor internal question validation away from Moodle editing, and into the question type.  Add in a \"warning\" system.</li> <li>Add in native multi-language support, to separate out languages in the question text.  This is needed so as not to create spurious validation errors, such as \"input cannot occur twice\".</li> <li>Output results of PRTs in the <code>summarise_response</code> method of <code>question.php</code>.  Gives more information for reporting.</li> <li>Sort out the \"addrow\" problem. (See issue #333).  This is changed to \"rowadd\".</li> <li>Add in check for \"mul\" (see issue #339) and better checking of input options.</li> <li>Refactor equiv_input and MCQ to make use of the new extra options mechanism.</li> <li>Add in support for the Maxima <code>simplex</code> package.</li> <li>Add an answer test to check if decimal separator is in the wrong place (See issue #314).</li> <li>Add an answer test to check sets and provide better feedback.</li> <li>Significant improvements to the bulk testing, returning runtime errors and identifying all questions without tests or worked solutions.</li> <li>Better CSS.  (See issue #380)</li> </ul>"},{"location":"Developer/Development_history/#stack-41","title":"STACK 4.1","text":"<p>Released December 2017.</p> <p>Numerous minor bug fixes and improvements.</p> <ul> <li>Add in support for the syntaxHint in the matrix input.</li> <li>On the questiontestrun page, have options to (a) delete all question variants.</li> <li>Add in a <code>size</code> option to set the size of a plot.</li> <li>Add in an answer test which accepts \"at least\" n significant figures. (See issue #313)</li> <li>Add in the \"string\" input type.</li> <li>Add test which checks if there are any rational expressions in the denominator of a fraction.  (Functionality added to LowestTerms test, which looks at the form of rational expressions).</li> <li>Add an option to remove hard-coded \"not answered\" option from Radio input type. (See issue #304)</li> <li>Add in a \"numerical\" input type which requires a student to type in a number.  This has various options, see the docs.</li> <li>Specify numerical precision for validation in numerical and units input types.</li> <li>Refactor the inputs so that extra options can be added more easily, and shared between inputs.</li> </ul>"},{"location":"Developer/Development_history/#stack-401","title":"STACK 4.0.1","text":"<p>Released August 2017.</p> <p>This is a bug-fix release, mostly associated with the upgrade process from version 3.X to 4.X.</p> <ul> <li>Fix a bug in the upgrade script.</li> <li>Fix a bug in the testing procedure in the \"question test\" script, and improve the way deployed variants are tested.</li> <li>Make SVG the default image format for pictures created by Maxima.  (Old .png code left in place in this release, but no user option to access this functionality.)</li> </ul>"},{"location":"Developer/Development_history/#stack-40","title":"STACK 4.0","text":"<p>Released August 2017.</p> <p>STACK 4.0 represents a major release of STACK and is a non-reversible change, with important differences which break back-compatibility.</p> <p>Note that much of the underlying code in this development have been used at Aalto for many years, with complex questions.  We believe these are battle tested improvements in the functionality.</p> <p>STACK 4.0 includes the block features and other important changes in CASText.</p> <ul> <li>To generate the LaTeX displayed form of a CAS variable in CASText you must use <code>{@...@}</code>.  Note the curly braces which now must be used.  We have an upgrade script for existing questions.</li> <li>To generate the Maxima value of a CAS variable in CASText you can use <code>{#...#}</code>. This is useful when interfacing with other software, or showing examples to students.</li> <li>CASText now supports conditional statements and adaptive blocks. See question blocks.</li> </ul> <p>Other changes.</p> <ul> <li>The question note is no longer limited in size.</li> <li>Mathematics in LaTeX can no longer be supported with <code>$..$</code> or <code>$$..$$</code>.  This usage has been discouraged for many years, and we have a long-standing \"fix\" script to convert from dollars to the forms <code>\\(..\\)</code> and <code>\\[..\\]</code>.</li> <li>Remove the artificial limit on the size of CASText.  We now rely on surrounding limits, like POST requests and database limits.  This may result in ugly errors, but we need larger limits to accommodate interactive elements embedded into text fields.</li> </ul>"},{"location":"Developer/Development_history/#stack-36","title":"STACK 3.6","text":"<p>Released July 2017.</p> <p>This release developed the first version of an input to assess line by line \"reasoning by equivalence\" input.  See the documentation on equivalence reasoning.</p> <p>Other new features and enhancements in this release.</p> <ul> <li>Modify the text area input so that each line is validated separately.</li> <li>Add a \"scratch working\" input type in which students can record their thinking etc. alongside the final answer.</li> <li>Support for intervals in STACK, using the Maxima syntax <code>oo(a,b)</code> for an open interval , <code>cc(a,b)</code> for an open interval  and <code>oc(a,b)</code>, <code>co(a,b)</code> for the half open intervals.</li> <li>Much better support for solving and dealing with single variable inequalities.</li> </ul>"},{"location":"Developer/Development_history/#version-357","title":"Version 3.5.7","text":"<p>Released June 2017.</p> <p>Numerous minor bug fixes and improvements.</p>"},{"location":"Developer/Development_history/#version-356","title":"Version 3.5.6","text":"<p>Released December 2016.</p> <p>Numerous minor bug fixes and improvements, particularly with numerical tests and scientific units.</p> <ol> <li>Change the display so that the underscore in atoms is displayed using subscripts.</li> <li>Added support for logarithms to an arbitrary base.</li> <li>Added <code>SigFigsStrict</code> answer test.</li> <li>Better support for floating point numbers, including the preservation and display of trailing zeros in numerical tests.</li> </ol> <p>Note, many of these changes have resulted in stricter rules on the acceptability of strings and stricter validation rules.</p> <p>1 You can no longer have a feedback variable, or a question variable, with a name that is the same as an input. 2. <code>log10</code> function and <code>log_b</code> functions are now handled by STACK, by manipulating the CAS string before it is sent to Maxima. Therefore, if your question previously defined a function with names like that, it will now break. 3. Variable names with a digit in the middle <code>eqn1gen</code> no longer work. (They should never have been used, but used not to break questions.) 4. Previously, unnecessary <code>\\</code> in CAS text were ignored. E.g. if you have a question variable called <code>vangle2</code> then <code>{@\\vangle2@}</code> used to work, it does not any more.</p>"},{"location":"Developer/Development_history/#version-355","title":"Version 3.5.5","text":"<p>Released August 2016.</p> <p>Numerous minor bug fixes and improvements, particularly with numerical tests and scientific units.</p> <ol> <li>Expose functionality of <code>printf</code> to better control the display of integers and floats.</li> <li>Expand the \"units\" answer test to allow authors to use other numerical answer tests, see units.</li> <li>Add a mechanism to allow spaces in inputs.  Trial functionality, which might change.</li> <li>Improve the mechanism to create a Maxima image and update the options in one go.</li> <li>Numerous options for units and the display of fractions.</li> <li>Added an xMaxima file to give more direct access to the sandbox.</li> </ol>"},{"location":"Developer/Development_history/#version-35","title":"Version 3.5","text":"<p>Numerous minor bug fixes and improvements.</p> <ol> <li>Added an export mechanism for single stack questions through a link on the \"Question tests &amp; deployed variant\" page.</li> <li>Modify the text area input so that each line is validated separately.</li> <li>Support for plot2d \"label\" command.</li> <li>Added support for <code>grid2d</code> for plot in newer versions of Maxima only.</li> <li>Add the <code>NOCONST</code> option to the ATInt answertest.</li> <li>Added support for optional Maxima packages through the config settings.</li> <li>Added the dropdown, radio and checkbox input types.</li> <li>Added basic support for scientific units, including a new input type and science answer tests.</li> </ol>"},{"location":"Developer/Development_history/#version-34","title":"Version 3.4","text":"<p>Released September 2015.</p> <p>This contains numerous minor bug fixes and improvements.</p> <ol> <li>Expand the capability of ATInt options to accept the integrand to improve feedback.</li> <li>When validating a student's expression, add the option to show a list of variables alongside the displayed expression.</li> <li>The install process now attempts to auto-generate a Maxima image.</li> <li>Support for the stats package added.</li> <li>Change in the behaviour of the CASEqual answer test.  Now we always assume <code>simp:false</code>.</li> <li>Add support for more AMS mathematics environments, including <code>\\begin{align}...\\end{align}</code>, <code>\\begin{align*}...\\end{align*}</code> etc.</li> <li>STACK tried to automatically write an optimised image for Linux.</li> </ol>"},{"location":"Developer/Development_history/#version-33","title":"Version 3.3","text":"<p>Released September 2014.</p> <p>This contains numerous minor bug fixes and improvements.</p> <ol> <li>Added in the Question blocks</li> <li>Changes to validation of casstrings. We now allow syntax such as 3e2 to represent floating point numbers.  The strict syntax settings still flag 3e2 as \"missing stars\".</li> <li>Improvements to catching common syntax errors with trig functions, e.g. sin^-1(x) or cos[x]</li> <li>Refactored the numerical tests.  This means they are now standard Maxima tests, not using PHP.</li> <li>Allow the use of the Maxima orderless and ordergreat in cassessions.  This helps with display, without turning off simplification.</li> <li>Expanding CASText features.</li> <li>Enable a function as an answer type, e.g. improve validation.</li> <li>Refactor answer test unit testing to distinguish \"test fail\" from \"zero\".</li> <li>Reject things like sin*(x) and sin^2(x) as invalid</li> <li>Provide a new option on how parentheses are displayed for matrices</li> <li>Provide an extra syntax checking option to enable stars to be inserted between single characters, e.g. xy -&gt; x*y.</li> <li>Add the input parameter <code>allowwords</code> to enable the teacher to specify some permitted words of more than 2 symbols length.</li> <li>Reinstate the STACK 2 feature called \"Hints\".  This has been done as a \"Fact sheet\" to avoid ambiguity with other Moodle features.  See Fact sheet documentation.  </li> <li>Better install (auto OS detection), healthcheck and testing.</li> <li> <p>When using the Maxima Pool servlet, it is now possible to use any type of HTTP authentication</p> <p>(e.g. basic or digest), and there is a separate configuration option, so that you don't need to put the username and password in the URL.</p> </li> </ol>"},{"location":"Developer/Development_history/#version-32","title":"Version 3.2","text":"<p>Released January 2014. This is mainly a bugfix release, and is updated to work with more recent versions of Moodle and Maxima 5.31.3.</p> <p>Changes since 3.1:</p> <ol> <li>Better support for inequalities</li> <li>Better support for reporting, e.g. more consistent tagging of errors, validation notes etc.</li> <li>Support for \"discrete\" and \"parametric\" plots.  Support for plot Alt text.</li> <li>Refactor the Maxima plot command to include \"discrete\" and \"parametric plots\"</li> <li>Refactor the Maxima plot command to include options, e.g., xlabel, ylabel, legend, color, style, point_type.</li> <li>Enable the student's answer to be a function.</li> <li>Minor accessibility improvements to underline all terms generated by Maxima in red, in addition to just using colour.</li> <li>Removal of the \"MaximaPool\" and \"MaximaPool (optimised)\" options for the platform type.  We just now have the \"server\" type.</li> </ol>"},{"location":"Developer/Development_history/#version-31","title":"Version 3.1","text":"<p>Released July 2013. This includes all the bugs found and fixed during the first year of use at Birmingham, and the first six months at the OU.</p> <p>Changes since 3.0:</p>"},{"location":"Developer/Development_history/#stack-custom-reports","title":"STACK custom reports","text":"<ul> <li>Split up the answer notes to report back for each PRT separately.</li> <li>Introduce \"validation notes\".  This should work at the PHP level, recording reasons for invalidity.  Since we already connect to the CAS, this should also record whether the student's input is equivalent to the teacher's, in what sense, and what form their answer is in.  Maybe too slow?  Useful perhaps for learning analytics.</li> </ul>"},{"location":"Developer/Development_history/#expanding-castext-features","title":"Expanding CASText features","text":"<ul> <li>Add in support for strings within CASText.  These are currently supported only when the contents is a valid casstring, which is overly restrictive.</li> </ul>"},{"location":"Developer/Development_history/#improvements-to-the-editing-form","title":"Improvements to the editing form","text":"<ol> <li>A way to set defaults for many of the options on the question edit form. There are two ways we could do it. We could make it a system-wide setting, controlled by the admin, just like admins can set defaults for all the quiz settings. Alternatively, we could use user_preferences, so the next time you create a STACK question, it uses the same settings as the previous STACK question you created.</li> <li>Display inputs and PRTs in the order they are mentioned in the question text + specific feedback.</li> <li>Allow an arbitrary PRT node to be the root node, rather than assuming it is the lowest numbered one.</li> <li>Display a graphical representation of each PRT, that can be clicked to jump to that Node on the editing form.</li> <li>When cloning a question with the 'Make copy' button, also clone the question tests.</li> </ol>"},{"location":"Developer/Development_history/#other-improvements","title":"Other improvements","text":"<ul> <li>Create a \"tidy question\" script that can be used to rename Inputs, PRTs and/or Nodes everywhere in a question.</li> <li>Add CASText-enabled ALT tags to the automatically generated images. For example, adding a final, optional, string argument to the \"plot\" command that the system uses as the ALT text of the image. That way, we can say the function that the graph is of.</li> <li>New option for how inverse trig functions are displayed.</li> <li>A script to run question tests in bulk.</li> <li>Add a new answer test to deal with decimal places.</li> <li>STACK questions with no inputs, and/or no PRTs now work properly.</li> </ul>"},{"location":"Developer/Development_history/#bug-fixes","title":"Bug fixes","text":"<ul> <li>Fix instant validation for text-area inputs.</li> <li>With \"Check the type of the response\" set to \"Yes\", if an expression is given and an equation is entered, the error generated is: \"Your answer is an equation, but the expression to which it is being compared is not. You may have typed something like \"y=2x+1\" when you only needed to type \"2x+1\".\" This might confuse students. They don't know what \" the expression to which it is being compared\" is! Perhaps this warning could be reworded something like: \"You have entered an equation, but an equation is not expected here. You may have typed something like \"y=2x+1\" when you only needed to type \"2x+1\".\" We should have more messages for each type of failed situation....</li> <li>Alt tags in images generated by plots has changed.  The default value now includes a string representation of the function plotted.  See plots for more details.</li> <li>Assorted other accessibility fixes.</li> <li>Standard PRT feedback options are now processed as CAS text.</li> <li>There was a bug where clearing the CAS cache broke images in the question text. Now fixed.</li> </ul>"},{"location":"Developer/Development_history/#version-30","title":"Version 3.0","text":"<p>Released January 2013.  This has been tested successfully for two semesters, with groups of up to 250 university students and a variety of topics.</p> <p>Major re-engineering of the code by the Open University, The  University of Birmingham and the University of Helsinki.  Documentation added by Ben Holmes.</p> <p>The most important change is the decision to re-work STACK as a question type for the Moodle quiz.  There is no longer a separate front end for STACK, or (currently) a mechanism to include STACK questions into other websites via a SOAP webservice. This round of development does not plan to introduce major new features, or to make major changes to the core functionality. An explicit aim is that \"old questions will still work\".</p> <p>Key features</p> <ul> <li>Major difference: Integration into the quiz of Moodle 2.3 as a question type.</li> <li>Support for Maxima up to 5.28.0.</li> <li>Documentation moved from the wiki to within the code base.</li> <li>Move from CVS to GIT.</li> </ul>"},{"location":"Developer/Development_history/#changes-in-features-between-stack-2-and-stack-3","title":"Changes in features between STACK 2 and STACK 3.","text":"<ul> <li>Key-val pairs, i.e. Question variables and feedback variables, now use Maxima's assignment syntax, e.g. <code>n:5</code> not the oldstyle <code>n=5</code>.  The importer automatically converts old questions to this new style.</li> <li>Interaction elements, now called inputs, are indicated in questions as <code>[[input:ans1]]</code> to match the existing style in Moodle.  Existing questions will be converted when imported.</li> <li>A number of other terminology changes have brought STACK's use into line with Moodle's, e.g. Worked solution has changed to \"general feedback\".</li> <li>Change in the internal name of one answer test <code>Equal_Com_ASS</code> changed to <code>EqualComASS</code>.</li> <li>Feature \"allowed words\" dropped from inputs (i.e. interaction elements).</li> <li>JSMath is no longer under development, and hence we are no longer providing an option for this in STACK.  However, in STACK 2 we modified JSMath to enable inputs within equations.  Display now assumes the use of a Moodle filter and we recommend (and test with) MathJax, which does not currently support this feature.  If it is important for you to use this feature you will need to copy and modify the load.js file from STACK 2 and use JSMath.</li> <li>Worked solution on demand feature has been removed.  This was a hack in STACK 2, and the use of Moodle quiz has made this unnecessary.</li> <li>Some options are no longer needed.  This functionality is now handled by the \"behaviours\", so are unnecessary in STACK 3.</li> <li>The \"Feedback used\".</li> <li>The \"Mark modification\".</li> <li>We have lost some of the nice styling on the editing form, compared to Stack 2.</li> <li>Answer tests no longer return a numerical mark, hence the \"+AT\" option for mark modification method has been dropped.</li> <li>The STACK Maxima function <code>filter</code> has been removed.  It should be replaced by the internal Maxima function <code>sublist</code>.  Note, the order of the arguments is reversed!</li> <li>STACK can now work with either MathJax, the Moodle TeX filter, or the OU's maths rendering filter.</li> <li>The Maxima libraries <code>powers</code> and <code>format</code> have been removed.</li> <li>We now strongly discourage the use of dollar symbols for denoting LaTeX mathematics environments.  See the pages on MathJax for more information on this change.</li> <li>The expressions supplied by the question author as question tests are no longer simplified at all.  See the entry on question tests.</li> </ul>"},{"location":"Developer/Development_history/#full-development-log","title":"Full development log","text":""},{"location":"Developer/Development_history/#milestone-0","title":"Milestone 0","text":"<ol> <li>Get STACK in Moodle to connect to Maxima, and clean-up CAS code.</li> <li>Moodle-style settings page for STACK's options.</li> <li>Re-implement caschat script in Moodle.</li> <li>Re-implement healthcheck script in Moodle.</li> <li>Make all the answer-tests work in Moodle.</li> <li>Make the answer-tests self-test script work in Moodle.</li> <li>Make all the input elements work in Moodle.</li> <li>Make the input elements self-test script work in Moodle.</li> <li>Add all the docs files within the Moodle question type.</li> <li>Clean up the PRT code, and make it work within Moodle.</li> <li>Code to generate the standard test-n question definitions within Moodle, to help with unit testing.</li> <li>Basic Moodle question type that ties all the components together in a basically working form.</li> </ol>"},{"location":"Developer/Development_history/#milestone-1","title":"Milestone 1","text":"<ol> <li>Caching of Maxima results, for performance reasons.</li> <li>Database tables to store all aspects of the question definitions.</li> <li>Question editing form that can handle multi-input and multi-PRT questions, with validation.</li> <li>Re-implement question tests in Moodle.</li> <li>Except that the test input need to be evaluated expressions, not just strings.</li> <li>Get deploying, and a fixed number of variants working in Moodle.</li> <li>Make multi-part STACK questions work exactly right in Adaptive behaviour.</li> <li>Evaluate some PRTs if possible, even if not all inputs have been filled in.</li> <li>Correct computation of penalty for each PRT, and hence overall final grade.</li> <li>Problem with expressions in feedback CAS-text not being simplified.</li> </ol>"},{"location":"Developer/Development_history/#milestone-2","title":"Milestone 2","text":"<ol> <li>Make sure that STACK questions work as well as possible in the standard Moodle reports.</li> <li>Implement the Moodle backup/restore code for stack questions.</li> <li>Implement Moodle XML format import and export.</li> <li>Investigate ways of running Maxima on a separate server.</li> <li>Implement random seed control like for varnumeric.</li> </ol> <p>At this point STACK will be \"ready\" for use with students, although not all features will be available.</p>"},{"location":"Developer/Development_history/#milestone-3","title":"Milestone 3","text":"<ol> <li>Finish STACK 2 importer: ensure all fields are imported correctly by the question importer.</li> <li>Make STACK respect all Moodle behaviours.</li> <li>Deferred feedback</li> <li>Interactive</li> <li>Deferred feedback with CBM</li> <li>Immediate feedback</li> <li>Immediate feedback with CBM - no unit tests, but if the others work, this one must.</li> <li>Add sample_questions, and update question banks for STACK 3.0.</li> <li>Improve the way questions are deployed.</li> <li>Only deploy new variants.</li> <li>Editing form: a way to remove a given PRT node.</li> <li>Fix bug: penalties and other fields being changed from NULL to 0 when being stored in the database.</li> <li>Add back Matrix input type.</li> <li>In adaptive mode, display the scoring information for each PRT when it has been evaluated.</li> </ol> <p>Once completed we are ready for the Beta release!</p>"},{"location":"Developer/Development_history/#beta-testing-period","title":"Beta testing period","text":"<ol> <li>Do lots of testing, report and fix bugs.</li> <li>Eliminate as many TODOs from the code as possible.</li> <li>Add back other translations from STACK 2.0, preserving as many of the existing strings as possible. NOTE: the new format of the language strings containing parameters.  In particular, strings {$a[0]} need to be changed to {$a-&gt;m0}, etc.</li> <li>Add back all questions from the diagnostic quiz project as further examples.</li> <li>Deploy many variants at once.</li> </ol>"},{"location":"Developer/Development_history/#editing-form","title":"Editing form","text":"<ol> <li>Form validation should reject a PRT where Node x next -&gt; Node x. Actually, it should validate that we have a connected DAG.</li> <li>Add back the help for editing PRT nodes.</li> <li>When validating the editing form, actually evaluate the Maxima code.</li> <li>When validating the editing form, ensure there are no @ and $ in the fields that expect Maxima code.</li> <li>Ensure links from the editing form end up at the STACK docs. This is now work in progress, but relies on http://tracker.moodle.org/browse/MDL-34035 getting accepted into Moodle core. In which case we can use this commit: https://github.com/timhunt/moodle-qtype_stack/compare/helplinks.</li> <li>Hide dropdown input type in the editing form until there is a way to set the list of choices.</li> </ol>"},{"location":"Developer/Development_history/#testing-questions","title":"Testing questions","text":"<ol> <li>DOES NOT HAPPEN ANY MORE With a question like test-3, if all the inputs were valid, and then you change the value for some inputs, the corresponding PRTs output the 'Standard feedback for incorrect' when showing the new inputs for the purpose of validation.</li> <li>Images added to prt node true or false feedback do not get displayed. There is a missing call to format_text.</li> <li>A button on the create test-case form, to fill in the expected results to automatically make a passing test-case.</li> <li>Singlechar input should validate that the input is a single char. (There is a TODO in the code for this.)</li> <li>Dropdown input should make sure that only allowed values are submitted. (There is a TODO in the code for this.)</li> <li>Dropdown input element needs some unit tests. (There is a TODO in the code for this.)</li> <li>We need to check for and handle CAS errors in get_prt_result and grade_parts_that_can_be_graded. (There is a TODO in the code for this.)</li> <li>Un-comment the throw in the matrix input.</li> <li>Unit tests for adaptive mode score display - and to verify nothing like that appears for other behaviours.</li> <li>Duplicate response detection for PRTs should consider all previous responses.</li> <li>It appears as if the phrase \"This submission attracted a penalty of ...\" isn't working.  It looks like this is the old penalty, not the current.</li> <li>PRT node feedback was briefly not being treated as CAS text.</li> <li>Improve editing UI for test-cases https://github.com/maths/moodle-qtype_stack/issues/15</li> </ol>"},{"location":"Developer/Development_history/#optimising-maxima","title":"Optimising Maxima","text":"<ol> <li>Since I have optimized Maxima, I removed write permissions to /moodledata/stack/maximalocal.mac. This makes the healthcheck script unrunnable, and hence I cannot clear the STACK cache.</li> <li>Finish off the system for running Maxima on another server (https://github.com/maths/moodle-qtype_stack/pull/8)</li> </ol>"},{"location":"Developer/Development_history/#documentation-system","title":"Documentation system","text":"<ol> <li>fix <code>maintenance.php</code>.</li> </ol>"},{"location":"Developer/Development_history/#version-22","title":"Version 2.2","text":"<p>Released: October 2010 session.</p> <ul> <li>Enhanced reporting features.</li> <li>Enhanced question management features in Moodle.  E.g. import multiple questions   from AiM/Maple TA at once, assign multiple questions to Moodle question banks.</li> <li>Slider interaction elements.</li> </ul>"},{"location":"Developer/Development_history/#version-21","title":"Version 2.1","text":"<p>Developed by Chris Sangwin and Simon Hammond at the University of Birmingham. Released: Easter 2010 session.</p> <p>Key features</p> <ul> <li>Precision answer test added to allow significant to be checked.</li> <li>Form answer test added to test if an expression is in completed square form.</li> <li>List interaction element expanded to include checkboxes.  See List.</li> <li>Move to Maxima's <code>random()</code> function, rather than generate our own pseudo random numbers</li> <li>Conditionals in CASText</li> <li>Support for Maxima 5.20.1</li> <li>New option added: OptWorkedSol.  This allows the teacher to decide whether the tick box to request the worked solution is available.</li> <li>Sample resources included as part of the FETLAR project.</li> </ul>"},{"location":"Developer/Development_history/#version-20","title":"Version 2.0","text":"<p>Released, September 2007.  Developed by Jonathan Hart and Chris Sangwin at the University of Birmingham.</p> <p>Key features</p> <ul> <li>Display of mathematics taken care of by JSMath.</li> <li>Integrated into the Moodle quiz using the \"remote question protocol\".  The RQP was designed with STACK, and similar systems, in mind.</li> <li>Variety of interaction elements.</li> <li>Multi-part questions.</li> <li>Cache.</li> <li>Item tests.</li> </ul>"},{"location":"Developer/Development_history/#version-10","title":"Version 1.0","text":"<p>Released, 2005.  Developed by Chris Sangwin at the University of Birmingham.</p>"},{"location":"Developer/Development_history/#pre-history","title":"Pre-history","text":"<p>STACK is a direct development of the CABLE project which ran at the University of Birmingham. CABLE was a development of the design of the AiM computer aided assessment system.</p>"},{"location":"Developer/Development_track/","title":"Development track for STACK","text":"<p>Requests for features and ideas for developing STACK are all recorded in Future plans. The past development history is documented on Development history.</p>"},{"location":"Developer/Development_track/#version-446","title":"Version 4.4.6","text":"<p>TODO: </p> <ol> <li>Support for PHP 8.2.  See issue #986.</li> <li>Fix markdown problems. See issue #420.</li> <li>Error messages: use caserror.class more fully to use user information to target error messages.</li> <li>Remove all \"cte\" code from Maxima - mostly install.</li> </ol>"},{"location":"Developer/Development_track/#for-inputs-2","title":"For \"inputs 2\"?","text":"<ul> <li>Better CSS, including \"tool tips\".  May need to refactor JavaScript.  (See issue #380)</li> <li>Add support for matrices with floating point entries, and testing numerical accuracy.</li> <li>Expand support for input validation options to matrices (e.g. floatnum, rationalize etc.)</li> <li>Update MCQ to accept units.</li> <li>Add a base N check to the numeric input.</li> <li>Refactor DB of 'insterStars' and remove stack_input_factory::convert_legacy_insert_stars.  Really use new values throughout.  See Future plans for syntax of answers and STACK</li> </ul>"},{"location":"Developer/Development_track/#other","title":"Other","text":"<ul> <li>Better install code (see #332).</li> <li>Move find_units_synonyms into the parser more fully?</li> <li>1st version of API.</li> <li>Enable individual questions to load Maxima libraries.  (See issue #305)</li> <li>Markdown support?</li> </ul>"},{"location":"Developer/Documentation/","title":"STACK User Documentation","text":"<p>User documentation is written in an extended implementation of the markup language MarkDown. This page is intended for people wishing to write, edit and translate the documentation.</p>"},{"location":"Developer/Documentation/#markdown-language","title":"Markdown language","text":"<ul> <li>The markdown project external site.</li> <li>A cheat sheet is available for quick reference.</li> </ul> <p>Warning: markdown uses whitespace and formatting to give meaning.  The number of spaces at the beginning and the ends of lines convey specific meaning in markdown.  An example is the way code blocks are included, which is useful for including fragments of Maxima code.</p>"},{"location":"Developer/Documentation/#stacks-markdown-documentation-system","title":"STACK's markdown documentation system","text":"<p>STACK stores all documentation within language subdirectories.  For example, English is within <code>/doc/en/</code>.</p> <ul> <li>The directory structure forms the structure of the documentation.</li> <li>Files must use the <code>.md</code> extension.</li> <li>Links to files must use the <code>.md</code> extension.</li> <li>File and directory names should be safe for urls and will be used as the document's title.   Spaces can be encoded as underscore <code>_</code>, e.g. Question state caching should be named <code>Question_state_caching.md</code></li> <li>When accessing a directory, the file <code>index.md</code> in that directory will be displayed, hence this file should be created for new directories.   Note <code>index.md</code> will never be displayed in a directory listing, it can be accessed by navigating to the directory itself.</li> <li>Directories may be nested.</li> <li>A directory listing will be appended to the site map when rendered.</li> <li>Metadata about the files is stored in <code>meta_en.json</code>.  Every page should have metadata.</li> </ul>"},{"location":"Developer/Documentation/#how-relative-links-work-in-stacks-documentation","title":"How relative links work in STACK's documentation","text":"<p>Note Links in the documentation are relative. You can use the following standard notation, for:</p> <ol> <li>a document in the current directory simply use the filename e.g. <code>[Link to Article](Article.md)</code></li> <li>the current directory use <code>./</code> e.g.</li> <li><code>./Article.md</code> refers to <code>Article</code> in this directory</li> <li><code>./#reference</code> refers to the index of the current directory scrolled to the heading with id <code>reference</code></li> <li>the parent directory use <code>../</code> e.g.</li> <li><code>../</code> refers to the docs homepage (if currently only one tier deep)</li> <li><code>../Category/Article.md</code> refers to <code>Article.md</code> in the <code>Category</code> in the parent directory.</li> </ol>"},{"location":"Developer/Documentation/#conventions-in-authoring-pages","title":"Conventions in authoring pages","text":"<p>Markdown does not have categories in the way that MediaWiki does.  Instead, we strongly encourage authors to include a <code># See also</code> section at the end of each STACK documentation page.  This should be part of the markdown page.</p>"},{"location":"Developer/Documentation/#adding-images-and-files-to-the-documentation","title":"Adding images and files to the documentation","text":"<p>The directory <code>/doc/content/</code> is for static content which is served by the documentation. If you want to serve content from the docs please place it in this directory.</p> <p>When writing links use direct relative links to</p> <pre><code>$CFG-&gt;wwwroot . \"/question/type/stack/doc/content\";\n</code></pre> <p>E.g. in <code>About/Logo.md</code> use</p> <pre><code>![STACK Logo](../../content/logo.png)\n</code></pre> <p>The text in square brackets is the alt text, which is important for visually impaired users reading the documentation. There are many great guides for writing good alt text.</p>"},{"location":"Developer/Documentation/#adding-a-link-to-video-in-the-documentation","title":"Adding a link to video in the documentation","text":"<p>To embed video into the documentation first find the unique video key, <code>VIDEO-KEY</code>, then then modify</p> <pre><code>[![IMAGE ALT TEXT](http://img.youtube.com/vi/VIDEO-KEY/0.jpg)](https://www.youtube.com/watch?v=VIDEO-KEY \"Video title\")\n</code></pre> <p>For example, <code>cpwo-D6EUgA</code>, gives</p> <pre><code>[![IMAGE ALT TEXT](http://img.youtube.com/vi/cpwo-D6EUgA/0.jpg)](https://www.youtube.com/watch?v=cpwo-D6EUgA \"Your First STACK Question\")\n</code></pre> <p>The following rendered markdown:</p> <p></p>"},{"location":"Developer/Documentation/#embed-video-in-the-documentation","title":"Embed video in the documentation","text":"<p>Using an iframe such as</p> <pre><code>&lt;iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/cpwo-D6EUgA\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;\n</code></pre> <p>Gives</p>"},{"location":"Developer/Documentation/#mathematics","title":"Mathematics","text":"<p>For the purpose of rendering mathematical equations, an extended version of PHP Markdown Extra is used.</p> <p>It uses LaTeX style notation <code>\\(</code> and <code>\\[</code> to write inline and display maths respectively. Fortunately GitHub documentation uses the same notation :D. An example:</p> <pre><code>\\[ \\frac{\\int_a^b f(t) \\textrm{d} t }{b - a} \\]\n</code></pre> <p> </p>"},{"location":"Developer/Documentation/#compatibility-with-the-online-docs-website","title":"Compatibility with the online docs {#Website}","text":"<p>The STACK docs are made available online on docs.stack-assessment.org. For more information on how this is achieved, see the Website documentation. However this places certain limitations on the sort of elements that can be included in the documentation:</p> <ul> <li>You can only have relative links to files within the <code>doc</code> directory. This means you should not link relatively to, for example, one of the stack .php files. If you want to demonstrate a behaviour of one of STACKs files, it is better to do a direct link to that file on GitHub or on the STACK demo.</li> <li>You cannot use HTML text areas to display LaTeX Math, as that will display poorly. Please use multiline code blocks instead.</li> </ul>"},{"location":"Developer/Documentation/#examples-examples","title":"Examples {#Examples}","text":""},{"location":"Developer/Documentation/#paragraphs-and-formatting","title":"Paragraphs and formatting","text":"<p>Paragraphs are made with two new line characters, a single new line will not be rendered:</p> <pre><code>This is in a paragraph,\nso is this\n\nThis is a new paragraph\n\nThis is a **bold** word and this is an *italicised* word.\n</code></pre> <p>This is in a paragraph, so is this</p> <p>This is a new paragraph</p> <p>This is a bold word and this is an italicised word.</p>"},{"location":"Developer/Documentation/#headings","title":"Headings","text":"<p>Headings are indicated by the # symbol</p> <pre><code># Huge\n## Quite huge\n### Not so huge\n#### Barely huge\n</code></pre>"},{"location":"Developer/Documentation/#huge","title":"Huge","text":""},{"location":"Developer/Documentation/#quite-huge","title":"Quite huge","text":""},{"location":"Developer/Documentation/#not-so-huge","title":"Not so huge","text":""},{"location":"Developer/Documentation/#barely-huge","title":"Barely huge","text":""},{"location":"Developer/Documentation/#lists","title":"Lists","text":"<p>Ordered (numbered) and unordered lists are very intuitive, and nesting is easy</p> <pre><code>1. first point\n2. second point, which is so long\n   it needs two lines\n3. third point will demonstrate nesting\n   1. Nested\n   2. Lists\n\n* Unordered lists made my stars\n* You can nest with different styles\n  1. See?\n</code></pre> <ol> <li>first point</li> <li>second point, which is so long    it needs two lines</li> <li>third point will demonstrate nesting</li> <li>Nested</li> <li> <p>Lists</p> </li> <li> <p>Unordered lists made my stars</p> </li> <li>You can nest with different styles</li> <li>See?</li> </ol>"},{"location":"Developer/Documentation/#code-monospace","title":"Code (monospace)","text":"<p>Code can be displayed inline using back ticks `content` to display <code>content</code>. Code can be displayed in a block by indenting:</p> <pre><code>    Block style code\n</code></pre> <p>Will display</p> <pre><code>Block style code\n</code></pre>"},{"location":"Developer/Documentation/#links","title":"Links","text":"<p>Links are written <code>[text](Documentation.md)</code> to give text.</p> <p>They must end with the <code>.md</code> extension.  External links are easily generated using</p> <pre><code>&lt;http://sesamestreet.com&gt;\n</code></pre> <p>gives http://sesamestreet.com, email address work similarly</p> <pre><code>&lt;count@sesamestreet.com&gt;\n</code></pre> <p>gives count@sesamestreet.com.</p>"},{"location":"Developer/Documentation/#other-cool-features","title":"Other cool features","text":"<pre><code>Definition lists\n: Are one of the many cool features available\nThey are useful for\n: Dictionary style entries\n</code></pre> <p>Definition lists : Are one of the many cool features available</p> <p>They are useful for : Dictionary style entries</p> <p>To force block style code write <code>~~~~</code> above and below, good for after a list when indentation will be interpreted as part of the list</p> <pre><code>~~~~~~~~~~\nLike this\n~~~~~~~~~~\n\n\n\n&gt; When quoting the syntax is like in emails.\n</code></pre> <p>When quoting the syntax is like in emails.</p> <pre><code>Tables       | are also\n------------ | --------\nan extremely | useful\nfeature      | !\n</code></pre> Tables are also an extremely useful feature !"},{"location":"Developer/Documentation/#see-also","title":"See also","text":"<ul> <li>MarkDown</li> <li>PHP Markdown Extra</li> <li>PHP Markdown Extra Math</li> </ul>"},{"location":"Developer/Future_input_processing/","title":"Description of one possible future input processing pipeline","text":"<p>In the recent (documentation)[../Authoring/Syntax.md] there has been  described how input processing starts to have too many options to fit  the original \"insert stars\" model and how things could be expanded in  the short term as we now are getting an overhaul of the casstring  processing in the form of Maxima-statement parsing in 4.3. This is  however something that should be thought of in larger scale and this  document present one way of trying to deal with the complexity of  the whole issue.</p>"},{"location":"Developer/Future_input_processing/#the-problem","title":"The problem","text":"<p>Various inputs have various rules about what kind of input is being  expected. The rules vary from forbidding floats and requiring the responses type to match the type of the teacher's answer, to actually fixing the input syntax in the form of insertion of missing stars and conversion of spaces to stars. In addition to this some inputs may even declare additional  syntax e.g. the way the line by line reasoning works. There are also some  complex CAS-evaluation based requirements that some inputs may ask for  like representing the answer in lowest terms when working with fractions.</p> <p>Those are the kinds of things inputs declare for student input processing and most of those are not trivial and have interactions with certain other features we have in our validation chain.</p> <p>The CAS-statement processing pipeline also includes some amount of syntactic candy in the form logarithms of various bases being representted in  complex ways from the statements, for example <code>log_x+y(z) =&gt; lg(z, x+y)</code>. In addition to that kind of syntax expansions there also exists various  rules that check for typical errors like <code>sin^2(x)</code> which will need to be dealt in the correct place of the processing pipeline, typically before  input level insert stars rules get applied. That latter example will break  down quite badly if someone applies a rule that splits all multiletter  variable names to multiplications of single letter names, before we identify  that <code>sin</code> in this case is actually a badly written function-call that needs to be specially pointted out to the student.</p> <p>The current pre 4.3 situation is complex because most of such rules are mixed in various processing steps and much of the logic that the inputs themselves should handle is actually built into the complex casstring-class making it  difficult to easily separate features and/or place new features into the mix.</p>"},{"location":"Developer/Future_input_processing/#one-way-of-looking-at-the-casstring-processing","title":"One way of looking at the casstring processing","text":"<p>For teacher/code sourced casstrings the logic is relatively simple:</p> <ol> <li>Direct parsing of the statement without any corrective pre-processing.      Generates an AST style representation of the statement.</li> <li>That AST will be piped through syntactic candy filtters to allow use     of various features like the logarithm logic.</li> <li>In the end that AST will be explored for security issues.</li> </ol> <p>For the pipeline of student sourced things is more complex:</p> <ol> <li>The parsing will go through a corrective parser that tries to add      missing stars into places where they would make the input syntactically      valid. In addition to this the parsing may apply additional syntax specific     to the input type. Those inserted stars will be tagged in the resulting      AST.</li> <li>Syntactic candy filters will be applied to the AST.</li> <li>Early phase feature detection will be applied to the AST, without      modification of the AST, <code>sin^2(x)</code> detection and similar pattern matching.     This detection may lead to processing marking a whole subtree of the AST     as invalid so that insert stars of other remaining steps do not modify it     further.</li> <li>Additional star insertion, based on the input's preferences, will be applied     to the AST. Again added stars will be tagged in the AST.<ul> <li>common variable/constant identification <code>xpi =&gt; x*pi</code></li> <li>common function identification <code>xsin(x) =&gt; x*sin(x)</code></li> <li>elimination of all or just undefined function calls <code>sqrt(x) =&gt; sqrt*(x)</code>     and <code>sqrt(f(x)) =&gt; sqrt(f*(x))</code></li> <li>splitting of multi char variables <code>xy =&gt; x*y</code> and <code>x1 =&gt; x*1</code> with     protection of known identifiers <code>pialpha =&gt; pi*alpha</code> as opposed to    <code>pi*alpha =&gt; p*i*a*l*p*h*a</code></li> <li>splitting by number/letter boundaries <code>x1y =&gt; x1*y</code></li> <li>float splitting <code>0.2e-3 =&gt; 0.2*e*-3</code> if wished</li> </ul> </li> <li>Syntactic validity check, if the input requires that all the stars are      correct this step will check that the are no tagged added stars in the AST     nor any invalid subtrees for that matter. Is such exist error messages will      be generated and they will mark those stars.</li> <li>Security check. If fails things stop here. Note that part of the security     check rules are based on options to the input and part to the the whole      question.</li> <li>Simple feature checks, things that the input may require and that can be      easily checked from the AST:<ul> <li>if floats are forbidden then the AST should have none.</li> <li>if we have some form of type constraint then the AST should fit it.</li> <li>if significant figures or decimal places matter they should be checked     from the AST.</li> </ul> </li> <li>Complex feature checks, things like lowest terms need to be sent to CAS to     be checked only after these (if they exist) have been checked can we say     wether the input is valid. These checks should not be tied to the AST they     should happen using it but through separate CAS-statements</li> </ol> <p>One way to look at this is that inputs should have means of doing much of the low level parsing themselves, and there must be ways of them to select ready made AST-filters to be added to the process. The other point from this is that casstrings should not do parsing themselves they should just receive ready ASTs and the parsing and insert stars logic are not part of validation of the casstring the only validation the casstring does is the validation of security, insert stars and other tricks are part of input validation. In some sense this makes casstrings just the containers of the AST and probably the results of its evaluation, it however makes sense for those containers to contain the most important bit of all i.e. the security checking. It also makes sense to use the casstring object as a wrapper of the AST and the store of the error messages, which leads to the conclusion that casstrings get created from the results of step 2 in those processes and need to have interfaces into which various AST filtters get pushed into to update the AST before the final validation.</p> <p>It also makes sense to collect step 8 related statements from multiple inputs  together for validation and that those statements also include whatever is  needed to represent the validity to the student. Likewise step 7 probably bases its behaviour on the teachers answer or other parameters of the input and should also be collected from multiple inputs for single pass validation.</p>"},{"location":"Developer/Future_input_processing/#class-structure","title":"Class structure","text":"<p>Based on the presented we need the following classes with at least the  following methods, stack_cas_cassecurity is the very same it is in 4.3:</p> <pre><code>class stack_cas_casstring {\n\n    /**\n     * Executes an AST filter on the AST defining this casstring.\n     */\n    public function filter_ast(stack_cas_astfilter $filter) {}\n\n    /**\n     * Validation is now based only on the security settings and the current AST.\n     */\n    public function validate(string $security_level, stack_cas_cassecurity $rules): bool {}\n\n}\n\nclass stack_cas_astfilter {\n\n    /**\n     * Does whatever it needs to the AST and may append to the errors or notes\n     * might receive stack_cas_casstring directly, but better to keep these \n     * separate.\n     */\n    public function filter(MP_Node $ast, array &amp;$errors, array &amp;$answernotes): MP_Node {}\n\n}\n\n</code></pre> <p>The idea here is that once the code is in this form whenever one wants to build syntactic candy or error checks one builds a new stack_cas_astfilter and if it is something central it will probably go to step 2 of the processing otherwise it will be a part of the student input pipeline and under the control of inputs. In any case one can write tests for it separate from everything else, but one will need to also define its place in the processing order and test  the whole chain as some other filter might appear in that chain and eat up the things. To keep the order in order I would recommend that the files  containing filter code are prefixed with something like '012_' and that we  leave plenty of empty room if at all possible in that range, for future filters to be plugged into the sequence. Ideally, those numbers should also be present in the classnames, but obviously not as prefixes there.</p>"},{"location":"Developer/Future_plans/","title":"Future plans","text":"<p>Note, where the feature is listed as \"(done)\" means we have prototype code in the testing phase.</p>"},{"location":"Developer/Future_plans/#features-to-add-for-stack-45-or-later","title":"Features to add for STACK 4.5 or later","text":""},{"location":"Developer/Future_plans/#units-inputs","title":"Units inputs","text":"<ul> <li>Conversion from Celsius to Kelvin?  What units to choose for degrees Celsius which don't conflict with Coulomb?</li> <li>Support for United States customary units?</li> <li>(Parser can do this) Add an option to validation to require compatible units with the teacher's answer, not just some units.</li> <li>Create a mechanism to distinguish between <code>m/s</code> and <code>m*s^-1</code>, both at validation and answer test levels.</li> <li>Create a mechanism to distinguish between <code>m/s/s</code> and <code>m/s^2</code>, both at validation and answer test levels.</li> <li>Add support for testing for error bounds in units.  E.g. <code>9.81+-0.01m/s^2</code>.  There is already CAS code for this, and the error bounds are an optional 3rd argument to <code>stackunits</code>.  This is currently only used to reject students' answers as invalid.</li> </ul>"},{"location":"Developer/Future_plans/#inputs","title":"Inputs","text":"<ul> <li>Add new input types</li> <li>DragMath (actually, probably use JavaScript from NUMBAS instead here, or the MathDox editor).</li> <li>Sliders - do this via JSXGraph.</li> <li>It is very useful to be able to embed input elements in equations, and this was working in STACK 2.0. However is it possible with MathJax or other Moodle maths filters?   This might offer one option:  http://stackoverflow.com/questions/23818478/html-input-field-within-a-mathjax-tex-equation</li> <li>In the MCQ input type: Add choose N (correct) from M feature (used at Aalto).</li> <li>A new MCQ input type with a \"none of these\" option which uses JavaScript to degrade to an algebraic input: https://community.articulate.com/articles/how-to-use-an-other-please-specify-answer-option</li> <li>(Parser can do this) Add an option for \"no functions\" which will always insert stars and transform \"x(\" -&gt; \"x*(\" even when x occurs as both a function and a variable.</li> <li>Make the syntax hint CAS text, to depend on the question variables.</li> </ul>"},{"location":"Developer/Future_plans/#improve-the-editing-form","title":"Improve the editing form","text":"<ul> <li>A button to remove a given PRT or input, without having to guess that the way to do it is to delete the placeholders from the question text.</li> <li>A button to add a new PRT or input, without having to guess that the way to do it is to add the placeholders to the question text.</li> <li>A button to save the current definition and continue editing. This would be a Moodle core change. See https://tracker.moodle.org/browse/MDL-33653.</li> <li>Add functionality to add a \"warning\" to the castext class.  Warnings should not prevent execution of the code but will stop editing.</li> </ul>"},{"location":"Developer/Future_plans/#other-ideas","title":"Other ideas","text":"<ul> <li>Document ways of using JSXGraph  <code>http://jsxgraph.org</code> for better support of graphics.</li> <li>Better options for automatically generated plots.  (Aalto use of tikzpicture?)  (Draw package?)</li> <li>3D Graphics.  Can we use: https://threejs.org/</li> <li>Expand support for context variables, so variables and other functions will be considered as context variables as well.  This will expand the utility of <code>texput</code>.</li> <li>Implement \"Banker's rounding\" option which applies over a whole question, and for all answer tests.</li> <li>(Parser can do this) Implement \"CommaError\" checking for CAS strings.  Make comma an option for the decimal separator.</li> <li>(Parser can do this) Implement \"BracketError\" option for inputs.  This allows the student's answer to have only those types of parentheses which occur in the teacher's answer.  Types are <code>(</code>,<code>[</code> and <code>{</code>.  So, if a teacher's answer doesn't have any <code>{</code> then a student's answer with any <code>{</code> or <code>}</code> will be invalid.</li> <li>It would be very useful to have finer control over the validation feedback. For example, if we have a polynomial with answer boxes for the coefficients, then we should be able to echo back \"Your last answer was...\" with the whole polynomial, not just the numbers.</li> <li>Decimal separator, both input and output.</li> <li> <p>Check CAS/maxima literature on -inf=minf.</p> </li> <li> <p>add in support for pdf_binomial, in particular add in these test cases to <code>studentinput_test.php</code>.</p> <pre><code>array('pdf_binomial(n,m,p)', 'php_true', 'pdf_binomial(n,m,p)', 'cas_true', '{{m}\\choose{n}}\\cdot p^{n}\\cdot {\\left(1-p\\right)}^{m-n}', '', \"\"),\narray('pdf_binomial(2,6,0.07)', 'php_true', 'pdf_binomial(6,2,0.07)', 'cas_true', '{{6}\\choose{2}}\\cdot 0.07^{2}\\cdot {\\left(1-0.07\\right)}^{6-2}', '', \"\"),\n</code></pre> </li> <li> <p>(Done in Stateful) Introduce a variable so the maxima code \"knows the attempt number\". [Note to self: check how this changes reporting].  This is now being done with the \"state\" code in the abacus branch.</p> </li> </ul>"},{"location":"Developer/Future_plans/#answer-tests","title":"Answer tests","text":"<ul> <li>Answer tests should be like inputs. We should return an answer test object, not a controller object.</li> <li>at-&gt;get_at_mark() really ought to be at-&gt;matches(), since that is how it is used.</li> </ul>"},{"location":"Developer/Future_plans/#features-that-might-be-attempted-in-the-future-possible-self-contained-projects","title":"Features that might be attempted in the future - possible self-contained projects","text":"<ul> <li>Read other file formats into STACK.  In particular</li> <li>AIM</li> <li>WeBWorK, including the Open Problem Library:  http://webwork.maa.org/wiki/Open_Problem_Library</li> <li>Maple T.A. (underway: see https://github.com/maths/moodle-qformat_mapleta)</li> <li>WIRIS</li> <li>Possible Maxima packages:</li> <li>Better support for rational expressions, in particular really firm up the PartFrac and SingleFrac functions with better support.</li> <li>Auto deploy.  E.g. if the first variable in the question variables is a single a:rand(n), then loop a=0..(n-1).</li> <li>When validating the editing form, also evaluate the Maxima code in the PRTs, using the teacher's model answers.</li> </ul>"},{"location":"Developer/Future_plans/#reveal-block","title":"\"Reveal block\"","text":"<p>The functionality we want to develop is a block in which the contents is revealed or hidden by JavaScript, depending on the value of a separate input.</p> <pre><code>[[ reveal input=\"ans1\" value=\"true\" ]]\n\nThis will be shown if the value of \"ans1\" is true.\n\n[[ else if value=\"false\" ]]\n\n[[ else ]]\n\nThis will be shown otherwise. (optional)  Perhaps?\n\n[[/ reveal ]]\n</code></pre> <p>This implements a JavaScript listener on input \"ans1\", which reveals or hides the appropriate content.</p> <ol> <li>These blocks can be nested.</li> <li>Inputs can be inside reveal blocks (that is sort of the whole point!).  This works well with the new <code>EMPTYANSWER</code> functionality, allowing an input to expect not to be used in a correct response.</li> <li>What do we do about values of inputs inside the block, when the reveal condition fails and the block is hidden. Is this deleted with warning, or retained? (Option to block?)</li> <li>Only implement for true/false, or MCQ inputs to start with.</li> <li>What do we do about two reveal blocks listening to the same input?</li> <li>On page load, we need the JS to \"do the right thing\", i.e. interrogate each input and hide/reveal the content.</li> </ol> <p>An example question is included as samplequestions/reveal_block_example.xml</p> <p>In this example, we have only revealed the first level, which should be linked to ans1.  If this functionality were available and nested then we would add an MCQ checkbox input within the second reveal block, which is linked to reveal further inputs.</p>"},{"location":"Developer/Future_plans/#improvements-to-the-equiv-input-type","title":"Improvements to the \"equiv\" input type","text":"<ul> <li>Improve spacing of comments, e.g. \\intertext{...}?</li> <li>Auto identify what the student has done in a particular step.</li> </ul> <p>Model solutions.</p> <ul> <li>Follow a \"model solution\", and give feedback based on the steps used.  E.g. identify where in the students' solution a student deviates from the model solution.</li> <li>Develop a metric to measure the distance between expressions.  Use this as a measure of \"step size\" when working with expressions.</li> </ul> <p>Add mathematical support in the following order.</p> <ol> <li>Logarithms and simple logarithmic equations.</li> <li>Allow students to create and use functions of their own (currently forbidden).</li> <li> <p>Add a \"Not equals\" operator.  For example:</p> <p>infix(\"&lt;&gt;\"); p:x&lt;&gt;y; texput(\"&lt;&gt;\",\"{\\neq}\", infix); tex(p);</p> </li> </ol>"},{"location":"Developer/Future_plans/#stack-custom-reports","title":"STACK custom reports","text":"<p>Basic reports now work.</p> <ul> <li>Really ensure \"attempts\" list those with meaningful histories.  I.e. if possible filter out navigation to and from the page etc.</li> <li>Add better maxima support functions for off-line analysis.</li> </ul>"},{"location":"Developer/Future_plans/#suggestions-from-stack-professionals-network-9th-dec-2022","title":"Suggestions from STACK Professionals Network, 9th Dec 2022","text":"<ul> <li>Text based potential response trees (would allow for easier copying of complicated trees, etc).</li> <li>Changes to preset feedback to certain answer tests which might be more appropriate for different audiences. Could a 'simplified' English language pack allow for this (future changes might allow this to be done on a question-by-question basis).</li> <li>Check for potential issues with default correct/incorrect feedback for different languages (defaults can already be set on the server level by a Moodle administrator).</li> <li>Metadata on language for questions.</li> <li>Tools for languge integrity (e.g. making it easier to identify what languages are in each question).</li> <li>Making sure Maxima knows the intended language (will allow for Maxima code to choose from the available languages).</li> <li>May want to have further discussions on how scores and penalties are handled (there is already a new feature in the latest version of STACK so that you can include functions in the \"score\" field.</li> <li>DONE: Compile some more detailed release notes for new version containing common issues with questions.</li> <li>MathJax sometimes stops rendering -- this is usually an issue with the html in the question text or something being added to the editor, but sometimes this is an intermittent issue, but this is probably not directly a STACK issue.</li> <li>Accessing Moodle via an LTI connection sometimes prompts students on Macs and old PCs to login with a password (which they don't have) when they click on a quiz. This isn't a direct STACK issue, but it would be a good idea to raise this on Moodle support forums.</li> <li>DONE:  Improve the question tests page (now \"STACK question dashboard\") -- make sure most useful features are highlighted. For example, make it more clear when a specific variant is being considered, and when all variants are being looked at. After an individual variant is undeployed, it still shows test information for this seed on the page, requiring a few extra clicks to switch to a different seed (though that makes it easier to restore that seed if you accidently undeploy it).</li> <li>Forcing editor choice to prevent errors caused by editors which add in html tags (make sure it is clear to users why we do this).</li> <li>Consider prioritising the STACK API? Documentation on this definately needs to be improved. Volunteers are probably needed to help out on this.</li> <li>We should probably have a discussion for which individual questions are best to promote STACK.</li> </ul> <p>Good to document know-how and communicate this to avoid problems on updates, and to generate new suggestions. New folders can be added in doc/en -- small suggestions can go straight into master, more complete changes should be discussed with the group.</p>"},{"location":"Developer/Language_packs/","title":"Translation of the STACK Project","text":""},{"location":"Developer/Language_packs/#translation-of-questions","title":"Translation of questions","text":"<p>This page will deal with translations of the STACK interface. Individual question text can also be translated. See this page in the multi-language question authoring section.</p>"},{"location":"Developer/Language_packs/#stack-4-is-released-and-being-used-with-the-following-languages","title":"STACK 4 is released and being used with the following languages","text":"<p>STACK is designed to support the straightforward addition of other language packs. If you have translated STACK into other languages - or would be interested in doing so - please let us know.</p> <p>As of May 2023, substantial translations exist for the following languages.</p> <ul> <li>Afrikaans [af]</li> <li>Arabic [ar]</li> <li>Catalan [ca]</li> <li>Chinese (simplified) [zh_cn]</li> <li>Dansk [da]</li> <li>Dutch [nl]</li> <li>Estonian [et]</li> <li>English [en]</li> <li>Finnish [fi]</li> <li>French [fr]</li> <li>Galego [gl]</li> <li>German [de]</li> <li>Greek [el]</li> <li>Hebrew [he]</li> <li>Italian [it]</li> <li>Japanese [ja]</li> <li>Polish [pl]</li> <li>Portuguese - Brazil [pt_br]</li> <li>Romanian [ro]</li> <li>Romanian for workplace [ro_wp]</li> <li>Silesian [szl]</li> <li>Slovak [sk] Slovenian [sl]</li> <li>Spanish (international) [es]</li> <li>Spanish - Mexico [es_mx]</li> <li>Swedish [sv]</li> <li>Swedish - Finland [sv_fi]</li> </ul> <p>Details of some colleagues who translated STACK are given under credits.  If you need these languages please contact the developers for more details of the status of this work.</p>"},{"location":"Developer/Language_packs/#installing-a-language-pack","title":"Installing a language pack","text":"<p>To allow users of your server to see interface in a certain language, the language pack has to be installed on your server. In Moodle, to install a language pack on your server, goo to <code>Site adminstration</code>, <code>Language</code>, <code>Language pakcs</code>. Here you can see a list of installed language packs, as well as a list of available languages. This is a list of all translations of Moodle, but note only some of them correspond to translations of STACK as well (see list above). To install a language pack, click on it and click <code>Install selected language pack</code>. </p> <p>Once a language pack is installed, a user can change the preferred language for Moodle and STACK by clicking on their profile, and then going to <code>Preferences</code>, <code>Preferred language</code> and selecting the language.</p>"},{"location":"Developer/Language_packs/#how-to-translate-stack","title":"How to translate STACK","text":"<p>STACK is part of Moodle.  Hence, we have used the Moodle translation management system.  </p> <p>Please check if STACK has already been translated into your language.  We are using Moodle's AMOS system to do this.  </p> <p>ALL strings which appear to the user should be found in the single file</p> <p>You need to translate the strings for the Components <code>qtype_stack</code>, <code>qbehaviour_adaptivemultipart</code>, <code>qbehaviour_dfcbmexplicitvaildate</code>, <code>qbehaviour_dfexplicitvaildate</code> and <code>qformat_stack</code>.</p> <p>It is convenient to translate the strings online.  To translate STACK into another language please use Moodle's AMOS system. See Moodle online documentation for specific details.</p> <p>Apologies to those people who have translated STACK through AMOS, but who do not appear in the credits. Please contact Chris Sangwin to add your name.</p>"},{"location":"Developer/Language_packs/#finding-language-packs-for-an-api-setup","title":"Finding language packs for an API setup","text":"<ol> <li>Create a new full Moodle server and install the language pack you want.</li> <li>Look on your server in <code>$CFG-&gt;langlocalroot.'/'.$lang;</code></li> <li>Find the file \"qtype_stack.php\".</li> </ol> <p>This contains all the language strings.</p>"},{"location":"Developer/Language_packs/#further-reading","title":"Further reading","text":"<p>Applying a language pack will change the language on the Moodle and STACK interface. It will not change question text unless this has been translated by the question author. For information on writing multilingual question text, see the page on multilingual question authoring in authoring section.</p>"},{"location":"Developer/Local_Usage/","title":"Local Usage","text":"<p>There are a number of reporting options which are built-in and supported.  To use the features on this page requires moodle admin permission.</p> <p>It is often useful to know numbers about STACK usage on your local server.  To do this we need to work in the Moodle database.  E.g.</p> <ol> <li>How many STACK questions were initialised for students during the last time interval?</li> <li>How many attempts those students made to those question during that time on average?</li> <li>Which courses had most attempts and which courses had the most STACK questions in use?</li> <li>Question bank status by course, how many questions were in use, which questions have not been used for a long time?</li> <li>Quiz/activity usage, i.e. in what context are the questions being used and for example how many questions are present in a quiz by average?</li> <li>Duplicate questions, how many copies of the same questions are present in the question banks?</li> </ol> <p>Do get this kind of data you will need the custom sql report.</p>"},{"location":"Developer/Local_Usage/#the-number-of-questions-that-students-have-interacted-with","title":"The number of questions that students have interacted with","text":"<p>That is the number of questions that students have interacted with.</p> <pre><code>SELECT COUNT(1)\nFROM {question_attempts} qa\nJOIN {question} q ON q.id = qa.questionid\nJOIN {quiz_attempts} quiza ON quiza.uniqueid = qa.questionusageid\nWHERE quiza.preview = 0\nAND q.qtype = 'stack'\nAND qa.timemodified BETWEEN %%STARTTIME%% AND %%ENDTIME%%\nAnd, here is a query that does number of questions attempted (ever) by course\n\nSELECT c.shortname AS Website, COUNT(1) AS Number_of_STACK_questions_attempted\n\nFROM {question_attempts} qa\nJOIN {question} q ON q.id = qa.questionid\nJOIN {quiz_attempts} quiza ON quiza.uniqueid = qa.questionusageid\nJOIN {quiz} quiz ON quiz.id = quiza.quiz\nJOIN {course} c ON c.id = quiz.course\n\nWHERE q.qtype = 'stack'\nAND quiza.preview = 0\n\nGROUP BY c.shortname\n\nORDER BY COUNT(1) DESC, c.shortname\n</code></pre> <p>Moodle has a built-in report that will count the number of questions of any type in the question bank (report/questioninstances) but I think this is a less useful statistic.</p>"},{"location":"Developer/Local_Usage/#closing-date-of-quizzes-which-use-stack","title":"Closing date of quizzes which use STACK","text":"<p>Another useful report, which we use for planning the time of upgrades, is this one, which lists the close date of quizzes uses STACK (including ones that use STACK questions via Moodle's 'Random question' feature:</p> <pre><code>SELECT DISTINCT\n    c.shortname AS Website,\n    quiz.name AS iCMA,\n    quiz.timeopen AS Open_date,\n    quiz.timeclose AS Close_date\n\nFROM {quiz} quiz\nJOIN {course} c ON c.id = quiz.course\n\nWHERE to_timestamp(quiz.timeclose) &gt; 'now'::timestamp - '1 month'::interval\nAND EXISTS (\n    SELECT 1\n    FROM {quiz_slots} slot\n    JOIN {question} q ON q.id = slot.questionid\n    WHERE slot.quizid = quiz.id AND (\n        q.qtype = 'stack' OR q.qtype = 'random' AND EXISTS (\n            SELECT 1\n            FROM {question_categories} qc\n            JOIN {question} rq ON rq.category = qc.id\n            WHERE qc.id = q.category AND rq.qtype = 'stack'\n        )\n    )\n)\nORDER BY Close_date, Website, iCMA\n</code></pre>"},{"location":"Developer/Local_Usage/#list-all-the-people-who-have-created-stack-questions-in-your-site","title":"List all the people who have created STACK questions in your site","text":"<p>One final query, which lists all the people who have created STACK questions in your site (useful if you need to email them about something:</p> <pre><code>SELECT u.firstname, u.lastname, u.username, u.email, number_created, number_modified\n\nFROM (\n    SELECT COALESCE(createdby, modifiedby) AS userid,\n           COALESCE(number_created, 0) AS number_created,\n        COALESCE(number_modified, 0) AS number_modified\n    FROM (\n\n        SELECT createdby, COUNT(1) AS number_created\n        FROM {question} WHERE qtype = 'stack'\n        GROUP BY createdby\n\n    ) qscreated\n    FULL JOIN (\n\n        SELECT modifiedby, COUNT(1) AS number_modified\n        FROM {question} WHERE qtype = 'stack'\n        GROUP BY modifiedby\n\n    ) qsmodified ON createdby = modifiedby\n\n) comined_counts\n\nJOIN {user} u ON u.id = userid\n\nORDER BY number_created DESC, number_modified DESC\n</code></pre>"},{"location":"Developer/Local_Usage/#further-queries","title":"Further queries","text":"<p>These queries were last updated in April 2020 (and are not actively maintained as a core part of STACK).  Please contribute related queries to the developers.</p>"},{"location":"Developer/Maxima_packages/","title":"Adding support for Maxima packages","text":"<p>Local code, or links to local libraries, can be placed in <code>maxima\\local.mac</code>.</p> <p>Maxima has a very wide range of optional packages.  Some of these write to the server file system, and so we do not permit question authors to load arbitrary packages into Maxima.  Instead the developers maintain a \"whitelist\" of packages.</p> <p>There is currently no support for a question by question loading of packages.  This may be included in the future, subject to demand/need.  Currently there is a site-wide option to load packages.</p> <p>Adding in support for additional Maxima packages needs to be done by a developer on the server.</p> <ol> <li>The list of supported packages is defined <code>stack/cas/installhelper.class.php</code> in the setting</li> </ol> <p><code>public static $maximalibraries = '...';</code></p> <ol> <li>The default settings are defined in </li> </ol> <p><code>qtype_stack | maximalibraries</code></p> <p>It is probably sensible to make the default to load all the available packages, so new installations can see what is supported. </p> <ol> <li>Just because the package is loaded into Maxima does not mean that STACK users will be permitted to use the function names in questions.</li> <li>STACK only allows student users to input a certain restricted list of commands.</li> <li>STACK allows teachers to use a much wider list of commands, and to define functions of their own.  However unless a function has been checked, it is likely the teacher will not be permitted to use this.  We periodically work through all the function names in all maxima packages and add these to the variable <code>security-map.json</code>.</li> </ol> <p>Some notes.</p> <ol> <li>The developers welcome proposals for support of packages.  Mostly we haven't needed them ourselves, and so didn't add them yet!  Where individual functions are needed, it is sometimes better just to always load the package anyway rather than adding it as a site-wide option.  One historic reason for having site-wide options was to ensure back compatibility with older versions of Maxima.</li> <li>Some packages do make Maxima significantly slower to load and run.  We will check this before allowing a particular package.  (This is a good reason to allow question to load packages of course...)</li> <li>Beware of new global variables, changes/side effects in other functions.</li> </ol>"},{"location":"Developer/Maxima_packages/#maxima-graph-theory-package","title":"Maxima graph theory package","text":"<p>For use with STACK, Maxima needs to connect to the web server (PHP scripts) and this is actually done by passing text files back and forward.  So every expression to the CAS, and every result back, must have a simple string format.</p> <p>Some of the contributed packages, including the very nice graph theory package, have developed their own internal representation for mathematical objects.  For example,</p> <pre><code>gf_set_data(2,x^4+x+1);\n</code></pre> <p>returns</p> <pre><code>\"Structure [GF-DATA]\"\n</code></pre> <p>As of Nov 2020, the STACK developers have not investigated what a \"Structure [GF-DATA]\" is or how that could be communicated between PHP and Maxima!  By way of contrast a simple polynomial x^4+x+1 has an internal (LISP) tree structure of</p> <pre><code>((MPLUS SIMP) 1 $X ((MEXPT SIMP) $X 4))\n</code></pre> <p>which you can read this as</p> <p>((+) 1 x ((^) x 4)</p> <p>We must have some kind of string like that to communicate and STACK basically uses the Maxima <code>string</code> command to do this.  It is very likely that without re-writing the internals of the graph theory package it is not compatible with the way we connect to Maxima.</p>"},{"location":"Developer/PHP-CAS/","title":"PHP interface with the CAS","text":"<p>This document describes the design of the PHP interface to the CAS.  This interface was developed specifically to connect STACK to Maxima.</p>"},{"location":"Developer/PHP-CAS/#high-level-objects","title":"High level objects","text":""},{"location":"Developer/PHP-CAS/#cas-text","title":"CAS text","text":"<p>CAS text is literally \"computer algebra active text\".  This is documented here.  Note, that when constructing CAS text it must be able to take a CAS session as an argument to the constructor.  In this way we can use lists of variables, such as question variables to provide values.</p> <p>E.g. we might have :</p> <pre><code>n:rand(5)+2;\n</code></pre> <p>in the question variables field.  The question is instantiated,  and then later we need to create some CAS text, e.g. feedback, in which we have :</p> <pre><code>You were asked to find the integral of \\((x+2)^{@n@}\\) with respect to \\(x\\).  In fact ....\n</code></pre> <p>Here, we need the CAS text to be able to construct the text, with the previously evaluated value of <code>n</code>.  This need is also why the CAS session returns the value of the variables as well as a displayed form.  It is used here.</p>"},{"location":"Developer/PHP-CAS/#cas-session","title":"CAS session","text":"<p>This class actually calls the CAS itself.  The basic ideas is to take a list of maxima commands, including assignments of the form.</p> <pre><code>key:rawvalue\n</code></pre> <p>and executes this list in a single Maxima session.  The results of this are then captures and fed back into the CAS strings so we essentially have data in the form:</p> <pre><code>key =&gt;\n    value\n    display\n    error\n</code></pre> <p>An important point here is that expressions (values) can refer to previous keys. This is one reason why we can't tie teachers down to a list of allowed functions.  They will be defining variable and function names.  We have implemented a lazy approach where the connection to the CAS is only made, and automatically made, when we ask for the values, display form or error terms for a variable.  And we don't generate display and value unless they are needed later.  E.g. intermediate values do not create LaTeX.</p>"},{"location":"Developer/PHP-CAS/#answer-tests","title":"Answer tests","text":"<p>The answer tests essentially compare two expressions.  These may accept an option, e.g. the number of significant figures. Details of the current answer tests are available elsewhere.  The result of an answer test should be</p> <ol> <li>Boolean outcome, true or false,</li> <li>errors,</li> <li>feedback,</li> <li>note.</li> </ol>"},{"location":"Developer/PHP-CAS/#other-concepts","title":"Other concepts","text":""},{"location":"Developer/PHP-CAS/#validity","title":"Validity","text":"<p>There are a number of reasons why a CAS expression needs to be \"valid\".   These are</p> <ol> <li>security,</li> <li>stability,</li> <li>error trapping,</li> <li>pedagogic reasons, specific to a particular question.</li> </ol>"},{"location":"Developer/PHP-CAS/#single-call-prts-and-simplification","title":"Single call PRTs and simplification","text":"<p>As of STACK 4.4 we make a single Maxima call to exectue an entire PRT.  This reduces significantly the number of separate calls to maxima, which  is a significant efficienty  boost for more complex questions.</p> <p>Some answer tests rely on \"unsimplified\" expressions with a \"what you see  is what you get\" approach.</p> <p>This example illustrates the issue.  The teacher computes the answer to their  question, e.g. find ,  with the Maxima code</p> <pre><code>p1:int(x^4*(1-x)^4/(1+x^2),x,0,1);\n</code></pre> <p>using simplification (obviously) at the start of the quetion variables, and this simplified expression is used by the PRT. The answer,  , is held internally in \"simplified\" form.  The Maxima string output is <code>22/7-%pi</code> but internally the answer is actually the following </p> <pre><code>((MPLUS SIMP) ((RAT SIMP) 22 7) ((MTIMES SIMP) -1 $%PI))\n</code></pre> <p>You can see the internal tree structure of a Maxima expression with the following code.</p> <pre><code>(simp:true, p1:22/7-%pi, ?print(p1));\n</code></pre> <p>Rather than <code>22/7-%pi</code> the internal structure is really closer to this: <code>rat(22,7)+ (-1*%pi)</code>.</p> <p>On the other hand, a student types in the expression <code>22/7-%pi</code> and we deal with this without simplification. The internal Maxima expression is now </p> <pre><code>(simp:false, p1:22/7-%pi, ?print(p1));\n</code></pre> <p>which gives a different internal structure</p> <pre><code>((MPLUS) ((MQUOTIENT) 22 7) ((MMINUS) $%PI))\n</code></pre> <p>which might best be thought of as <code>22/7+-(%pi)</code> where <code>-</code> is now a function of a single argument.</p> <p>In this example, the unsimplified <code>MQUOTIENT</code> and simplified <code>RAT SIMP</code> are not particularly problematic.  However, the difference between <code>-%pi</code> and <code>-1*%pi</code> is seriouly problematic.  Indeed, this kind of distinction is exactly what some answer tests, e.g. <code>EqualComAss</code> and <code>CasEqual</code>, are designed to establish.  These tests will not work with a mix of simplified and unsimplified expressions, even if to the user they look completely identical!</p> <p>The solution to this problem is to \"rinse\" away any maxima internal simplification by using the Maxima <code>string</code> function to return the expression to the top level which a user would expect to type.  This process corresponds to what happend in older versions of Maxima in which expressions were routinely passed between Maxima and PHP, with the string representation being used.</p> <p>Some expressions (lists, matrices) are passed by reference in Maxima, so even if the teacher's answer is created without simplification in the first instance, when it is evaluated by the answer tests there is a risk of it becoming simplified when it is later compared by an answer test function.</p>"},{"location":"Developer/Parser/","title":"Building the parser","text":""},{"location":"Developer/Parser/#install-node","title":"Install node","text":"<p>We need to use node:</p> <pre><code>apt-get install node npm\n</code></pre> <p>Inside <code>stack/stack/maximaparser</code> (or anywhere else), and not as root</p> <pre><code>npm install pegjs \nnpm install phpegjs ts-pegjs\n</code></pre>"},{"location":"Developer/Parser/#compile-the-parser","title":"Compile the parser","text":"<p>To compile the parser</p> <pre><code>node gen.js\n</code></pre> <p>This should return <code>null null null</code> and create new parsers for STACK.</p>"},{"location":"Developer/Parser/#adding-rules-to-the-parser","title":"Adding rules to the parser","text":"<p>Identical changes need to be made in both</p> <ol> <li><code>stack/maximaparser/MP_classes.php</code></li> <li><code>stack/maximaparser/autogen/parser-grammar.pegjs</code></li> </ol>"},{"location":"Developer/Parser/#naming-parser-rules","title":"Naming parser rules","text":"<p>We give each parser rule a name, numbered in the approximate appropriate order in which they need to be applied.</p> <ul> <li>0-10 the mandatory stars for \"f(x)(y) =&gt; f(x)*(y)\" and syntactical candy like the logarithms</li> <li>10-20 rules forbidding certain usages.</li> <li>20-30 identification of typical syntax mistakes like \"sin^2(x)\".</li> <li>30-40 rules forbidding certain usages, like calling functions at all.</li> <li>40-50 various rules adding stars, insert stars in function calls and split variables and whatnot.</li> <li>60-70 rules forbidding certain usages, e.g. forbid floats.</li> <li>80-90 logic to check for things that have been done and deciding whether what was done was ok i.e. stars were inserted but not allowed in \"syntax=true\".</li> </ul>"},{"location":"Developer/Parser/#debugging-the-parser-rules","title":"Debugging the parser rules","text":"<pre><code>echo \"\\n\" . $ast-&gt;debugPrint($ast-&gt;toString() . '     ') . \"\\n\";\nwhile ($ast-&gt;callbackRecurse($process, true) !== true) {\n    echo \"\\n\" . $ast-&gt;debugPrint($ast-&gt;toString() . '     ') . \"\\n\";\n}\necho \"\\n\" . $ast-&gt;debugPrint($ast-&gt;toString() . '     ') . \"\\n\";\n</code></pre>"},{"location":"Developer/Parser/#nouns","title":"Nouns","text":"<p>There are two separate classes of expressions which need to be protected as \"nouns\".</p> <ol> <li>The Maxima Boolean functions do not respect <code>simp:false</code>.  So, we have parallel operators such as <code>A nounand B</code>.  These should always be used when connecting to Maxima.  Evaluation/simplification of Boolean expressions such as <code>true and false</code> is done on the Maxima side.  Teachers and students should use <code>and</code>, etc. and these are always translated into an evaluation form.</li> <li>With <code>simp:false</code> we still have evaluation of expressions such as <code>diff(x^3,x)</code> to <code>3*x^2</code>.  To protect student's answers (\"Your last answer was..\") we  have parallel noun forms such as <code>noundiff</code> and <code>nounint</code>.  Note, some of these also change the display of expressions.</li> <li>Maxima uses the apostophie to create noun forms, e.g. <code>'diff(x^3,x)</code>.  From STACK 4.3, teachers are able to use this.</li> </ol>"},{"location":"Developer/Question_state_caching/","title":"Question state caching","text":"<p>The current cache is very close indeed to the CAS.  Indeed, it is actually calls to the CAS itself which are cached.  This gives a dramatic increase in performance when the result already exists. </p> <p>We recommend using the cache on a production server.  Note, the cache needs to be cleared manually, perhaps on an annual cycle.  The cache is automatically cleared if you upgrade the plugin.</p>"},{"location":"Developer/Question_state_caching/#clearing-the-cache","title":"Clearing the cache","text":"<p>This can be done through Moodle.</p> <p>Navigate to</p> <pre><code> Home &gt; Site administration &gt; Plugins &gt; Question types &gt; STACK\n</code></pre> <p>Choose to view the healthcheck page.  At the bottom of this is a button to clear the cache.</p>"},{"location":"Developer/Release_notes_4_4_x/","title":"Release notes for STACK 4.4.x","text":"<p>STACK version 4.4.0 was released in July 2022.  This was a major rewrite of the PRT and CASText systems, with a focus on performance and limitations of the previous systems.  This release has changed/tightened up some question authoring causing some problems with existing questions.  For this reason we have written these dedicated release notes.</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-foreach-blocks-over-zero-length-lists","title":"Issue: <code>[[ foreach ]]</code> blocks over zero length lists.","text":"<p><code>[[ foreach ]]</code> blocks over a list that happens to have length zero causes \"text rendering error\" if reference to the non-existent element is made, even though the loop is not run: e.g.</p> <pre><code>[[ foreach item=\"[]\" ]]  {@item@}   [[/ foreach ]].\n</code></pre> <p>(Note without the <code>{@item@}</code> it runs fine.)</p> <p>Solution Protect loop with an <code>[[ if  ]]</code> block on the length of the list.</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-bad-interaction-between-ordergreat-and-exdowncase","title":"Issue: Bad interaction between <code>ordergreat</code> and <code>exdowncase</code>","text":"<p>This is a more serious problem, see https://github.com/maths/moodle-qtype_stack/issues/887 for updates.</p> <p>One solution is to test for <code>exdowncase(sans)=exdowncase(tans)</code> [not just <code>tans</code>].</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-automatically-calculated-numerical-teachers-answer-might-now-include-brackets","title":"Issue: Automatically calculated numerical teachers answer might now include brackets","text":"<p>Automatically calculated numerical teachers answer might now include brackets: ( -(3/8)), which is a problem if the input forbade brackets!, causing Question Test failure.</p> <p>Solution: Don't forbid input of brackets!</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-when-selecting-function-names-from-a-list","title":"Issue: when selecting function names from a list.","text":"<p>When using something like </p> <pre><code>func:rand([sin,cos,exp,ln]);\nis(equal(func,ln));\n</code></pre> <p>now returns unknown. Used to return true/false.</p> <p>Solution: First generate a random integer. Set <code>func</code> based on that, and test the value of the integer. (Not as neat!)</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-mathjax","title":"Issue: MathJax","text":"<p>Mathjax no longer likes   <code>\\begin{pmatrix}{@xx@}\\\\{@yy@}\\end{pmatrix}</code> in castext.</p> <p>Solution: make sure there is a space between <code>\\\\</code> and <code>{@yy@}</code>.  (Better!) Define the vector to be a maxima object and display that instead.</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-cas-text-comments-delineated-with-are-rendered","title":"Issue: CAS text comments delineated with / ... / are rendered","text":"<p>Solution:  Use  <code>[[ comment ]] ... [ [/ comment ]]</code></p>"},{"location":"Developer/Release_notes_4_4_x/#issue-fatal-error-causing-an-exception-and-then-displaying-nothing","title":"Issue: Fatal error causing an exception and then displaying nothing.","text":"<p>Solution: \"tans\" PRT node entry ended with semicolon: Delete the semi-colon!  We now have error trapping for this problem.</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-taylor-now-returns-a-maxima-taylor-series-object","title":"Issue: <code>taylor</code> now returns a maxima taylor series object","text":"<p><code>taylor</code> now returns a maxima taylor series object (as it should!) rather than a normal algebraic expression (as it did!) Solution use <code>expand(taylor( ... ) )</code> to get a normal algebraic object. (May then also need to set <code>powerdisp:true</code> to get the usual ordering of terms)</p> <p>This is one consequence of the single call to Maxima.  Previously there was some string input/output which lost the data type information.</p>"},{"location":"Developer/Release_notes_4_4_x/#issue-rounding-of-numerical-quantities","title":"Issue: rounding of numerical quantities.","text":"<p>The answer test <code>AlgEquiv</code> now does not think floats are equivalent, even though they look identical when displayed in decimal.</p> <p>Solution: don't use the answer test <code>AlgEquiv</code> for floats, use a numerical answertest instead.</p> <p>This is one consequence of the single call to Maxima.  Previously there was some string input/output which created numerical rounding. This rounding no longer happens, causing the apparent problem.  Examples are given in the documentation on numbers instead.</p>"},{"location":"Developer/Releasing/","title":"STACK release process notes","text":"<p>Note, these notes are designed for developers releasing a new version through the Moodle plugin database.  They are probably not useful for anyone else.</p> <p>Release needs to be done for the whole \"set\".  Do we increment the numbers of all components, e.g. behaviours, or just the qtype_stack?</p> <ul> <li>for key releases, we do them all.</li> <li>for bug fixes just the question type.</li> </ul>"},{"location":"Developer/Releasing/#0-code-on-github","title":"0. Code on github","text":"<p>The STACK code is stored on github, e.g. in https://github.com/maths/moodle-qtype_stack. In general the code branches are arranged as follows.</p> <ul> <li>The <code>master</code> branch should always be either (i) an official release, (ii) contain minor but critical bug fixes, or (iii) contain updates to the docs.  The STACK documentation on https://docs.stack-assessment.org/ auto-builds from the master branch, and so it is normal to update the docs between official releases.</li> <li>The <code>dev</code> branch normally contains features which will in the next release.  The <code>dev</code> branch should normally work out of the box, but expect unfinished features and bugs!  </li> <li>Development of new features often takes place in a specific branch named to correspond to an issue in the github issue tracker, normally forked from <code>dev</code>.  E.g. if you raise issue 802 then code related to this can start life in a branch <code>iss802</code>.  If you put <code>#802</code> in the commit message then github will pick this up in the issue discussion.  New features can be merged back into <code>dev</code> before they are completely finished, but please do add documentation, unit tests etc. first and make sure we at least have consensus on the design!</li> </ul> <p>Unless you want to discuss something confidential with the developers, please do raise issues on github!</p>"},{"location":"Developer/Releasing/#1-pre-release-checks","title":"1. Pre-release checks","text":"<p>Check </p> <ul> <li>Readme.md</li> <li>Check docs </li> <li>development history and development track <code>history/track</code>.</li> <li>Execute <code>php cli/answertests_docs.php</code> to update the static docs about answertests.</li> <li>Execute <code>doc/maintenance.php</code> to search for broken links etc.</li> <li>Run <code>php cli/unicode_data_process.php</code> to update unicode mappings.</li> <li>Run <code>php cli/ast_test_generator.php</code> to confirm if auto-generated tests have not changed.</li> <li> <p>Run Maxima unit tests of contributed packages by re-defining <code>stacklocation</code> and running <code>s_test_case.mac</code> in the sandbox.  E.g.</p> <p>stacklocation:\"/var/www/html/m40/question/type/stack\"$ load(\"s_test_case.mac\");</p> </li> <li> <p>Run PHP unit tests.</p> </li> <li>Run code checker.</li> </ul> <p>Version numbers</p> <ul> <li>version.php</li> <li>stackmaxima.mac</li> <li><code>MATURITY_STABLE</code>?</li> <li>Check both the Moodle versions, and the required number. (https://moodledev.io/general/releases)</li> </ul> <p>Commit all changes to git, e.g. \"Update version number for the 4.4.3 release.\"</p>"},{"location":"Developer/Releasing/#2-create-new-tag-with-version-name","title":"2. Create new tag with version name","text":"<p>E.g. \"v4.4.3\".</p> <ul> <li>Push to GitHub.</li> <li>Push tags to GitHub </li> <li>Tortoise git: pulldown from push</li> <li>Linux: <code>git tag -a v4.4.3 -m \"Update version number for the 4.4.3 release.\"</code></li> <li>Linux: <code>git push</code></li> <li>Linux: <code>git push --tags</code></li> </ul>"},{"location":"Developer/Releasing/#3-moodle-plugins-database-entry-for-the-plugin","title":"3. Moodle plugins database entry for the plugin","text":"<p>Add a new version to the Moodle plugins database entry for the plugin.</p> <ul> <li> <p>If version number does not appear in the dropdown, then upload it from GitHub.</p> </li> <li> <p>Version information</p> </li> <li>Upload zipfile</li> <li>GitHub</li> <li>Username = maths</li> <li>Choose appropriate plugin</li> <li>Choose tags</li> <li>Choose tag number</li> <li>Rename root directory +</li> <li>Fix README filename +</li> <li>Choose supported Moodle.</li> </ul> <p>Then check updated information on the form.</p> <p>(don't add \"master\" to branch info)</p>"},{"location":"Developer/Releasing_ILIAS/","title":"Releasing new ILIAS version","text":"<p>This page records the steps needed to take <code>qtype_stack</code> (originally designed for Moodle) and create an updated working ILIAS plugin.</p> <ol> <li>All code needed for the ILIAS plugin should be available in the <code>stack</code> directory (from the top level).</li> <li>TODO: how to get updated language packs?</li> <li>TOTO: How to map Moodle specific functions (e.g. <code>stack_string</code>) to the ILIAS version?</li> </ol>"},{"location":"Developer/Running_question_tests_other_site/","title":"Bulk testing on your site","text":"<p>You can bulk test all question tests on all variants of all question by using the bulk-test script.  This is available from the quetion setting page or from the \"adminui\" page</p> <pre><code>[...]/question/type/stack/adminui/index.php\n</code></pre> <p>User require capability <code>qtype/stack:usediagnostictools</code>.</p>"},{"location":"Developer/Running_question_tests_other_site/#running-question-tests-for-questions-on-other-sites-command-line","title":"Running question tests for questions on other sites (command line)","text":"<p>You can bulk test all question tests on all variants of all question by using the command line bulk-test script contained in the <code>cli</code> directory as follows:</p> <pre><code>php bulktestall.php\n</code></pre> <p>Since you have command line access to the development server you will need to edit this line</p> <pre><code>$DB-&gt;connect('live.database.host.name', 'read_only_user', 'pa55w0rd', 'live_database_name', 'mdl_', $CFG-&gt;dboptions);\n</code></pre> <p>to specify the remote database.  Then run the command line script (perhaps using something like screen to allow this to run in the background while you logout) with the <code>remote</code> option.</p> <pre><code>php bulktestall.php --remote\n</code></pre>"},{"location":"Developer/Running_question_tests_other_site/#running-question-tests-for-questions-on-other-sites-web","title":"Running question tests for questions on other sites (web)","text":"<p>When you upgrade to a new version of STACK, it would be reassuring to know beforehand whether there is any change in behaviour in STACK which will affect your existing questions.</p> <p>After you have done the upgrade, it is easy to run the question tests in bulk, using the link on the STACK plugin admin screen. However, with a bit of hackery, it is possible to run the code from the new STACK release (with a few modifications) on your development server, but have it open a read-only connection to your live database, in order to load the questions and their corresponding tests.</p> <p>The following patch is provided as-is. It will probably require tinkering with to work in any given situation.</p> <pre><code>diff --git a/bulktest.php b/bulktest.php\nindex 7974af2..a6614f2 100644\n--- a/bulktest.php\n+++ b/bulktest.php\n@@ -29,13 +29,14 @@ require_once($CFG-&gt;libdir . '/questionlib.php');\n require_once(__DIR__ . '/locallib.php');\n require_once(__DIR__ . '/stack/utils.class.php');\n require_once(__DIR__ . '/stack/bulktester.class.php');\n+require_once(__DIR__ . '/stack/cas/connectorhelper.class.php');\n\n\n // Get the parameters from the URL.\n $contextid = required_param('contextid', PARAM_INT);\n\n // Login and check permissions.\n-$context = context::instance_by_id($contextid);\n+$context = context_system::instance();\n require_login();\n require_capability('qtype/stack:usediagnostictools', $context);\n $PAGE-&gt;set_url('/question/type/stack/bulktest.php', array('contextid' =&gt; $context-&gt;id));\n@@ -50,8 +51,8 @@ if ($context-&gt;contextlevel == CONTEXT_MODULE) {\n     $PAGE-&gt;set_cm($cm, $DB-&gt;get_record('course', array('id' =&gt; $cm-&gt;course), '*', MUST_EXIST));\n }\n\n-// Create the helper class.\n-$bulktester = new stack_bulk_tester();\n+// Cache the connection settings.\n+stack_connection_helper::make();\n\n // Release the session, so the user can do other things while this runs.\n \\core\\session\\manager::write_close();\n@@ -60,9 +61,25 @@ $bulktester = new stack_bulk_tester();\n echo $OUTPUT-&gt;header();\n echo $OUTPUT-&gt;heading($title);\n\n+// Connect to other database.\n+$bulktestrealdb = $DB;\n+if (!$DB = moodle_database::get_driver_instance($CFG-&gt;dbtype, $CFG-&gt;dblibrary)) {\n+    throw new dml_exception('dbdriverproblem', \"Unknown driver $CFG-&gt;dblibrary/$CFG-&gt;dbtype\");\n+}\n+$DB-&gt;connect('live.database.host.name', 'read_only_user', 'pa55w0rd', 'live_database_name', 'mdl_', $CFG-&gt;dboptions);\n+\n+$context = context::instance_by_id($contextid);\n+\n+// Create the helper class.\n+$bulktester = new stack_bulk_tester();\n+\n // Run the tests.\n list($allpassed, $failing) = $bulktester-&gt;run_all_tests_for_context($context);\n\n // Display the final summary.\n $bulktester-&gt;print_overall_result($allpassed, $failing);\n+\n+// Switch back to the read DB.\n+$DB = $bulktestrealdb;\n+\n echo $OUTPUT-&gt;footer();\ndiff --git a/bulktestindex.php b/bulktestindex.php\nindex 3d5eafa..f84b4bd 100644\n--- a/bulktestindex.php\n+++ b/bulktestindex.php\n@@ -38,13 +38,20 @@ $PAGE-&gt;set_url('/question/type/stack/adminui/bulktestindex.php');\n $PAGE-&gt;set_context($context);\n $PAGE-&gt;set_title(stack_string('bulktestindextitle'));\n\n-// Create the helper class.\n-$bulktester = new stack_bulk_tester();\n-\n // Display.\n echo $OUTPUT-&gt;header();\n echo $OUTPUT-&gt;heading(stack_string('replacedollarsindex'));\n\n+// Connect to other database.\n+$realdb = $DB;\n+if (!$DB = moodle_database::get_driver_instance($CFG-&gt;dbtype, $CFG-&gt;dblibrary)) {\n+    throw new dml_exception('dbdriverproblem', \"Unknown driver $CFG-&gt;dblibrary/$CFG-&gt;dbtype\");\n+}\n+$DB-&gt;connect('live.database.host.name', 'read_only_user', 'pa55w0rd', 'live_database_name', 'mdl_', $CFG-&gt;dboptions);\n+\n+// Create the helper class.\n+$bulktester = new stack_bulk_tester();\n+\n echo html_writer::start_tag('ul');\n foreach ($bulktester-&gt;get_stack_questions_by_context() as $contextid =&gt; $numstackquestions) {\n     echo html_writer::tag('li', html_writer::link(\n@@ -53,6 +60,9 @@ foreach ($bulktester-&gt;get_stack_questions_by_context() as $contextid =&gt; $numstac\n }\n echo html_writer::end_tag('ul');\n\n+// Switch back to the read DB.\n+$DB = $realdb;\n+\n if (has_capability('moodle/site:config', context_system::instance())) {\n     echo html_writer::tag('p', html_writer::link(\n             new moodle_url('/question/type/stack/bulktestall.php'), stack_string('bulktestrun')));\ndiff --git a/stack/cas/connectorhelper.class.php b/stack/cas/connectorhelper.class.php\nindex 40ef26e..d8ba3e1 100644\n--- a/stack/cas/connectorhelper.class.php\n+++ b/stack/cas/connectorhelper.class.php\n@@ -78,6 +78,11 @@ abstract class stack_connection_helper {\n                 throw new stack_exception('stack_cas_connection: Unknown platform ' . self::$config-&gt;platform);\n         }\n\n+        global $bulktestrealdb;\n+        if (!empty(($bulktestrealdb))) {\n+            // Use the real db as the cache for performance.\n+            return new stack_cas_connection_db_cache($connection, $debuglog, $bulktestrealdb);\n+        }\n         switch (self::$config-&gt;casresultscache) {\n             case 'db':\n                 global $DB;\n</code></pre> <p>As an example of the kind of tinkering that might be required, and the time I devised this patch, the new version of STACK had a database change, which had not yet been applied to our live database. Therefore, I had to tweak the question loading code as follows:</p> <pre><code>diff --git a/questiontype.php b/questiontype.php\nindex 6dcc96d..02c4354 100644\n--- a/questiontype.php\n+++ b/questiontype.php\n@@ -348,7 +348,7 @@ class qtype_stack extends question_type {\n         $question-&gt;inputs = $DB-&gt;get_records('qtype_stack_inputs',\n                 array('questionid' =&gt; $question-&gt;id), 'name',\n                 'name, id, questionid, type, tans, boxsize, strictsyntax, insertstars, ' .\n-                'syntaxhint, syntaxattribute, forbidwords, allowwords, forbidfloat, requirelowestterms, ' .\n+                'syntaxhint, 0 AS syntaxattribute, forbidwords, allowwords, forbidfloat, requirelowestterms, ' .\n                 'checkanswertype, mustverify, showvalidation, options');\n\n         $question-&gt;prts = $DB-&gt;get_records('qtype_stack_prts',\n@@ -403,7 +403,7 @@ class qtype_stack extends question_type {\n                 'strictSyntax'    =&gt; (bool) $inputdata-&gt;strictsyntax,\n                 'insertStars'     =&gt; (int) $inputdata-&gt;insertstars,\n                 'syntaxHint'      =&gt; $inputdata-&gt;syntaxhint,\n-                'syntaxAttribute' =&gt; $inputdata-&gt;syntaxattribute,\n+                'syntaxAttribute' =&gt; '0',\n                 'forbidWords'     =&gt; $inputdata-&gt;forbidwords,\n                 'allowWords'      =&gt; $inputdata-&gt;allowwords,\n                 'forbidFloats'    =&gt; (bool) $inputdata-&gt;forbidfloat,\n</code></pre>"},{"location":"Developer/STACK-JS/","title":"STACK-JS","text":"<p>Including JavaScript in questions has always been a bit suspicious as it essentially executes with the user's rights in the browser. For this reason it is necessary to somehow separate that scripting from the VLE context. It is also good to separate the scripting from the VLE to ease portability of materials to other VLEs.</p> <p>STACK-JS is a sandbox IFRAME based solution where the potentially dangerous  bits of code exist inside an IFRAME and communicate with the VLE through a limited  set of messages. The idea is to restrict the script from directly seeing the VLE, and restrict interaction with the VLE.</p>"},{"location":"Developer/STACK-JS/#basics","title":"Basics","text":"<p>The solution consist of two parts:</p> <ol> <li> <p>The VLE side beachhead script which needs to adapt to the VLE while at     the same time maintain the STACK-JS features. For Moodle this script     is in the <code>amd/src/stackjsvle.js</code> file and it has been designed so     that the VLE-specific parts are separated into functions name <code>vle_</code>     porting this to other VLEs should not be difficult.</p> </li> <li> <p>The IFRAME side script is currently stored at     <code>corsscripts/stackjsiframe.js</code> and provides automated promise-based APIs     for doing basic actions through the messaging system. This script     should never be changed and it should always be the same on all VLEs.     It includes logic for synchronisation that may not be necessary with     the default Moodle implementation, but should still be kept there for     possible other uses.</p> </li> </ol> <p>The VLE side has more control here, as it can decide what it allows and to whom it listens. In general, the IFRAMEs are constructed through the VLE side scripts and those scripts only listen to the IFRAMEs they constructed.</p> <p>The primary security feature of the VLE side is to limit the access to inputs to just those inputs present within questions. The access is also limited to listening for input changes and setting their values so no DOM modification is possible. However, there are messages that allow toggling the visibility and changing the contents of elements by ID, however again the VLE can limit those elements to just those elements within the questions and also apply whatever cleaning (strip all scripts and so on) to any content received.</p>"},{"location":"Developer/STACK-JS/#promises-for-the-content","title":"Promises for the content","text":"<p>The content going into those IFRAMEs can be anything and it can do whatever it wants in those IFRAMEs. The STACK-JS logic will promise that no filtering for the content will ever be done. Other than Markdown etc. if requested. No VLE level filters will affect it nor will we tidy it.</p> <p>Content can also rest assured that it is not within the same origin as the VLE and thus cannot leak authorisation or other sensitive details from that side.</p>"},{"location":"Developer/STACK-JS/#inconveniences","title":"Inconveniences","text":"<p>As the IFRAME is in its own \"origin\" it cannot load scripts from just any source. And as it is important to be able to load some scripts, especially that <code>stackjsiframe.js</code>, we need a source that is suitable. That source needs to set a particular header, and as we do not want to add extra install requirements for different web-servers we now have a special script that modifies headers at <code>corsscripts/cors.php</code>. We could also serve that script from external source through some CDN, but we probably want to maintain the ability to run the whole system in a closed network so that is why we provide our own header modification script.</p> <p>If one needs to serve anything to those IFRAMEs from the local system one can either drop that thing into that <code>corsscripts/</code> directory or config ones own headers elsewhere. Currently, works with <code>.css</code> and <code>.js</code> files.</p>"},{"location":"Developer/STACK-JS/#loading-external-scripts","title":"Loading external scripts","text":"<p>Do note that loading external scripts into the IFRAME is possible as long as the following two conditions are met:</p> <ol> <li>You are not loading from <code>http://</code> sources into <code>https://</code> context.     Things work the other way around but mixing HTTP into HTTPS does not,     as most sane VLEs are going to be running over HTTPS and the IFRAME will     inherit some security assumptions from the surroundings, you should     always write any references to external libraries using <code>https://...</code> urls.</li> <li>The server serving that library has the correct CORS header so that     the script allows itself to be loaded into different origin context.     Basically, public usage CDN:s have this header. But most servers do     not by default serve scripts for others to use. The header is this:     <code>Access-Control-Allow-Origin: *</code>. Do note that the server could also     serve other headers that might affect your ability to load scripts into     sandbox IFRAMEs so if things do not work check those headers.</li> </ol> <p>Do note that use of external resources will always make your materials sensitive to external changes. Therefore, if you do build materials that rely on external libraries do consider self hosting fixed copies of those libraries for your own use.</p>"},{"location":"Developer/STACK-JS/#the-general-security-reason","title":"The general security reason","text":"<p>While no attacks using the scripting are currently known, securing this border is necessary in a world where material sharing is more common. If your STACK installation is not new enough to use this security feature then do pay extra attention to materials received from random sources, as they might contain scripting that would execute with your rights. Such execution could, for example:</p> <ol> <li>Exfiltrate information from the system that is likely to house     student details.</li> <li>Modify information in the system, for example, points, quiz settings, or     access rights.</li> <li>Do arbitrary actions \"as you\", e.g., post messages onto course forums.</li> </ol> <p>Do note that similar risks are related to any materials that allow arbitrary scripts to be included either by the student or by whoever authored the material and these types of attacks are always just one spoofed e-mail away.</p> <p>While unlikely, it is worth being careful until STACK has completed the migration to secured JavaScript. The current plan is to first provide means for doing things in a secure way and then forbid insecure methods in a following release. Until that following release, keep your eyes open.</p>"},{"location":"Developer/STACK-JS/#minimal-example-for-access-to-an-input","title":"Minimal example for access to an input","text":"<p>Given a STACK question with an input named <code>ans1</code> you can create an IFRAME that executes arbitrary code that can refrence that input like this:</p> <pre><code>[[iframe]]\n[[script type=\"module\"]]\nimport {stack_js} from '[[cors src=\"stackjsiframe.js\"/]]';\nvar promiseforaninput = stack_js.request_access_to_input(\"ans1\", true);\npromiseforaninput.then((id) =&gt; {\n   document.getElementById(id).type = 'input';\n});\n[[/script]]\n[[/iframe]]\n</code></pre> <p>The first two lines first open up an <code>[[iframe]]</code> which generates an XHTML document and an IFRAME to contain it, and then we use the <code>[[script]]</code> block to generate a script-tag in that documents head. With the <code>type=\"module\"</code> we make it possible to use the <code>import</code> syntax to bring in libraries and in this case we bring in the <code>stack_js</code> library from an URL provided by the <code>[[cors]]</code> block so that we do not need to write hard coded references to the full URL. Once we have the library, we then ask it for access to the input named <code>ans1</code>, we also add that <code>true</code> to signal the we would want to see <code>input</code> events being synchronised in addition to normal <code>change</code> events, to make this demo more interactive. As the connection process is asynchronous we will receive a promise that will resolve into the identifier of an hidden input that will be constructed inside the IFRAME, in this example we simply make that input visible so that we can try interacting with it directly.</p> <p>If you modify that IFRAME side inputs value through code or other means it will only get synchronised to the VLE side once a <code>change</code> event is emitted, so do dispatch some events if things do not otherwise work.</p> <p>Also if your only purpose is to run JavaScript you might want to hide the IFRAME, you can simply place it inside something that is not being displayed or use <code>hidden=\"true\"</code> as an argument to the <code>[[iframe]]</code>-block. If it needs to be visible, all the dimension options of <code>[[jsxgraph]]</code> also work here. </p>"},{"location":"Developer/Security_map/","title":"Security map","text":""},{"location":"Developer/Security_map/#security-map","title":"Security-map","text":"<p>It is important that students do not evaluate expressions such as the following with the CAS :</p> <pre><code>system(\"rm /*\");\n</code></pre> <p>for somewhat obvious reasons!  Hence, we need to restrict the availability of certain functions to users.  STACK \"trusts\" the teacher.  Therefore there are three levels of Maxima functions.</p> <ol> <li>Forbidden.  No string containing anything which might look like this should ever get near the CAS.</li> <li>Teacher.  Teacher's answers cannot contain these, but they are not a security risk.  Usually these have side effects within the Maxima code, e.g. setting a global variable which might cause problems later/elsewhere.</li> <li>Student.  Student's expressions can only contain these.</li> </ol> <p>Since STACK 4.3 the Maxima statement parser infrastruture uses a JSON file describing all identifiers of functions,  variables, constants, and operators and features we attach to them. The catalogue is stored in</p> <pre><code>stack/cas/security-map.json\n</code></pre> <p>This JSON file is being updated manually and through the data collected by  the census and can be extended freely to track new features  as things progress. This documentation section describes what is currently  being contained in that map.</p> <p>If a function from a maxima library is not in the security map then it is most likley that we have not reviewed it.  Please contact the developers.</p>"},{"location":"Developer/Security_map/#units","title":"Units","text":"<p>Note that the security-map does not define identifiers that are units and  based on the current design you should not declare them there. In  the current form if we are in units mode an overlay will be placed on top  of the security-map and that overlay will declare are identifers that are  units <code>mg</code>, <code>K</code>,... as <code>constant: 's'</code> meaning that they are constants that the student may use in their inputs as long as they are not declared  forbidden through the forbidden words mechanism.</p>"},{"location":"Developer/Security_map/#features-currently-tracked","title":"Features currently tracked","text":""},{"location":"Developer/Security_map/#security","title":"Security","text":"<p>In security features we typically use values <code>\"s\"</code>, <code>\"t\"</code>, and<code>\"f\"</code>. <code>\"s\"</code>  declares that students may use this identifier in the specified way unless specifically forbidden with the forbidden words mechanism. <code>\"t\"</code> means that  by default only the author may use it but can specially allow it using  the allowed words mechanism. <code>\"f\"</code> means that for whatever reason not even  the author may use it.</p> <p><code>constant</code> is a feature declaring the security level at which a given  identifier is to be considered as a constant and can thus be only red and  never written to. This makes it so that you cannot write <code>%pi:4</code> but can  use <code>%pi</code> otherwise.</p> <p><code>evflag</code> is a feature declaring the security level at which a given  identifier is to be considered as an evaluation flag. Basically, wether  it can be used as a suffix to a statement <code>sqrt(3),numer</code> or as a paramter  to <code>ev(sqrt(3),numer=true)</code> and similar functions.</p> <p><code>function</code> is a feature declaring the security level at which a given  identifier is to be considered as a function name and can thus be called.</p> <p><code>keyword</code> is a feature declaring the security level at which a given  identifier is to be considered as a keyword that can be used one could use  it to declare that students may not use specific types of loops or other flow control features.</p> <p><code>operator</code> is a feature declaring the security level at which a given  operator is usable at. By operator we mean anything from <code>^</code> and <code>and</code>  to various brackets.</p> <p><code>variable</code> is a feature declaring the security level at which a given  identifier is to be considered as a variable and can thus be both written and red.</p> <p>In addition to those we also declare certain identifiers with  <code>globalyforbiddenfunction</code> or <code>globalyforbiddenvariable</code> in the cases where we might want to handle attempts to use them in a more serious manner.</p>"},{"location":"Developer/Security_map/#nouns","title":"Nouns","text":"<p>In the old system certain functions and operators were nounified to stop  the CAS from evaluating them and thus allow simpler assessment of  the original input form. For this we define features <code>nounfunction</code> and <code>nounoperator</code> that have the name of the matching nounified identifier. When processing student input functions and operators that have noun  variants are nounified unless specially requested to be kept as is. In  addition to the nounifying one may need to denounify and then we define <code>nounoperatorfor</code> or <code>nounfunctionfor</code> at the noun end.</p>"},{"location":"Developer/Security_map/#aliases","title":"Aliases","text":"<p><code>int(foo,x)</code> is equivalent to <code>integrate(foo,x)</code> which leads to issues  when using forbidden words and only forbidding <code>integrate</code> to deal with  this we now declare aliases as features for various identifiers so that  if you forbid one the others are also forbidden. We also use those aliases to map similar statements to use the same alias thus increasing  the likelihood of cache hits. Aliases like nouns are defined by usage  type e.g. <code>aliasfunction</code> feature tells that if some one uses a function  with this name it should be interpreted as a function call with the name  of this feature. <code>aliasvariable</code> does the same for both constants and variables. As it is often necessary to find all the aliases that point to a given identifier we also define features <code>aliasfunctions</code> and  <code>aliasvariables</code> that contain lists of such identifiers. Updating such  lists should be left to tools that make sure they are correct.</p> <p>Aliases often do not match the logical aliases present in the CAS instead they tend to map things so that they point to the version that is  shortest to minimise space usage, e.g. while some might think  <code>int =&gt; integrate</code> here we rather have <code>integrate =&gt; int</code>.</p> <p>The base alias is sent to the CAS.  This enables support for some unicode,  e.g. pi, which does not break the CAS.</p>"},{"location":"Developer/Syntax_Future/","title":"Future plans for syntax of answers and STACK.","text":"<p>Problem we are trying to solve: students don't use the correct syntax.  We want, as much as possible, to spot common problems and either (1) tell students what they have done wrong, or (2) just condone the problem and fix it quietly.</p> <p>Goal: be as helpful to students as possible.</p> <p>Separate \"spotting problems/setting a context\" from \"Fixing/condoning problems\".</p> <ol> <li>Teachers are expected to always use correct Maxima syntax, and use inert functions such as <code>stackunits</code>.</li> <li>Use the \"Insert stars\" option to set the pattern/context for checking expresions.</li> <li>Use the \"Strict syntax\" option to decide if we can fix/condone a problem for students.</li> <li>\"yes\" we don't condone any problem, but we do report back error messages such as \"you seem to be missing *s\", etc.</li> <li>\"no\" we just interpret and use the expression.  It may still be \"invalid\".</li> </ol> <p>E.g. if we have \"Insert stars\" looking for implied multiplication, and \"Strict syntax\" is \"no\" then a student's answer <code>2x</code> will be changed to <code>2*x</code> and used without comment.</p> <p>Some patterns must always be wrong.  Always check for these, even with teachers (who also need helpful error messages!).</p> <ul> <li><code>)(</code> must be missing a star.</li> <li>Some implied multiplication patterns such as <code>2x</code>, or space patterns <code>2 x</code>.</li> <li>Atoms which appear as both function names and variable names.  E.g.<code>x(x+1)</code>.</li> </ul> <p>The issues are as follows:</p> <ol> <li>Implied multiplication.</li> <li><code>2x</code> must be <code>2*x</code>.</li> <li><code>x2</code> could be the atom <code>x2</code>, <code>x*2</code>, or <code>x[2]</code>.  Only if we look for \"implied multiplication\" do we suggest <code>x2-&gt;x*2</code>.</li> <li>Use of spaces as implied multiplication.</li> <li><code>2 x</code> must be <code>2*x</code>.</li> <li>Assume single variable character names. In many situations we know that a student will only have single character variable names.  Identify variables in the student's answer made up of more than one character then replace these with the product of the letters.</li> <li>We identify variables and known functions are now protected, e.g. <code>sin(ax)</code> will not end up as <code>s*i*n*(a*x)</code> but as <code>sin(a*x)</code>.</li> <li>Greek letters are always protected. (This might not work, e.g. <code>pi</code> might be <code>p*i</code>, but this is why we have validation!)</li> <li><code>in</code> is a keyword in Maxima, but we treat this as a special case <code>in-&gt;i*n</code>.</li> <li><code>asin(x)</code> is a problem, because <code>asin</code> is a function.  This is not transformed to <code>a*sin(x)</code>.</li> <li>Prevent the use of any user-defined functions? E.g. <code>f(x+1)</code> is function application in default Maxima, but <code>f</code> us not defined.</li> </ol>"},{"location":"Developer/Syntax_Future/#insert-stars-option","title":"\"Insert stars\" option.","text":"<p>The value of this option is an integer.  Sum the numbers for each issue you want to include.  I.e. written in binary, each bit acts as a flag for each of the issues above.  This is extensible, as we identify new issues.</p> <ul> <li><code>0</code>: Expect strict Maxima syntax. I.e. don't insert *s for implied multiplication, or in place of any spaces.</li> <li><code>1</code>: Insert <code>*</code>s for implied multiplication.  If any patterns are identified as needing <code>*</code>s then they will automatically be inserted into the expression quietly.</li> <li><code>2</code>: Allow spaces for implied multiplication.</li> <li><code>4</code>: Assume single character variable names.</li> <li><code>8</code>: Assume single character variable nemes, and assume no Maxima constants.  E.g. <code>pi</code> is now <code>p*i</code> and not .</li> <li><code>16</code>: Assume no user-defined functions. (If <code>1</code> is set the insert stars...)</li> </ul> <p>Therefore, a value of <code>3</code> both inserts <code>*</code>s for implied multiplication and allow spaces to imply multiplication, but we do not assume single character variable names, and we do not prevent user-defined functions.</p>"},{"location":"Developer/Syntax_Future/#other-proposals","title":"Other proposals.","text":"<ol> <li>Use the \"forbid floats\" option to deal with patterns like scientific notation.  If \"forbid floats\" is true we add patterns so that <code>3E2</code> or <code>3e2</code> (which Maxima interprets as <code>300.0</code>) are added to any for insert *s.</li> </ol>"},{"location":"Developer/Syntax_Future/#future-developments","title":"Future developments","text":"<p>Support other issues in context, at the parsing stage.</p> <ul> <li>Base M numbers</li> <li>Allow entry of unicode?</li> <li>Spot order of precedence problems:  <code>x = 1 or 2</code> (normally used to mean <code>x=1 or x=2</code>).</li> <li>Bespoke grammers, e.g. add in support for intervals.  <code>x in (-2,-1] or [1,2)</code>.</li> <li>Student use of control structures, e.g. <code>if then...</code>?</li> </ul>"},{"location":"Developer/Syntax_Future/#legacy-mapping","title":"Legacy mapping.","text":"<p>For old questions (those with <code>stackversion &lt; 2019041600</code>) we automatically perform the following mapping for the value of the insert stars option.</p> <p><code>old -&gt; new</code> (Old phrase).</p> <ul> <li><code>0 -&gt; 0</code> (Don't insert stars)</li> <li><code>1 -&gt; 1</code> (Insert stars for implied multiplication only)</li> <li><code>2 -&gt; 4</code> (Insert stars assuming single-character variable names)</li> <li><code>3 -&gt; 2</code> (Insert stars for spaces only)</li> <li><code>4 -&gt; 3</code> (Insert stars for implied multiplication and for spaces)</li> <li><code>5 -&gt; 7</code> (Insert stars assuming single-character variables, implied and for spaces)</li> </ul>"},{"location":"Developer/Unit_tests/","title":"Unit tests","text":"<p>Unit testing for STACK comes in the following three parts.</p> <ul> <li>PHP Unit tests,</li> <li>Maxima unit tests,</li> <li>Test scripts exposed to the question author.</li> </ul> <p>These three mechanisms aim to provide comprehensive testing of STACK.  The last category are a compromise, and are designed to expose the results of unit tests to question authors in a reasonably attractive manner to inform them of what each answer test is actually supposed to do.  Links to these tests are in the healthcheck page.</p> <p>STACK uses the moodle-ci continuous integration mechanism via github actions so that all unit tests are triggered when a commit is pushed to github.</p>"},{"location":"Developer/Unit_tests/#php-unit-tests","title":"PHP Unit tests","text":"<p>Moodle uses PHPUnit for its unit tests. Setting this up and getting it working is a bit of a pain, but you only have to follow the instructions in the Moodle PHPUnit documentation once to get it working.</p>"},{"location":"Developer/Unit_tests/#stack-specific-set-up-steps","title":"STACK-specific set-up steps","text":"<p>Once you have executed</p> <pre><code>php admin/tool/phpunit/cli/init.php\n</code></pre> <p>you need to edit the config.php file to add the following configuration information near the end, but before the <code>require_once(dirname(__FILE__) . '/lib/setup.php');</code>. Other options for the platform are <code>linux</code> and <code>linux-optimised</code>.</p> <pre><code>define('QTYPE_STACK_TEST_CONFIG_PLATFORM',        'linux');\n/* It is essential that the MAXIMAVERSION and MAXIMACOMMAND match.\n   That is, you must check that the command executed here really loads\n   the version specified in MAXIMAVERSION.  Some unit tests are version\n   dependent.  Do not use default.  */\ndefine('QTYPE_STACK_TEST_CONFIG_MAXIMAVERSION',   '5.42.0');\ndefine('QTYPE_STACK_TEST_CONFIG_MAXIMACOMMAND',   'maxima --use-version=5.42.0');\ndefine('QTYPE_STACK_TEST_CONFIG_MAXIMACOMMANDOPT',   '');\ndefine('QTYPE_STACK_TEST_CONFIG_MAXIMACOMMANDSERVER',   'http://pool.home:8080/MaximaPool/MaximaPool');\ndefine('QTYPE_STACK_TEST_CONFIG_CASTIMEOUT',      '20');\ndefine('QTYPE_STACK_TEST_CONFIG_MAXIMALIBRARIES', 'stats, distrib, descriptive, simplex');\ndefine('QTYPE_STACK_TEST_CONFIG_CASDEBUGGING',    '0');\ndefine('QTYPE_STACK_TEST_CONFIG_PLOTCOMMAND',     '');\n\ndefine('QTYPE_STACK_TEST_CONFIG_CASRESULTSCACHE', 'db');\ndefine('QTYPE_STACK_TEST_CONFIG_CASPREPARSE', 'true');\n</code></pre> <p>You should probably copy the settings from Admin -&gt; Plugins -&gt; Question types -&gt; STACK. However, you can use the flexibility to have different configurations of STACK for testing in order to test a new release of Maxima, for example.</p> <p>If you want to run just the unit tests for STACK, you can use the command</p> <pre><code>vendor/bin/phpunit --group qtype_stack\n</code></pre> <p>To make sure this keeps working, please annotate all test classes with</p> <pre><code>/**\n * @group qtype_stack\n * @covers class_name\n */\n</code></pre> <p>To generate coverage reports you need to install xdebug.  Then modify php.ini configuration file to include xdebug.mode=coverage.</p> <p>Commands are</p> <pre><code>vendor/bin/phpunit --testsuite qtype_stack_testsuite --coverage-html folder-name \nvendor/bin/phpunit question/type/stack/tests/test.php --coverage-html folder-name\n</code></pre> <p>(where folder-name is the folder that you want to contains the report)</p> <p>If, for some reason, you have the STACK code in your codebase, and you want to run other unit tests on a server without Maxima installed, then you will get an error when you try to install the PHPunit site. You can avoid that by putting</p> <pre><code>define('QTYPE_STACK_TEST_CONFIG_PLATFORM',        'none');\n</code></pre> <p>in your config.php file. This will prevent the install from trying to create maxima-optimised. It will also cause most of the STACK unit tests to be skipped.</p>"},{"location":"Developer/Unit_tests/#stop-resetting-the-dataroot-directory","title":"Stop resetting the dataroot directory.","text":"<p>In <code>[...]/moodle/lib/phpunit/classes/util.php</code> </p> <pre><code>public static function reset_all_data() {\n</code></pre> <p>Comment out the line (currently 253).</p> <pre><code>self::reset_dataroot();\n</code></pre> <p>This stops the unit tests from deleting the Maxima image files at each step.</p>"},{"location":"Developer/Unit_tests/#making-the-tests-faster","title":"Making the tests faster","text":"<p>The tests will be very slow, because the Moodle PHPUnit integration keeps resetting the database state between each test, so you get no benefit from the cache. To get around that problem, you can use the option to connect to a different database server for the cache. Modify the following to suit your system and put this near the end of your config.php file:</p> <p>Note you need to make sure the <code>QTYPE_STACK_TEST_CONFIG_CASRESULTSCACHE</code> variable is only defined once.</p> <pre><code>define('QTYPE_STACK_TEST_CONFIG_CASRESULTSCACHE',   'otherdb');\ndefine('QTYPE_STACK_TEST_CONFIG_CASCACHEDBTYPE',    $CFG-&gt;dbtype);\ndefine('QTYPE_STACK_TEST_CONFIG_CASCACHEDBLIBRARY', $CFG-&gt;dblibrary);\ndefine('QTYPE_STACK_TEST_CONFIG_CASCACHEDBHOST',    $CFG-&gt;dbhost);\ndefine('QTYPE_STACK_TEST_CONFIG_CASCACHEDBNAME',    $CFG-&gt;dbname);\ndefine('QTYPE_STACK_TEST_CONFIG_CASCACHEDBUSER',    $CFG-&gt;dbuser);\ndefine('QTYPE_STACK_TEST_CONFIG_CASCACHEDBPASS',    $CFG-&gt;dbpass);\ndefine('QTYPE_STACK_TEST_CONFIG_CASCACHEDBPREFIX',  $CFG-&gt;prefix);\n</code></pre> <p>To make sure the CAS cache is cleared after each unit test, revert back to the <code>db</code> settings for <code>QTYPE_STACK_TEST_CONFIG_CASRESULTSCACHE</code> as described above.  This will be slow...</p>"},{"location":"Developer/Unit_tests/#other-configuration-issues","title":"Other configuration issues","text":"<p>Moodle overrides the PHP debug message settings.  To see errors and warnings, go to</p> <pre><code>Site administration -&gt; Development -&gt; Debugging\n</code></pre> <p>and set the Debug messages option.</p>"},{"location":"Developer/Unit_tests/#maxima-unit-tests","title":"Maxima unit tests","text":"<p>Maxima has a unit testing framework called \"rtest\".  One complication is that we need to run tests with and without simplification.  To help with this, a batch file is provided to run the unit tests.</p> <pre><code>\\moodle\\question\\type\\stack\\stack\\maxima\\unittests_load.mac\n</code></pre> <p>To run this set up the STACK-maxima-sandbox and load STACK's libraries.  Then type</p> <pre><code>load(\"unittests_load.mac\");\n</code></pre> <p>The output from these tests is written to <code>.ERR</code> files in <code>\\moodle\\question\\type\\stack\\stack\\maxima\\</code>.</p> <p>Please note that currently, with simplification false, there are a number of false negative results.  That is tests appear to fail, but do not.  This is because rtest is not designed to run with simp:false, and so does not correctly decide whether things are really the \"same\" or \"different\".</p>"},{"location":"Developer/Unit_tests/#timing-the-code","title":"Timing the code.","text":"<p>Maxima has a range of functions for code profiling.  Put the following at the start of the file.</p> <pre><code>timer(all)$\n</code></pre> <p>This adds all user-defined functions to the timer list.  </p> <p>To time a single command</p> <pre><code>ev(timer_info(abs_replace), simp);\n</code></pre> <p>To profile all user-defined commands execute.</p> <pre><code>simp:true$\nT:timer_info()$\n</code></pre> <p>Find those commands actually called (based on T being the matrix above).</p> <pre><code>S:sublist(rest(args(T)),lambda([a], not(is(third(a)=0))));\n</code></pre> <p>Sort by functions called most often.</p> <pre><code>S:sort(S, lambda([a,b],third(a)&gt;third(b)));\n</code></pre> <p>Sort by the time/call</p> <pre><code>float_time(a):= if a=0 then 0 else first(args(a))$\nS:sort(S, lambda([a,b],float_time(second(a))&gt;float_time(second(b))));\n</code></pre>"},{"location":"Developer/Unit_tests/#testing-ajax-specific-problems","title":"Testing ajax specific problems.","text":"<p>You need to output values to the file system, as the display can't manage this.  For example,</p> <pre><code>file_put_contents(\"/tmp/log.txt\", print_r($result, true));\n</code></pre>"},{"location":"Developer/Unit_tests/#testing-the-updated-parser-in-stack-43","title":"Testing the updated parser in STACK 4.3","text":"<p>In the STACK directory</p> <pre><code>php cli/casstringtester.php --string=\"0..1\"\n</code></pre>"},{"location":"Developer/Updating_JSXGraph/","title":"Updating JSXGraph","text":"<p>Since the stack-js update, we have been able to use JSXGraph in its released form.</p> <p>The files related to it are now stored under <code>corsscripts/</code>.</p> <p>Download JSXGraph from here: https://github.com/jsxgraph/jsxgraph.</p> <p>The files one needs to copy over are <code>jsxgraph.min.css</code> and <code>jsxgraphcore.min.js</code>, there is no need to copy the non minified versions.</p> <p>The old STACK side <code>jsxgraph.js</code> that provided the <code>stack_jxg</code> features is now called <code>stackjsxgraph.js</code> and is being served from that same CORS-header tuning directory with that specific script.</p> <p>We do not apply Moodles or any other systems JavaScript processing on these, no need to run <code>grunt</code> or any such tool.</p>"},{"location":"Developer/Updating_JSXGraph/#note","title":"NOTE!","text":"<p>We really want to have a local JSXGraph copy instead of relying on a CDN version. We want to make it easy to run STACK in a closed network with no external requirements and having a local JSXGraph is one of the things we do to remove an external requirement.</p>"},{"location":"Developer/UpgradeDefaults/","title":"Upgrading question defaults","text":"<p>A number of default settings have been changed in recent versions of STACK.  There is no Moodle-based mechanism to change these settings in all current questions.</p> <p>One user-level way to change all the questions is to export and edit the resulting .xml.  For example, the following are useful find/replace pairs.</p> <pre><code>&lt;text&gt;Correct answer, well done.&lt;/text&gt;\n&lt;text&gt;&lt;![CDATA[&lt;span style=\"font-size: 1.5em; color:green;\"&gt;&lt;i class=\"fa fa-check\"&gt;&lt;/i&gt;&lt;/span&gt; Correct answer, well done.]]&gt;&lt;/text&gt;\n\n&lt;text&gt;Your answer is partially correct.&lt;/text&gt;\n&lt;text&gt;&lt;![CDATA[&lt;span style=\"font-size: 1.5em; color:orange;\"&gt;&lt;i class=\"fa fa-adjust\"&gt;&lt;/i&gt;&lt;/span&gt; Your answer is partially correct.]]&gt;&lt;/text&gt;\n\n&lt;text&gt;Incorrect answer.&lt;/text&gt;\n&lt;text&gt;&lt;![CDATA[&lt;span style=\"font-size: 1.5em; color:red;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/span&gt; Incorrect answer.]]&gt;&lt;/text&gt;\n</code></pre> <p>The API/YAML format will make this kind of maintenance much easier.</p>"},{"location":"Developer/Website/","title":"Updating the Online Docs","text":"<p>The STACK documentation is available online on docs.stack-assessment.org. The docs are automatically built whenever this repository is pushed to. This documentation details how to update the styling of the online docs.</p>"},{"location":"Developer/Website/#what-is-not-covered-in-this-document","title":"What is not covered in this document","text":"<p>Instructions for updating the main website www.stack-assessment.org. The main website is built in the stack-web repository, and has its own documentation.</p>"},{"location":"Developer/Website/#framework","title":"Framework","text":"<p>The website is built using MkDocs, a static site generator which converts STACK documentation, within the <code>/doc</code> directory, into HTML files and pushes them to the <code>gh-pages</code> branch. The website structure mirrors the file structure: the file <code>doc/en/Authoring/Answer_Tests/index.md</code> will be available on <code>docs.stack-assessment.org/en/Authoring/Answer_tests/</code>. Every sub-folder has an <code>index.md</code> file that will take that folder's name on the website: <code>doc/en/Authoring/index.md</code> will be available on <code>docs.stack-assessment.org/en/Authoring/</code>.</p> <p>MkDocs is configured in the <code>mkdocs.yml</code> file. MkDocs has a full list of available configuration options. MkDocs can either generate the navigation bar automatically, or accept a custom navigation configuration in the <code>nav</code> variable. The online docs uses the first option. The advantage is that new files are automatically added to the navigation bar when they are added to the repository. The disadvantage is that we cannot tweak the navigation bar manually. The online docs get around this with a number of workarounds.</p> <p>MkDocs cannot display MathJax out-of-the-box, so we use the markdown extension mdx_math, specified in <code>mkdocs.yml</code>, with the variable <code>extra_javascript</code> set to include MathJax.</p> <p>MkDocs can accept a third-party theme, and the main STACK website uses the Material Theme, mainly for its better search display and adaptive structure.</p> <p>The site is hosted by GitHub Pages from the <code>gh-pages</code> branch. A workflow under <code>.github</code> ensures that MkDocs runs its command <code>mkdocs gh-deploy</code> every time the repository is pushed to, which rebuilds the website and pushes the built HTML piles to the <code>gh-pages</code> branch. This overrides all the files currently in the <code>gh-pages</code> branch, so you must never edit files directly in the <code>gh-pages</code> branch.</p>"},{"location":"Developer/Website/#stack-specific-workarounds","title":"STACK-specific Workarounds","text":"<p>The online docs use a number of workarounds to make MkDocs compatible with the STACK docs.</p>"},{"location":"Developer/Website/#dealing-with-the-structure-of-the-docs","title":"Dealing with the structure of the docs","text":"<p>MkDocs expects a single folder to contain all the website files, starting with an <code>index.md</code> file that is to be the landing page. However, STACK's docs have a different structure: <code>doc</code> contains the <code>content</code> folder, and the two language folders where the documentation is provided. The landing page is under <code>en/index.md</code>.</p> <p>To work around this, we set <code>doc</code> to be the location of the docs, and use the plugin mkdocs-exclude to unwanted files from the navigation, such as <code>/de</code> and <code>en/Site_map.md</code>. We then use the plugin mkdocs-redirects to redirect the non-existing <code>index.md</code> file to the true landing page <code>en/index.md</code>. The effect of this is that docs.stack-assessment.org will always redirect to docs.stack-assessment.org/en/.</p> <p>We also update the sidebar navigation, such that it does not show the <code>en</code> directory. This is done by overriding Material's <code>nav-item</code> partial in the <code>site_overrides/partials/</code> directory. </p>"},{"location":"Developer/Website/#dealing-with-the-theme","title":"Dealing with the theme","text":"<p>The online docs make a number of custom changes to the Material theme.</p> <ul> <li>We use the basic MkDocs search algorithm, by including a script in the <code>{% block config %}</code> block under <code>site_overrides/main.html</code></li> <li>In <code>site_overrides/partials/logo.html</code> we customise how the STACK logo is shown. This is necessary, since the STACK logo is not square.</li> <li>We add a custom footer in the <code>{% block footer %}</code> block under <code>site_overrides/main.html</code>. In here we copy Material's primary and secondary sidebar classes, such that the footer collapses when the sidebar navigation and search bar does. It was necessary to make an identical copy of the <code>md-sidebar--primary</code> class called <code>md-sidebar--primary_footer</code>, to avoid the sidebar breaking when zoomed.</li> </ul>"},{"location":"Developer/Website/#updating-the-documentation","title":"Updating the documentation","text":"<p>When you change the documentation, the website automatically updates as well. This introduces some new limitations to the sort of elements that can be included in the documentation. This is documented in the Documentation file.</p>"},{"location":"Developer/Website/#updating-the-style","title":"Updating the style","text":"<p>The online docs uses a custom CSS stylesheet which you can edit. This stylesheet builds upon the stylesheets of MkDocs and Material.</p> <p>You can also edit the theme directly. Any file in the <code>site_overrides</code> folder will override files of the same name in Material's directory. The <code>main.html</code> file is designed to make it easy to override some predetermined blocks, but sometimes it is necessary to override files directly. Notice we directly override some of Material's partials.</p>"},{"location":"Developer/Website/#testing-the-website-locally","title":"Testing the website locally","text":"<p>Before adding major style changes to the online docs, you are encouraged to test your changes locally. For this, you will need to install MkDocs and all the required extensions.</p> <ol> <li>Install MkDocs, including its requirements.</li> <li>Install Material with <code>pip install mkdocs-material</code></li> <li>Install the markdown extension with <code>pip install https://github.com/mitya57/python-markdown-math/archive/master.zip</code></li> <li>Install the exclude plugin with <code>pip install mkdocs-exclude</code></li> <li>Install the redirect plugin with <code>pip install mkdocs-redirects</code></li> </ol> <p>You can run a local version of the website with the command <code>mkdocs serve</code>. This will make your local version available on the IP <code>http://127.0.0.1:8000/</code>.</p> <p>Please test that your changes work on:</p> <ul> <li>The following browsers: Chrome, Firefox, Safari, Edge.</li> <li>The following sizes: Computer, tablet, mobile. Chrome's \"inspect\" tool works well for this.</li> </ul>"},{"location":"Installation/","title":"Installation instructions.","text":"<p>STACK is being used live at many institutions, including the University of Edinburgh, the UK Open University, Aalto, Loughborough University, and the University of Birmingham in the UK.</p> <p>We appreciate some people perfer hosted services as an alterntaive to running their own server. We are pleased to work with EDINA at the University of Edinburgh as a recommended hosting partner.</p> <p>STACK is designed to be used on a Linux-based server.  The Windows/MS option exists to help teachers author questions offline, and for demonstration and development.  However, for demonstration, development and offline use we strongly recommend using VirtualBox instead of the Windows port.  Note also that support for the optimized Maxima image is not available on Windows platforms, which is a substantial performance improvement.</p>"},{"location":"Installation/#0-set-up-php-with-mbstring","title":"0. Set up PHP with mbstring","text":"<p>STACK v4.3 and later require the PHP <code>mbstring</code> library.   While this is included in many distros, it is not yet included by default in all.</p> <p>On an existing Moodle site navigate to</p> <pre><code>/admin/environment.php\n</code></pre> <p>to confirm before adding this plug-in.</p> <p>On some Linux distros, you simply need to</p> <pre><code>apt-get install php-mbstring\n</code></pre> <p>and then re-start the web server.</p>"},{"location":"Installation/#1-set-up-moodle","title":"1. Set up Moodle.","text":"<p>Please ensure you have installed Moodle.</p> <ul> <li>STACK has been tested on Moodle 3.9 to Moodle 4.0 inclusive.  (STACK is untested on versions before Moodle 3.9.)</li> <li>We intend to support STACK within the normal Moodle release cycle.  We intend to support all future Moodle releases. If your version of Moodle is not listed here please contact the developers: we probably simply have not done the testing of future versions yet.  For longer support of older versions of Moodle please contact us, otherwise will will drop them from our list.</li> </ul> <p>Please ensure LaTeX can be displayed.  We currently support MathJax through the Moodle MathJax filter.</p> <p>Consider updating the MathJax settings to wrap long equations. In particular, add</p> <pre><code>CommonHTML: { linebreaks: { automatic: true } },\n\"HTML-CSS\": { linebreaks: { automatic: true } },\nSVG: { linebreaks: { automatic: true } }\n</code></pre> <p>to <code>filter_mathjaxloader | mathjaxconfig</code> in the filter settings: Dashboard &gt; Site administration &gt; Plugins &gt; Filters &gt; MathJax</p>"},{"location":"Installation/#2-install-gnuplot-and-maxima","title":"2. Install gnuplot and Maxima","text":"<p>Ensure gcc, gnuplot and Maxima are installed on your server.  Currently Maxima 5.38.1 to 5.47.0 are supported.  Please contact the developers to request support for other versions.  (Newer versions will be supported, and prompts to test them are welcome.)  We currently recommend that you use any version of Maxima after 5.43.0.</p> <p>Maxima can be installed via a package manager on most Linux distributions (e.g. <code>sudo apt-get install maxima</code> on Debian/Ubuntu), downloaded as a self-contained installer program for Windows, or compiled from source.</p> <p>To check your version of maxima, run <code>maxima --version</code>.  If Moodle is set up using Apache, STACK will run maxima through the Apache user (<code>www-data/apache2</code>).  To check that this works, run maxima as the apache user (e.g. <code>sudo -u www-data maxima</code>).  Later versions of maxima create a cache and thus the executing user needs to have write access to a temporary folder, see #731 for more details and troubleshooting.</p> <p>Alternatively, Maxima can also be run on a separate server via GoeMaxima or MaximaPool.</p> <p>Please note </p> <ul> <li>Please avoid versions 5.37.x which are known to have a minor bug which affects STACK. In particular with <code>simp:false</code>,  is transformed into .  This apparently minor change makes it impossible to distinguish between the two forms.  This causes all sorts of problems.  Do not use Maxima 5.37.1 to 5.37.3.</li> <li>Older versions of Maxima:  in particular, Maxima 5.23.2 has some differences which result in , and similar problems.  This means that we have an inconsistency between questions between versions of maxima.   Of course, we can argue about which values of  make , but currently the unit tests and assumption is that these expressions should be considered to be algebraically equivalent!   So, older versions of Maxima are not supported for a reason.  Please test thoroughly if you try to use an older version, and expect some errors in the mathematical parts of the code.</li> <li>If you install more than one version of Maxima then you will need to tell STACK which version to use.  Otherwise just use the \"default\" option.</li> </ul> <p>Instructions for installing a more recent version of Maxima on CentOS 6 are available on the Moodle forum  (Oct 2014).</p>"},{"location":"Installation/#3-add-some-additional-question-behaviours","title":"3. Add some additional question behaviours","text":"<p>STACK requires these.</p> <ol> <li>Obtain Deferred feedback with explicit validation behaviour code. You can download the zip file, unzip it, and place it in the directory <code>moodle/question/behaviour/dfexplicitvaildate</code>. (You will need to rename the directory <code>moodle-qbehaviour_dfexplicitvaildate -&gt; dfexplicitvaildate</code>.) </li> </ol> <p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p> <pre><code>    git clone https://github.com/maths/moodle-qbehaviour_dfexplicitvaildate.git question/behaviour/dfexplicitvaildate\n</code></pre> <ol> <li>Obtain Deferred feedback with CBM and explicit validation behaviour code. You can download the zip file, unzip it, and place it in the directory <code>moodle/question/behaviour/dfcbmexplicitvaildate</code>. (You will need to rename the directory <code>moodle-qbehaviour_dfcbmexplicitvaildate -&gt; dfcbmexplicitvaildate</code>.) </li> </ol> <p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p> <pre><code>    git clone https://github.com/maths/moodle-qbehaviour_dfcbmexplicitvaildate.git question/behaviour/dfcbmexplicitvaildate\n</code></pre> <ol> <li>Obtain adaptivemutlipart behaviour code. You can download the zip file, unzip it, and place it in the directory <code>moodle/question/behaviour/adaptivemultipart</code>. (You will need to rename the directory <code>moodle-qbehaviour_adaptivemultipart  -&gt; adaptivemultipart</code>.) </li> </ol> <p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p> <pre><code>    git clone https://github.com/maths/moodle-qbehaviour_adaptivemultipart.git question/behaviour/adaptivemultipart\n</code></pre> <ol> <li>Login to Moodle as the admin user and click on Notifications in the Site Administration panel.</li> </ol>"},{"location":"Installation/#4-add-the-stack-question-type","title":"4. Add the STACK question type","text":"<p>STACK is a question type for the Moodle quiz.</p> <ol> <li> <p>Obtain the code. You can download the zip file, unzip it, and place it in the directory <code>moodle/question/type/stack</code>. (You will need to rename the directory <code>moodle-qtype_stack -&gt; stack</code>.) </p> <p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p> <pre><code>git clone https://github.com/maths/moodle-qtype_stack.git question/type/stack\n</code></pre> <ol> <li>Login to Moodle as the admin user and click on Notifications in the Site Administration panel.</li> <li>As the admin user, navigate to <code>Home &gt; Site administration &gt; Plugins &gt; Question types &gt; STACK</code>.  Please choose and save the appropriate options.</li> <li>On the same page, click on the link to the healthcheck script.  This writes local configuration files and then helps you verify that all aspects of STACK are working properly.</li> </ol> </li> </ol> <p>You must be able to connect to the CAS, and for the CAS to successfully create plots, before you can use STACK. You might want to try optimising Maxima access times.</p> <p>You should now have a question type available to the Moodle quiz.</p>"},{"location":"Installation/#5-multi-language-support","title":"5. Multi-language support","text":"<p>STACK questions can be localised into multiple languages.</p> <ol> <li>Your site administrator must enable the Moodle multi-language content filter.</li> <li>The multi-language content filter must be applied before the MathJax filter, otherwise strange results will occur.</li> </ol>"},{"location":"Installation/#6-post-install-confirmation","title":"6. Post-install confirmation.","text":"<p>It is essential to confirm that the PHP scripts are connecting to the CAS.</p> <p>We have special scripts which provide confirmation and trouble-shooting data to test the installation.</p>"},{"location":"Installation/#7-optional-but-recommended-fix-db-case-sensitivity-issue","title":"7. Optional (but recommended): Fix DB case sensitivity issue.","text":"<p>Using a database with a case insensitive collation can cause issues; for example MySQL with utf8mb4_unicode_ci. This is a general problem of Moodle, not specific to this plugin. See Database collation issue.</p> <p>If your DB uses case insensitive collations you must change them to case sensitive ones for the following columns:</p> <ul> <li>qtype_stacks_inputs -&gt; name</li> </ul> <p>Example command for MySQL 8.0:</p> <pre><code>ALTER TABLE mdl_qtype_stack_inputs CHANGE name name VARCHAR(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '';\n</code></pre> <p>STACK will work without this fix, but input names will not be case sensitive (!) as far as Moodle's database is concerned.  This will throw errors for some questions.</p>"},{"location":"Installation/#updating-to-new-versions-of-stack-4x","title":"Updating to new versions of STACK 4.X","text":"<p>If STACK is already installed, as described above, it can be updated via git, like this:</p> <ol> <li> <p>Go into your moodle-dir and execute:</p> <pre><code>cd question/type/stack\ngit pull\ncd ..\ncd ..\ncd behaviour/dfcbmexplicitvaildate/\ngit pull\ncd ..\ncd dfcbmexplicitvaildate/\ngit pull\ncd ..\ncd adaptivemultipart/\ngit pull\n</code></pre> </li> <li> <p>Then login as admin in your moodle and update the database.</p> </li> <li> <p>As admin user, navigate to yourmoodle/admin/settings.php?section=qtypesettingstack </p> </li> <li> <p>Check for the correct maxima version.</p> </li> <li> <p>Click on the link to the healthcheck script.  This writes local configuration files and then helps you verify that all aspects of STACK are working properly.</p> </li> <li> <p>On the same site, you might need to create a new maxima image, by using the button at the end of the page.</p> </li> </ol> <p>It is a good idea to bulk test your materials with the new version.</p> <p>If you are upgrading from much older versions please look at the migrations page.</p>"},{"location":"Installation/LTI/","title":"About LTI","text":"<p>Learning Tools Interoperability (LTI) is a web services protocol which allows online learning systems to exchange information and interconnect.  It can be used to provide quizzes (containing STACK questions or not) to other learning systems, or to include quizzes within a Moodle system on which STACK is not installed.</p> <p>LTI is entirely separate from STACK, and the details of the protocol are available from the IMS Global website.  LTI can be used to provide/consume a wide range of functionality beyond STACK quizzes.</p>"},{"location":"Installation/LTI/#installing-lti","title":"Installing LTI","text":"<p>There are two sides to LTI: the provider and consumer.</p> <ol> <li>If you haven't installed STACK on your server, or use another learning management system, you will need to consume a service with STACK.  Moodle has an LTI consumer by default.  You don't need to add anything to Moodle to consume LTI.</li> <li>The LTI provider <code>local_ltiprovider</code> is an optional plugin.  If you intend to provide STACK questions as an LTI service you will need to install this.</li> </ol>"},{"location":"Installation/LTI/#providing-stack-quizzes","title":"Providing STACK quizzes","text":"<p>This section describes how to use LTI to provide Moodle quizzes (e.g. containing STACK questions).  We assume you have written your quizzes as part of a Moodle course.</p>"},{"location":"Installation/LTI/#setting-up-a-moodle-course-as-a-service-for-learn","title":"Setting up a Moodle course as a service for Learn","text":"<p>The Moodle LTI provider enables a wide range of possibilities.</p> <ul> <li>A single course is provided which contains a number of quizzes.</li> <li>The provided course is (normally) consumed by a single course in Learn.</li> <li>A single grade is provided to Learn.  All marks are recorded in the Moodle gradebook separately, and students should be able to access these.</li> <li>Students and teachers follow a single link from Learn.  The LTI protocol ensures this connection respects their respective level of permissions.</li> </ul> <p>If you would like more than one grade in Learn, then consider having more than one course on Moodle.  Students will be able to see their individual grades in Moodle (unless you disable access to the gradebook!), so it is likely to be sufficient for most purposes to return a single grade to Learn.  The difficulty with this is the lack of shared question banks.</p> <ol> <li>Login to the provider (STACK) directly with Moodle admin privileges and create a course as follows.<pre><code>Site administration -&gt; Courses -&gt; Manage courses and categories.\n</code></pre> </li> </ol> <p>Then choose \"Create new course\". 2. Create the course with appropriate Course full name and Course short name.  These should be identical to those on Learn.</p> <pre><code>    Course format -&gt; Format -&gt; Topics format\n    Number of sections -&gt; 0\n</code></pre> <p>This creates the simplest possible course, with no section breakup.  All the quizzes will then appear as a list in this.  Other options are, of course, possible.    (If you just really want a single quiz, consider the \"Single activity format\"). 3. Delete all unnecessary elements, e.g. News. 4. Add quizzes, etc., as required.  This does not need to be complete before the next step, but the course should be non-empty when it is exposed to avoid confusion. 5. Now expose the course using the LTI provider.</p> <pre><code>   Course administration -&gt; LTI Provider -&gt; Add\n\n   Tool to be provided -&gt; Course\n\n   Layout and CSS -&gt; Hide page header, footer, left, right blocks.\n</code></pre> <p>Save changes. 6. The \"List of tools provided\" will give the 'Tool name', 'Shared secret' and 'Launch URL'.  These will be needed by the LTI consumer.</p> <p>It is possible to expose an individual quiz, but then you need to consume the quiz.  It is easier to make one connection at the course level, than many LTI connections at the quiz level.</p>"},{"location":"Installation/LTI/#providing-clones-of-moodle-courses","title":"Providing clones of Moodle courses","text":"<p>The University of Edinburgh uses a learning management system called \"Learn\".  We need to connect Learn up to Moodle to allow a wide variety of courses (on Learn) to use quizzes containing STACK (and other) questions.  We want each (Learn) course to have a private area on the Moodle server parallel to the course on Learn.</p> <p>We have developed an enrolement plugin, <code>enrol_lticoursetemplate</code>, which provides an LTI service which enables users to clone a course template from a remote connection, automatically giving each teacher the ability to create a new clean course tied to their consumer content system.  This plugin removes the need to set up parallel courses in Moodle by hand.</p> <p>Documention on how to set up this plugin is available.</p>"},{"location":"Installation/Mathjax/","title":"Displaying mathematics for STACK in Moodle","text":"<p>STACK generates LaTeX code on the fly and expects to use a Moodle filter to convert this into something the user's browser will display.  For Moodle 2.7 or later, MathJax is distributed as a filter.  We strongly recommend using the Moodle MathJax filter.  One reason for adopting MathJax is that it aids accessibility.</p>"},{"location":"Installation/Mathjax/#using-the-mathjax-filter","title":"Using the MathJax filter","text":"<p>These are notes on configuring the MathJax filter options for use with STACK.</p> <ol> <li>Do not use \"TeX filter compatibility\" unless you want all equations to appear inline!</li> <li>To add support for actuarial notation you need to add the option 'enclose.js' to the extensions.  I.e. within the \"MathJax configuration\" text we need the following.   <pre><code>TeX: { extensions: ['enclose.js'] }\n</code></pre> </li> </ol>"},{"location":"Installation/Mathjax/#accessibility","title":"Accessibility","text":"<p>The accessibility features supported by MathJax are given detailed here.</p>"},{"location":"Installation/Mathjax/#adding-mathjax-to-additional-html","title":"Adding MathJax to additional HTML","text":"<p>If the MathJax filter is not available then you can include it in the head of every page by adding additional HTML to every page.  We don't recommend you do this, but have retained this information in the documentation for completeness.</p>"},{"location":"Installation/Mathjax/#option-1-install-mathjax-locally","title":"Option 1: install MathJax locally","text":"<p>A local installation may be preferable, e.g., if you want your STACK-equipped Moodle to work off-line, or if you want to try to speed up LaTeX rendering.</p> <ol> <li>Download MathJax</li> <li>Unpack the archive and rename folder to \"mathjax\".</li> <li>Place the mathjax folder in .../moodle/lib and set appropriate ownership, e.g., <code>chown -R root.root mathjax</code>.</li> <li> <p>Carry out the procedure in Option 1, editing the script above to reflect your path to MathJax. The last line can resemble the following:</p> <p></p> </li> </ol>"},{"location":"Installation/Mathjax/#option-2-link-to-external-mathjax-setup","title":"Option 2: link to external MathJax setup","text":"<p>As of August 2017, you can use an external CDN at <code>cdnjs.cloudflare.com</code>.</p> <ol> <li>Admin -&gt; Appearance -&gt; Additional HTML -&gt; Within HEAD</li> <li> <p>Put the following script in it and save</p> <p> </p> </li> </ol> <p>Please note the following.</p> <ul> <li>These settings enable only the strict LaTeX maths environments, and does not support the use of dollars;</li> <li>The <code>processEscapes</code> flag enables you to include a dollar symbol in mathematics environments with <code>\\$</code>.</li> <li>The line <code>extensions: ['enclose.js'],</code> enables support for actuarial notation.</li> <li>The line <code>Macros: { pounds: '{\\\\it\\\\unicode{xA3}}', euro: '\\\\unicode{x20AC}' }</code> enables support for the UK pounds sign and the Euro symbol in LaTeX using <code>\\pounds</code> and <code>\\euro</code> macros respectively.  E.g.  and .</li> </ul>"},{"location":"Installation/Mathjax/#what-about-dollar-mathematics-delimiters-delimiters","title":"What about dollar mathematics delimiters? ###  {#delimiters}","text":"<p>Please note that we strongly discourage the use of dollar symbols for denoting LaTeX mathematics environments such as <code>$...$</code> and <code>$$...$$</code> for inline and displayed mathematics respectively.  As of STACK 4.0 use of dollars are officially unsupported. The reasons are (1) they do not match, which makes parsing more difficult, and (2) many courses use currency which needs this symbol and protecting it is always problematic.</p> <p>If you have extensive existing materials using these delimiters then we have scripts which will automatically convert them for you.  All fields within existing questions can be converted with the automatic scripts available from</p> <pre><code>Home &gt; Site administration &gt; Plugins &gt; Question types &gt; STACK\n</code></pre> <p>If you have ad-hoc text to convert then the CAS chat script always converts dollars into the forms <code>\\( .... \\)</code> and <code>\\[ .... \\]</code>.  You can test and edit the display of text in this window to see the conversion. </p> <p>If you really want to use dollars, MathJax can display them with the code</p> <pre><code>displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']],\ninlineMath:  [['$',  '$' ], ['\\\\(', '\\\\)']],\n</code></pre> <p>Before deciding to support the use of dollars for mathematics on your site, please see the notes on the use of dollars for currency.</p>"},{"location":"Installation/Maxima/","title":"Compiling Maxima from source.","text":"<p>You are strongly advised to read the installation instructions for the various components you need!</p> <p>As of 21st Dec 2015 the following has been used to compile Maxima from source.</p>"},{"location":"Installation/Maxima/#you-will-need-the-following-and-gnu-autotools","title":"You will need the following, and GNU autotools","text":"<pre><code>sudo apt-get install texinfo\n</code></pre>"},{"location":"Installation/Maxima/#download-and-compile-sbcl-lisp","title":"Download and compile SBCL (Lisp)","text":"<pre><code>cd /home/sangwinc/src\nwget http://downloads.sourceforge.net/project/sbcl/sbcl/1.3.1/sbcl-1.3.1-source.tar.bz2\ntar -xf sbcl-1.3.1-source.tar.bz2\ncd sbcl-1.3.1/\n./make-config.sh\n./make.sh\n\nsudo ./install.sh\n</code></pre>"},{"location":"Installation/Maxima/#download-and-compile-maxima","title":"Download and compile Maxima","text":"<pre><code>cd /home/sangwinc/src\nwget http://kent.dl.sourceforge.net/project/maxima/Maxima-source/5.36.1-source/maxima-5.36.1.tar.gz\ntar -zxf maxima-5.36.1.tar.gz\ncd maxima-5.36.1/\n\n./configure  --with-sbcl\n\nmake\nsudo make install\n</code></pre>"},{"location":"Installation/Migration/","title":"Migration from STACK 3.X to STACK 4.0","text":"<p>STACK 4.0 has one important change in the question authoring.  CAS text now uses <code>{@...@}</code> in include mathematics in the text.  The change from <code>@...@</code> to <code>{@...@}</code> gives us matching parentheses to parse, which is much better.  The <code>{..}</code> will not break LaTeX.</p> <p>You will need to update all your existing questions which include CAS calculations. This includes all fields, e.g. in the feedback as well.  To help with this process we have an automatic conversion script.  As an admin user navigate to </p> <pre><code>Site administration -&gt; \nPlugins -&gt;\nQuestion Types -&gt;\nSTACK\n</code></pre> <p>Then choose the link \"The fix maths delimiters script\".  If you have any difficulties with this process please contact the developers.</p>"},{"location":"Installation/Migration/#migration-from-stack-2x-to-stack-30","title":"Migration from STACK 2.X to STACK 3.0","text":"<p>If you wish to import STACK 2 questions into STACK 3 you will need to install the STACK question format separately.  This is distributed as <code>qformat_stack</code>.  It provides a different question format for the Moodle quiz importer.</p> <ol> <li> <p>Obtain the code. You can download the zip file, unzip it, and place it in the directory <code>moodle/question/format/stack</code>. (You will need to rename the directory <code>moodle-qformat_stack -&gt; stack</code>.) </p> <p>Alternatively, get the code using git by running the following command in the top level folder of your Moodle install: </p> <pre><code>git clone https://github.com/maths/moodle-qformat_stack.git question/format/stack\n</code></pre> <ol> <li>Login to Moodle as the admin user and click on Notifications in the Site Administration panel.</li> </ol> </li> </ol> <p>There have been a number of changes between STACK 2 and STACK 3.  This feature has not been tested since STACK 4.0.  If you need to use this please contact the developers.  Also, see the notes on the importer before using it.</p>"},{"location":"Installation/Optimising_Maxima/","title":"Optimising Maxima","text":"<p>There are several ways to reduce the access and execution time of this CAS which can prove useful for scaling. They have the potential to greatly speed up STACK, and are required on a production server.  It is particularly important on a Linux system to compile the Maxima code.</p> <p>The instructions for both CLISP and SBCL have been tested and work in STACK 3.  As of November 2020, these are working with all versions between Maxima 5.36.1 and Maxima 5.44.0.</p> <p>The procees of creating an optimised Maxima image is now automated.  This should be built automatically when installing STACK, and on upgrade.  However, you should use the plugin healthcheck script to confirm you have a fully working system.</p> <p>For developers the code to automatically generate the LISP images is described below.</p>"},{"location":"Installation/Optimising_Maxima/#terminating-runaway-lisps","title":"Terminating runaway LISPS","text":"<p>It is relatively easy for students to inadvertently generate an answer which takes Maxima a very long time to evaluate.  Typically this arises from where Maxima needs to expand out the brackets by comparing <code>(x-a)^59999</code> with a similar expression.  It is very hard to ensure this kind of calculation is impossible so in general this situation will arise from time to time.  The PHP scripts have a timeout, but on Linux systems you can also ensure the underlying LISP process is killed off using <code>timeout</code> command in Linux.  This is particularly valuable for production systems where stability is essential.</p> <ol> <li>Check that your Linux has the <code>timeout</code> command.  Because this is not standard we have not included this mechanism by default.</li> <li>Make sure STACK is working.</li> <li>Set the CAS connection timeout variable as normal in the STACK settings.  E.g. you might choose 5 seconds</li> <li> <p>Use the following Maxima command</p> <p>timeout --kill-after=6s 6s maxima</p> </li> </ol> <p>It is important that the timeout time is longer than the CAS connection timeout.  That way, PHP gives up first and degrades gracefully.  The OS then kills the process later.  If you choose the timeout to be the same or less, PHP may not have gathered enough data to degrade gracefully.  </p> <p>The above can be used with either a direct Maxima connection, or with the image created as described below.</p>"},{"location":"Installation/Optimising_Maxima/#compiled-lisp","title":"Compiled Lisp","text":"<p>Maxima can be run with a number of different Lisp implementations. Although CLISP is the most portable - due to being interpreted - other Lisps can give faster execution.</p>"},{"location":"Installation/Optimising_Maxima/#create-maxima-image","title":"Create Maxima Image","text":"<p>Lisp is able to save a snapshot of its current state to a file. This file can then be used to restart Lisp, and hence Maxima, in exactly that state. This optimization involves creating a snapshot of Lisp with Maxima and all the STACK code loaded, which can speed up launch times by an order of magnitude on Linux. This tip was originally provided Niels Walet.</p> <p>The principle is to save an image of Maxima running with STACK libraries already loaded then run this directly.  The healthcheck page contains a link at the bottom \"Create Maxima Image\".  We strongly recommend you use the automated option to create a Maxima image.</p>"},{"location":"Installation/Optimising_Maxima/#create-maxima-image-by-hand","title":"Create Maxima Image by hand","text":"<p>These steps should not be needed.  Our goal is to do this automatically.  If your OS and Maxima version do not work, please contact the developers with details and we will try to automate this process.</p> <p>For reference:</p> <ul> <li>Check your Maxima Lisp with <code>maxima --list-avail</code> to see what versions of Maxima and which Lisp you have.  This information is available through the healthcheck page.</li> <li>Load Maxima, using switches for the particular version you want, e.g. <code>maxima -l CLISP -u 5.19.2</code> or <code>maxima --use-version=5.40.1</code>.</li> </ul>"},{"location":"Installation/Optimising_Maxima/#gcl","title":"GCL","text":"<p>This is the default Lisp used by most of the binary distributions, and therefore the Lisp which you are most likely to have.</p> <ul> <li>Get STACK working with Platform type set to 'Linux'. Run the health-check. It is important to do this every time you upgrade your version.</li> </ul> <pre><code>    load(\"&lt;path&gt;/maximalocal.mac\");\n    :lisp (si::save-system \"/path/to/moodledata/stack/maxima-optimised\")  \n    quit();\n</code></pre> <ul> <li>Go into the STACK settings and set Platform type to 'Linux (Optimised)'.</li> <li>Set Maxima command to.</li> </ul> <pre><code>    /path/to/moodledata/stack/maxima-optimised  -eval '(cl-user::run)'\n</code></pre>"},{"location":"Installation/Optimising_Maxima/#clisp","title":"CLISP","text":"<p>Save an image in CLISP.</p> <ul> <li>Get STACK working with Platform type set to 'Linux'. Run the health-check. It is important to do this every time you upgrade your version.</li> <li>We assume you have CLISP. Type locate lisp.run to find the path(s) for the next step. You might need to run the command as root, and if you get no results try doing a sudo updatedb.</li> <li>Within Maxima, type the following lines to create an image and exit.</li> </ul> <pre><code>    load(\"&lt;path&gt;/maximalocal.mac\");\n    load(\"&lt;path&gt;/stackmaxima.mac\");\n    :lisp (ext:saveinitmem \"/path/to/moodledata/stack/maxima-optimised.mem\" :init-function #'user::run)\n    quit();\n</code></pre> <ul> <li>Go into the STACK settings and set Platform type to 'Linux (Optimised)'.</li> <li>Set Maxima command to.</li> </ul> <pre><code>    &lt;path&gt;/lisp.run -q -M &lt;path&gt;/maxima-optimised.mem\n</code></pre> <ul> <li>Click Save changes at the bottom of the settings page.</li> <li>Visit the healthcheck page, and clear the cache (if applicable), to make sure everything is still working.</li> </ul> <p>Access speed increases of between 2 and 9.5 times have been reported over the standard CLISP configurations.</p>"},{"location":"Installation/Optimising_Maxima/#sbcl","title":"SBCL","text":"<p>If you are using STACK with SBCL (if you are using CentOS/SL5/RHEL with Maxima from EPEL), use the following to generate a standalone executable:</p> <ul> <li>Get STACK working with Platform type set to 'Linux'. Run the healthcheck. It is important to do this every time you upgrade your version.</li> <li>Go into your moodledata/stack folder as the current directory, and run Maxima.</li> <li>In Maxima, type the commands:</li> </ul> <pre><code>    load(\"maximalocal.mac\");\n    :lisp (sb-ext:save-lisp-and-die \"maxima-optimised\" :toplevel #'run :executable t)\n</code></pre> <ul> <li>Go into the STACK settings and set the Platform to 'Linux (Optimised)'.</li> <li>You should be able to leave Maxima command blank.</li> <li>Click save changes at the bottom of the settings page.</li> <li>Visit the healthcheck page, and clear the cache (if applicable), to make sure everything is still working.</li> </ul>"},{"location":"Installation/Optimising_Maxima/#other-lisps","title":"Other Lisps","text":"<p>The following web pages have more information for a few types of Lisp: http://stackoverflow.com/questions/25046/lisp-executable and http://code.google.com/p/lispbuilder/wiki/StandAloneExecutables#Defining_a_Startup_Function</p>"},{"location":"Installation/Optimising_Maxima/#putting-maxima-on-other-servers","title":"Putting Maxima on other servers","text":"<p>Running Maxima on a separate server dedicated to the task is more secure. We believe it also improves performance because the server can start up Maxima processes in advance so they are all ready and waiting to compute some CAS with zero delay.</p> <p>See a Maxima pool has been implemented to do this.  See https://github.com/maths/stack_util_maximapool/blob/master/README.md</p>"},{"location":"Installation/Optimising_Maxima/#optimisation-results","title":"Optimisation results","text":"<p>The following data was gathered by CJS on 23/9/2012 using Maxima 5.28.0 with CLISP 2.49 (2010-07-07) on a Linux server.</p> <p>Running the PHP testing suites we have the following data, where all times are in seconds. The second line, in italics, is time per test.</p> CAS setting Answertest (460 tests) Inputs (257 tests) Linux 517.8672 1.1258 208.85655 0.81267 Mature cache (with Linux) 0.92644  0.00201 13.9798 0.0544 Linux (optimised) 95.16954 0.20689 20.89807 0.08132 Mature cache (when optimised) 0.90839  0.00197 1.48648 0.00578 <p>However, not all tests result in a CAS call.  So, to estimate this we subtract the overhead time for a mature cache (which is essentially time for database/PHP processing) from the raw time and divide by the number of CAS calls.  We have the following time per CAS call estimates.</p> CAS setting Answertest (438 calls) Inputs (204 calls) Linux 1.180 0.955 Linux (optimised) 0.215 0.095 <p>The optimised version saves a considerable amount of time, representing a significant performance improvement in the critical step of just under a second per call.  Well worth the effort (&amp; maintenance) to reward ratio.  It is likely that using a compiled version of LISP would result in further considerable savings.</p> <p>However, it isn't entirely clear to me at this point why the input tests with a mature cache using the default Linux connection takes over 13 seconds.  This seems anomalous.</p> <p>The following data was gathered by CJS on 10/10/2012 using Maxima 5.28.0 with CLISP 2.49 and SBCL 1.0.58-1.el6, both on the same Linux server.  The table gives time in seconds to run the answer tests (462 tests).</p> Maxima version Linux Linux optimised CLISP 2.49 652.3 117.76314 SBCL 1.0.58-1.el6 1570.6 118.39215 <p>With both lisp versions, the optimisation gives a significant performance gain and there is very little difference between the times of the optimised versions.</p>"},{"location":"Installation/Optimising_Maxima/#cas-on-linux","title":"CAS on Linux","text":"<p>The tests above use Maxima through the PHP interface.  To gauge the overhead from the CAS itself we ran the following tests on the same server using Maxima 5.28.0 with CLISP 2.49.</p> <pre><code>model name: Intel(R) Xeon(R) CPU, E3113  @ 3.00GHz\n</code></pre> Linux Time for 100 cycles (s) Start Maxima and quit 43 Start STACK  and quit 124 Process AtAlgEquiv 133 <p>Without optimising Linux, compared to processing one AtAlgEquiv, there is approximately 93% overhead in starting the maxima process.</p> Optimised Linux Time for 100 cycles (s) Start STACK and quit 12 Process AtAlgEquiv 16 Process 100 AtAlgEquiv 104 Process 100 plot 117 <p>The PHP processing time is almost insignificant against the time it takes to initiate and use the CAS.</p> <p>With the optimised Linux we have reduced the loading time, and the loading overhead considerably.  A single ATAlgEquiv request takes about 0.04s.  Asking for 100 ATAlgEquiv requests in a single session take 0.0092s per request.  Asking for 100 plot commands takes 1.05s per plot - which is rather slow (plots undertake a large number of floating point calculations). The overhead times for loading Maxima might be reduced, and smoothed out by using the Maxima pool, see http://github.com/maths/stack_util_maximapool for an implementation of this.  The computation times are difficult to reduce.</p> <p>Memory appears to be modest: the optimised Linux takes about 15Mb of memory per process.</p>"},{"location":"Installation/Optimising_Maxima/#compiling-a-maxima-image","title":"Compiling a Maxima image","text":"<p>The following was tested in March 2016 on CENTOS.  It is for compiling a Maxima image.  Really this is mostly for developers.</p> <pre><code>sudo yum install sbcl texinfo rpm-build\ncd ~\nwget http://dl.fedoraproject.org/pub/fedora/linux/updates/22/SRPMS/m/maxima-5.36.1-2.fc22.src.rpm\nrpm -i maxima-5.36.1-2.fc22.src.rpm\ncd rpmbuild\nrpmbuild -ba SPECS/maxima.spec\ncd RPMS/x86_64\nsudo yum remove maxima\nsudo yum install maxima-runtime-sbcl-5.36.1-2.el6.x86_64.rpm maxima-5.36.1-2.el6.x86_64.rpm\n</code></pre> <p>The following was tested in March 2016 on Ubuntu 14.04.4 LTS (GNU/Linux 3.13.0-79-generic x86_64) (Trusty). Install dependencies:</p> <pre><code>sudo apt-get -y install clisp texinfo\n</code></pre> <p>Then run:</p> <pre><code>cd ~\nwget -O maxima_source.tar.gz http://sourceforge.net/projects/maxima/files/Maxima-source/5.36.1-source/maxima-5.36.1.tar.gz/download\ntar zxvf maxima_source.tar.gz\ncd maxima-5.36.1\n./configure --with-clisp\nmake --silent\nsudo make install --silent\nmaxima --list-avail\n</code></pre>"},{"location":"Installation/Testing_installation/","title":"Testing Installation","text":"<p>It is important to confirm that STACK has been installed correctly, and that it is connecting to the CAS.</p>"},{"location":"Installation/Testing_installation/#stack-configuration-page","title":"STACK configuration page","text":"<p>STACK provides a number of options.  To set these you must login as the Moodle site Administrator.  Navigate to </p> <pre><code>Site administration -&gt; Plugins -&gt; Question Types -&gt; STACK\n</code></pre>"},{"location":"Installation/Testing_installation/#healthcheck-script","title":"Healthcheck script","text":"<p>To confirm if the PHP scripts are connecting to Maxima navigate to the STACK configuration page (see above).  Choose the link to the \"healthcheck script\".</p> <p>The healthcheck script checks the following. </p> <ul> <li>Check LaTeX is being converted correctly?  Check MathJax or another LaTeX converter.</li> <li>Can PHP call external applications?  No, then change PHP settings. </li> <li>Can PHP call Maxima? No, then see below.</li> <li>Graph plotting. Are auto-generated plots being created correctly?  There should be two different graphs.  If not, check the gnuplot settings, and directory permissions.</li> </ul> <p>The CAS-debug option in the STACK settings will provide a very verbose output which is indispensable at this stage.  Turn this off for production servers, as it is wasteful of storage, particularly when caching results.</p> <p>If PHP does not connect to Maxima then please see the \"Troubleshooting\" section below.</p>"},{"location":"Installation/Testing_installation/#maxima-optional-packages","title":"Maxima optional packages","text":"<p>Maxima has a wide range of optional libraries.  Which are loaded on your server is set with the option <code>qtype_stack | maximalibraries</code> from the STACK question type settings page. Currently the default setting is to load the following optional Maxima packages whenever Maxima is used.</p> <pre><code>stats, distrib, descriptive\n</code></pre> <p>We need to support STACK in a wide range of situations. In production environments system admins have asked us to check packages do not write files to the server, or have other server-side effects.  E.g. the plot2d command executes a <code>gnuplot</code> process on the server for example.  For this reason only some optional packages can be loaded into STACK.  Currently the only supported packages are</p> <pre><code>stats, distrib, descriptive\n</code></pre> <p>If you wish to subvert this process you will need to alter the source code of STACK.  If you have authority on your server to modify the source code you already have some level of responsibility and trust on the server!  In the file <code>/stack/cas/installhelper.class.php</code>, there is a static class <code>$maximalibraries</code> which contains the list of permitted libraries.</p>"},{"location":"Installation/Testing_installation/#caching-cas-output","title":"Caching CAS output","text":"<p>By default, the interactions with the CAS are cached.  You can connect freshly to the CAS each time, which is useful for  debugging, and this option is available on the STACK configuration page.  To clear the cache, click the button on the bottom of the healthcheck script. </p>"},{"location":"Installation/Testing_installation/#optimizing-maxima","title":"Optimizing Maxima","text":"<p>Maxima is the rate-determining step in performance to STACK. Once you have the STACK question type working with a direct connection to the CAS, then you should consider optimizing the  performance of Maxima.  See the page dedicated to optimizing Maxima </p>"},{"location":"Installation/Testing_installation/#cas-chat","title":"CAS Chat","text":"<p>At any stage you can evaluate a fragment of CASText by using the CASChat script.  There is a link from the STACK configuration page. </p>"},{"location":"Installation/Testing_installation/#testing-your-questions-when-you-upgrade","title":"Testing your questions when you upgrade","text":"<p>Whenever you upgrade to a new version of the STACK plugin, it is a really good idea to run all of the question tests to be sure that the behaviour of STACK has not changed in a way that breaks any of your questions. To do this, go to </p> <pre><code>Site administration -&gt; Plugins -&gt; Question types -&gt; STACK\n</code></pre> <p>and follow the \"run the question tests in bulk script\" link.</p> <p>It is even possible, with a bit of hacking, to execute the question tests from one Moodle site on a different Moodle site. For example you may be evaluating the latest release of STACK on a test server, and you would like to know if the upgrade will break any of your existing questions. (And you don't want to do a lot of exporting and importing.)</p>"},{"location":"Installation/Testing_installation/#troubleshooting-an-upgrade","title":"Troubleshooting an upgrade","text":"<p>When you upgrade, the STACK plugin will try to automatically recreate the optimised Maxima image.  Occasionally this will not work and you will need to troubleshoot why.</p>"},{"location":"Installation/Testing_installation/#1-goal-maxima-works-on-the-server","title":"1. GOAL: maxima works on the server","text":"<p>Check Maxima is installed and working.  E.g. type <code>maxima</code> on the command line, and try a non-trivial calculation such as <code>diff(sin(x^2),x);</code> to confirm Maxima is working.  Use <code>quit();</code> to exit.</p>"},{"location":"Installation/Testing_installation/#2-goal-stack-works","title":"2. GOAL: STACK works!","text":"<p>Next, check STACK is working without the optimised image, and without caching.  The STACK settings are defined on the plugin page.</p> <pre><code>Site administration -&gt; Plugins -&gt; Question Types -&gt; STACK\n</code></pre> <p>To set these you must login as the Moodle site Administrator.  Take note of your old settings and save the following settings.</p> <pre><code>qtype_stack | platform = Linux\nqtype_stack | maximaversion = default\nqtype_stack | casresultscache = Do not cache\nqtype_stack | castimeout = 100\nqtype_stack | maximacommand =\nqtype_stack | maximacommandopt =\nqtype_stack | maximalibraries =\n</code></pre> <p>Note that the <code>maximacommand</code>, <code>maximacommandopt</code> and <code>maximalibraries</code> should be empty boxes.</p> <p>The <code>castimeout</code> of 100s is excessive. However, the very first time Maxima is called on a server it internally compiles a lot of LISP sourcecode.  This can take a surprisingly long time!</p>"},{"location":"Installation/Testing_installation/#3-goal-reduce-timeout-and-check-maxima-libraies","title":"3. GOAL: Reduce timeout and check Maxima libraies.","text":"<p>Now we need to back away gently from the above raw confuration, back towards the defaults/production settings.</p> <pre><code>qtype_stack | castimeout = 10\nqtype_stack | maximalibraries = stats, distrib, descriptive, simplex\n</code></pre> <p>Not all versions of Maxima have the stats libraries, but if you do have them add them back now.  You can check whether you have each library individually on the command line by typing <code>load(\"stats\");</code> (etc.)  Save these settings and run the healthcheck script.</p>"},{"location":"Installation/Testing_installation/#4-goal-choose-a-specific-maxima-version-optional","title":"4. GOAL: choose a specific maxima version (optional).","text":"<p>If you want to choose a specific version of Maxima now is the time to do so by selecting</p> <pre><code>qtype_stack | maximaversion\n</code></pre> <p>from the dropdown.  Part of the healthcheck script will tell you which version you have on your server or use <code>maxima --list-avail</code> on the command line.  If your version does not appear on the dropdown (and it won't if you compiled Maxima from source) then set <code>maximacommand</code> to be the command you need to type.  E.g. if you use <code>maxima --use-version=5.42.1</code> on the command line then </p> <pre><code>qtype_stack | maximacommand = maxima --use-version=5.42.1\n</code></pre> <p>Save these settings and run the healtcheck script.</p>"},{"location":"Installation/Testing_installation/#5-goal-check-libraries-in-maxima","title":"5. Goal: check libraries in Maxima","text":"<p>The setting <code>qtype_stack | maximalibraries</code> tries to load some optional Maxima libraries.  Not all versions of Maxima have these libraries, which can be confusing.</p> <p>Only supported library names can be used.  For example try the following.</p> <pre><code>qtype_stack | maximalibraries = stats, distrib, descriptive, simplex\n</code></pre> <p>Save these settings and run the healtcheck script.</p> <p>Note, internally in Maxima this is equivalent to typing <code>load(stats);</code> in at the Maxima command line for each library in the list.  You can try this in step 1 above to check each library you want to load by hand.</p> <p>If you get the following error <code>loadfile: failed to load /usr/share/maxima/5.32.1/share/draw/draw.lisp</code> then remove the optional libraries from <code>qtype_stack | maximalibraries</code>.  I.e. set this to blank and re-try the healthcheck.  (One of the stats libraries also tries to load the draw library.)</p>"},{"location":"Installation/Testing_installation/#6-goal-create-optimised-image","title":"6. Goal: create optimised image.","text":"<p>Now press the \"Create Maxima Image\" button at the bottom of the healthcheck script page to create the optimised image, and read the output of the refreshed healthcheck page.  Note, this page updates some of your settings in the plugin page. In particular, it changes <code>qtype_stack | platform</code> to optimised and fills in the value of <code>qtype_stack | maximacommandopt</code>.</p> <p>Reload the plugin page (but don't save over the top).</p> <p>The maxima image is stored in a sub-directory of moodle's <code>dataroot</code> directory, specifically in <code>dataroot/stack</code>.  This is defined in Moodle's <code>config.php</code> as, for example,</p> <pre><code>$CFG-&gt;dataroot  = '/var/data/moodle311';\n</code></pre> <p>The optimised image will therefore be something like</p> <pre><code>/var/data/moodle311/stack/maxima_opt_auto'\n</code></pre> <p>and the command to execute this (with a timeout) will be</p> <pre><code>timeout --kill-after=10s 10s /var/data/moodle311/stack/maxima_opt_auto -eval '(cl-user::run)'\n</code></pre> <p>The PHP process must have permission to write to this directory.  If your optimised image was not created please check the file permissions, check the file exists and try to run the command <code>maximacommandopt</code> from the server command line.  If the current optimised image was created by a different user (e.g. during command-line install) you may not have permission to replace it.</p> <p>(The precise name of the Maxima image depends on the LISP version, e.g. <code>maxima_opt_auto</code> is generated by GCL.)</p>"},{"location":"Installation/Testing_installation/#7-goal-use-the-cas-cache","title":"7. Goal: use the CAS cache.","text":"<p>The very last step is to use the CAS cache.</p> <pre><code>qtype_stack | casresultscache = Cache in the database\n</code></pre> <p>This should be a working server, using the optimised image.  Please consider using the Maxima Pool for production sites, putting Maxima onto another server competely.</p>"},{"location":"Moodle/","title":"STACK en Moodle VLE.","text":"<p>Esta p\u00e1gina contiene informaci\u00f3n \u00fatil sobre el uso de STACK en Moodle VLE.</p> <ul> <li>Encontrar el banco de preguntas,</li> <li>Creando un cuestionario,</li> <li>Importar y exportar.</li> </ul>"},{"location":"Moodle/Import_Export/","title":"Import and Export of STACK questions","text":"<p>STACK questions use the \"Moodle XML format\" to import and export.</p>"},{"location":"Moodle/Import_Export/#importing-stack-questions","title":"Importing STACK questions","text":"<p>Go to</p> <pre><code>Question bank =&gt; Import\n</code></pre> <p>Choose \"Moodle XML format\" and the question bank category you wish to import your questions to.  Then select files to import. Some sample questions are supplied with STACK in this format.</p>"},{"location":"Moodle/Import_Export/#exporting-stack-questions","title":"Exporting STACK questions","text":"<p>There are two ways to export STACK questions.</p> <ol> <li>The normal Moodle procedure is to export whole category of questions at one time through the Moodle question bank.  To export a selection of questions, you need to move them into a separate category.  This can be any mix of STACK and other Moodle questions.  You must choose \"Moodle XML format\" as the file format.</li> <li>To export a single STACK question as \"Moodle XML format\".</li> <li>Preview the question.  </li> <li>Follow the link to \"Question tests &amp; deployed variants\".</li> <li>Export this question.</li> </ol> <p>This export mechanism is only available to STACK questions and no other question types in Moodle.</p>"},{"location":"Moodle/Import_Export/#migrating-stack-3-questions-to-stack-4","title":"Migrating STACK 3 questions to STACK 4","text":"<p>STACK 4.0 has one important change in the question authoring.  CASText now uses <code>{@...@}</code> in include mathematics in the text.  The change from <code>@...@</code> to <code>{@...@}</code> gives us matching parentheses to parse, which is much better.  The <code>{..}</code> will not break LaTeX.</p> <p>You will need to update all your existing questions which include CAS calculations. This includes all fields, e.g. in the feedback as well.  To help with this process we have an automatic conversion script.  As an admin user navigate to </p> <pre><code>Site administration -&gt; \nPlugins -&gt;\nQuestion Types -&gt;\nSTACK\n</code></pre> <p>Then choose the link \"The fix maths delimiters script\". </p>"},{"location":"Moodle/Import_Export/#importing-stack-2-questions","title":"Importing STACK 2 questions","text":"<p>You will need to install the <code>qformat_stack</code> importer before you can import STACK 2 questions.</p> <p>Go to</p> <pre><code>Question bank =&gt; Import\n</code></pre> <p>Choose \"STACK2.0 format\" and the question bank category you wish to import your questions to.  The importer enables STACK 2 questions which have been exported in STACK's \"xml\" format to be imported into STACK 3.  Both individual questions and lists of questions can be imported.</p> <p>There have been a number of changes between STACK 2 and STACK 3.  These are detailed in the development track.</p> <ul> <li>The following question level options are now ignored by the importer</li> <li>Display (Reason: this should not be set at the question level anyway).</li> <li>Worked Solution on Demand (Reason: the quiz behaviours are the right place to deal with this.  Providing this option was always a hack in the first place...).</li> <li>Feedback shown (Reason: again, the quiz behaviours are the right place to deal with this.)</li> <li>From the old MetaData only the <code>name</code> is preserved.  All other MetaData is lost on import.</li> <li>STACK 2 exporter does not seem to export some of the interaction element options correctly, in particular</li> <li>the options which ask the student to verify and to show validation feedback.</li> <li>question level penalty option.</li> <li>Questions with a single potential response tree import with the PRT feedback in the specific feedback slot, not in the question text.  We envisage this will enable single part questions to respect a wider variety of Moodle question behaviours.</li> <li>When importing question tests, the new testing mechanism in STACK 3 enables the teacher to specify a score and penalty, not just an answer note.  Since we have to set defaults on import, most question tests now fail and this information will need to be added by hand.  A good opportunity to confirm questions have imported correctly.....</li> </ul>"},{"location":"Moodle/Question_bank/","title":"How do I find the Moodle question bank?","text":"<p>To find the STACK questions login as a teacher.</p> <p>To begin, go to Moodle and navigate to your course's Course administration page and, from the Question bank section, click on Questions:</p> <p></p> <p>On the Question Bank page, press the 'Create new question' button:</p> <p></p> <p>From the 'Choose a question type to add' dialog select 'STACK' and press 'Add':</p> <p></p> <p>The 'Editing a STACK question' page is displayed. Now we can begin to create the actual question. Don't be put off by the amount of configuration options as, in order to get started, there are only a few we need to worry about.</p>"},{"location":"Moodle/Semi-automatic_Marking/","title":"Semi-automatic Marking","text":"<p>The primary goal of STACK is automatic marking of students' answers.  However, there are many situations where we want students to justify their answer, or provide a response which cannot be marked automatically.</p> <p>It is certainly possible to have students answer one of the other question types.  E.g. Moodle provides an \"essay\" question type in which students can type in their answer (essay?), or the teacher can permit students to upload a file, e.g. a picture of their written response.  The teacher can then mark this by hand.</p> <p>Another option is to automatically mark students' short answers using a question type such as the pattern match question type in Moodle.</p> <p>STACK provides the \"notes\" input type.  There are some advantages to using the notes input, rather than an essay.</p> <ol> <li>It is part of a STACK question, so students' answers can be between other parts of a multi-part question.</li> <li>When students \"validate\" their answer, any maths types in using LaTeX is displayed.  If the teacher shows validation then students get a preview of their answer, and LaTeX will be displayed.</li> </ol>"},{"location":"Moodle/Semi-automatic_Marking/#manual-grading","title":"Manual grading.","text":"<p>The notes input has a special extra option <code>manualgraded</code>, and the default option value is <code>manualgraded:false</code>.  If you specify <code>manualgraded:true</code> then the whole STACK quesion will require manual grading!</p> <p>There really is no way to mix automatic and manually graded parts of a question. Therefore, if you want automatic and manual marking you must have separate questions.</p>"},{"location":"Moodle/Variant_matching/","title":"Variant matching","text":"<p>This is a relatively advanced feature which links together random variables between questions in the Moodle quiz.</p> <p>Some teachers regularly want to create \"random groups\" with questions based on each other in which students might be presented with a set of questions that are all based on some common question variables.  This can be achieved with multi-input questions or variant matching.</p> <ol> <li>Multi-input questions keep all the information inside one STACK question.  This encapsulation is ideal for clarity of the relationship between parts/questions and sharing a single \"STACK question\", but questions quickly become complex to maintain.  When questions are only weakly linked this can also look strange.</li> <li>Variant matching allows separate questions to synchronise random variables.  However, the question author is now responsible for making sure their questions actually match!</li> </ol> <p>There is currently no way to formally record that two or more questions enjoy variant matching within the questions.  In particular, there is no way two questions can share a fragment of question variables, question notes, or a pool of seeds!  This makes variant matching currently rather fragile for long-term support.</p> <p>To create matched variants, create two or more STACK questions in the normal way.</p> <ol> <li>Random variable generation must be identical for all questions.  The complete question variables need not be identical, but anything which affects randomisation must.  E.g. any randomisation can be in a block at the start of the question variables which can be copied between all questions.</li> <li>The \"Random Group\" field in each question must be non-empty and identical for all questions in each group sharing randomisation.</li> <li>Formally, question notes need not be identical for all questions.  We recommend they at least have one common element uniquely identifying all random variables which contribute to the random group!</li> <li>Deploy variants of one question in the normal way.  This should ensure question notes not being deployed more than once (see point 2 above). </li> <li>Copy the list of seeds from one deployed questions to deploy all the other questions in the random group.</li> </ol> <p>If question notes are duplicated in a subsequent question this will not stop students using the question. Preventing duplicate question notes normally ensures statistics are grouped correctly.  Statistics are grouped by variant, which a teacher will actually want since the underlying variant will be a single member of the random group.</p>"},{"location":"Moodle/Variant_matching/#developer-notes","title":"Developer notes","text":"<p>Internally a \"variant\" is matched to the integer seed.  <code>get_variants_selection_seed</code> is a Moodle-side feature syncing the seed we get from Moodle based on the group names we have in the questions.</p>"},{"location":"Reference/","title":"Materiales de referencia","text":"<p>Esta secci\u00f3n contiene materiales de referencia que son \u00fatiles, pero que generalmente no forman parte del proyecto STACK.</p> <ol> <li>Notaci\u00f3n actuarial</li> <li>El proyecto HELM.</li> <li>Utilizaci\u00f3n de LaTeX y HTML en las preguntas.</li> </ol>"},{"location":"Reference/Actuarial/","title":"Notation used in actuarial work","text":"<p>There are a number of special notations particular to actuarial work.  For example, </p> <p> </p> <p>which is typeset using <code>\\[\\require{enclose} EPV = a _{[25]+5:\\enclose{actuarial}{30}} ^ {\\space 1}\\]</code>. Further examples are given below.</p>"},{"location":"Reference/Actuarial/#life-contingencies-symbols","title":"Life Contingencies' Symbols","text":"Inline Code (without LaTeX delimiters) <code>a</code> <code>\\require{enclose} a_{\\enclose{actuarial}{K}}</code> <code>\\require{enclose} \\bar{a}_{\\enclose{actuarial}{T}}</code> <code>\\require{enclose} \\ddot{a}_x</code> <code>\\require{enclose} \\bar{a}_{h}^{r}</code> <code>\\require{enclose} \\ddot{a}_{x}^{\\{m\\}}</code> <code>\\require{enclose} a_{x:\\enclose{actuarial}{n}}</code> <code>\\require{enclose} \\bar{a}_{x:\\enclose{actuarial}{n}}</code> <code>\\require{enclose} \\ddot{a}_{x:\\enclose{actuarial}{n}}</code> <code>\\require{enclose} \\ddot{a}_{x:\\enclose{actuarial}{n}}^{(m)}</code> <code>\\require{enclose} \\mathring{a}_{x:\\enclose{actuarial}{n}}^{(m)}</code> <code>\\require{enclose} \\ddot{a}_{x:\\enclose{actuarial}{n}}^{\\{m\\}}</code> <code>\\require{enclose} \\bar{a}_{\\overline{x:\\enclose{actuarial}{n}}}</code> <code>\\require{enclose} {}^{2}\\bar{a}_{x:\\enclose{actuarial}{n}}</code> <code>\\require{enclose} {}^{2}\\ddot{a}_{xy:\\enclose{actuarial}{n}}</code> <p>STACK provides some support for statistical functions via optional Maxima packages.  See specific pages on statistics.</p>"},{"location":"Reference/HELM/","title":"HELM","text":"<p>During the summer of 2020, we started to convert the HELM workbooks into STACK quizzes.  The ultimate goal is to create and release one quiz for each of the .pdf workbooks.</p> <p>To help question authors work in parallel and yet achieve a consistent style we introduced the following style conventions which are now available to any STACK question.</p>"},{"location":"Reference/HELM/#key-points","title":"Key points","text":"<ul> <li>These appear in boxes in the original HELM workbooks.</li> <li>Do not include the numbers that appear in the PDFs (i.e. use \"Key Point\" rather than \"Key Point 1\")</li> </ul> Example Code <p>A generalisation of the third law of indices states:</p> Key Point <p> For all ... .</p> <pre>&lt;p&gt;A generalisation of the third law of indices states:&lt;/p&gt;\n&lt;div class=\"HELM_keypoint\"&gt;\n&lt;h4&gt;Key Point&lt;/h4&gt;\n&lt;p&gt;For all ... .&lt;/p&gt;\n&lt;/div&gt;</pre>"},{"location":"Reference/HELM/#examples","title":"Examples","text":"<ul> <li>Have a horizontal rule before them. They also have a horizontal rule after them, unless they are last in the text.</li> <li>Do not include the numbers that appear in the PDFs (i.e. use \"Example\" rather than \"Example 1\")</li> <li>The headings are &lt;h4&gt; with a special class applied to them for styling.</li> <li>Use the HELM_parts and HELM_parts_inline styles to label lists of parts (a), (b), (c), etc.</li> </ul> Example Code Example <p>Use a calculator to evaluate ... .</p> Solution <p>Using the ... button on the calculator check that you obtain ... .</p> <pre>&lt;hr&gt;\n&lt;h4 class=\"HELM_example\"&gt;Example&lt;/h4&gt;\n&lt;p&gt;Use a calculator to evaluate ... .&lt;/p&gt;\n&lt;h4 class=\"HELM_solution\"&gt;Solution&lt;/h4&gt;\n&lt;p&gt;Using the ... button on the calculator check that you obtain ... .&lt;/p&gt;</pre> Example <p>Identify the index and base in the following expressions. </p> <ol> <li> Ex 1. </li> <li> Ex 2. </li> <li> Ex 3. </li> </ol> Solution <ol> <li>In the expression ..., 8 is the base and 11 is the index.</li> <li>In the expression ..., -2 is the base and 5 is the index.</li> <li>In the expression ..., p is the base and -q is the index.<p> </p><p>The interpretation of a negative index will be given   in sub-section 4 which starts on page 31.</p></li> </ol> <pre>&lt;hr&gt;\n&lt;h4 class=\"HELM_example\"&gt;Example&lt;/h4&gt;\n&lt;p&gt;Identify the index and base in the following expressions. &lt;/p&gt;\n&lt;ol class=\"HELM_parts_inline\"&gt;\n&lt;li&gt; Ex 1. &lt;/li&gt;\n&lt;li&gt; Ex 2. &lt;/li&gt;\n&lt;li&gt; Ex 3. &lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h4 class=\"HELM_solution\"&gt;Solution&lt;/h4&gt;\n&lt;ol class=\"HELM_parts\"&gt;\n  &lt;li&gt;In the expression ..., 8 is the base and 11 is the index.&lt;/li&gt;\n  &lt;li&gt;In the expression ..., -2 is the base and 5 is the index.&lt;/li&gt;\n  &lt;li&gt;In the expression ..., p is the base and -q is the index.&lt;p&gt;\n  &lt;/p&gt;&lt;p&gt;The interpretation of a negative index will be given\n  in sub-section 4 which starts on page 31.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;</pre> <p>Hint: If &lt;hr&gt; doesn't work try preceding it with &lt;p&gt;&amp;nbsp;&lt;/p&gt;.</p>"},{"location":"Reference/HELM/#questions","title":"Questions","text":"<ul> <li>Start with heading \"Exercise\" - see below for styling. Note that these are numbered in the PDFs but do not copy the numbers. The Moodle quiz will take care of numbering the questions.</li> </ul> Example Code <p>Exercise</p> <pre>\u00a0&lt;p class=\"HELM_exercise\"&gt;Exercise&lt;/p&gt;</pre>"},{"location":"Reference/HTML/","title":"Most useful HTML","text":"<p>HTML Paragraphs (don't forget the end tag!)</p> <pre><code>&lt;p&gt;This is a paragraph&lt;/p&gt;\n&lt;p&gt;This is another paragraph&lt;/p&gt;\n</code></pre> <p>HTML Line Breaks</p> <p>Use the <code>&lt;br /&gt;</code> tag if you want a line break (a new line) without starting a new paragraph:</p> <pre><code>&lt;p&gt;This is&lt;br /&gt;a para&lt;br /&gt;graph with line breaks&lt;/p&gt;\n</code></pre> <p>Some formatting</p> <pre><code>&lt;em&gt;This is emphasis&lt;/em&gt;\n\n&lt;b&gt;This text is bold&lt;/b&gt;\n\n&lt;big&gt;This text is big&lt;/big&gt;\n\n&lt;i&gt;This text is italic&lt;/i&gt;\n\n&lt;code&gt;This is computer output&lt;/code&gt;\n\nThis is &lt;sub&gt;subscript&lt;/sub&gt; and &lt;sup&gt;superscript&lt;/sup&gt;\n</code></pre>"},{"location":"Reference/Latex/","title":"Useful LaTeX","text":"<p>LaTeX notation can specify inline or display mode for maths by delimiting with <code>\\(</code> or <code>\\[</code> respectively.  Here are some simple examples:</p> <ul> <li><code>x^2</code> gives  </li> <li><code>x_n</code> gives  </li> <li><code>x^{2x}</code> gives  </li> <li><code>\\alpha\\beta</code> gives  </li> <li><code>\\sin(3\\pi x)</code> gives  </li> <li><code>\\frac{1}{1-n^2}</code> gives  when inline.  In display mode it gives:</li> </ul> <p> </p> <ul> <li><code>\\int_a^b x^2\\ dx</code> gives  when inline.  In display mode it gives:</li> </ul> <p> </p>"},{"location":"Students/","title":"Information for students","text":"<p>STACK is software for setting and automatically marking mathematical questions as part of a Moodle quiz.</p> <p>You are normally expected to type in your answer using a simple linear syntax, details of which are given on the Answer input page. Then you submit your answer and it is assessed.</p> <ul> <li>STACK establishes that your answer is valid.</li> <li>Next it decides if you are correct, and assigns feedback.</li> <li>Multiple attempts at a question are usually encouraged.</li> <li>You will often be given randomly generated questions, so you may be able to practice similar questions.</li> </ul> <p>You can also read about accessibility features and how to use the equivalence reasoning input.</p> <p>There is also page for frequently asked questions, FAQ.</p>"},{"location":"Students/Accessibility/","title":"Accessibility","text":""},{"location":"Students/Accessibility/#how-do-i-make-the-fonts-bigger","title":"How do I make the fonts bigger?","text":"<p>Warning: do not change the size of the font while taking a quiz.</p> <p>Navigate away from the quiz page first.  Sometimes the browser will \"reload\" the page when you change the font size, and this may cause your work to be submitted or lost!</p> <p>The fonts which STACK uses should be able to scale.  Use the normal options on the browser to change the sizes of the fonts. This changes all the fonts on the page, including the mathematics.</p>"},{"location":"Students/Accessibility/#other-accessibility-features","title":"Other accessibility features","text":"<p>As part of Moodle, we are able to take advantage of the work done by that community, detailed here.</p> <p>The preferred route to displaying mathematics in STACK is to use MathJax.  Details of what accessibility features this support are given here.</p> <p>STACK itself uses very simple CSS and HTML form fields, which present very low barriers to accessibility software.</p>"},{"location":"Students/Answer_assessment/","title":"Answer assessment","text":""},{"location":"Students/Answer_assessment/#how-are-my-answers-assessed","title":"How are my answers assessed?","text":"<p>A STACK question may have one or more parts. Each part may have one or more inputs, such as typing in a mathematical expression as your answer. An individual mathematical expression you type might be used in more than one part. This sounds complicated, but since there are many possibilities it is difficult to make general statements. The question should be clear.  If not, please ask your teacher.</p> <p>If you need to answer a part but have not then you will be told to do so. You should normally answer all the parts!</p> <p>Your answers are assessed in a two-stage process.</p> <ol> <li>Your answer must be valid.</li> <li>Once all answers relevant to a part are valid the mathematical properties will be established.    What properties are required depends on the question being asked!</li> </ol> <p>Sometimes these processes are done in one step, sometimes you will need to submit a page twice. Therefore you should answer parts of a question and press <code>check</code> to validate your answer. If all parts are valid, then you should press <code>check</code> again to ask for your answer to be assessed.</p> <p>You may change your answer. Just press <code>check</code> to validate and then <code>check</code> again to assess. The system keeps track of any changes you make.</p> <p>You will never lose marks for making a syntax error, e.g. missing a closing bracket.   However, you may type in a valid expression which is not what you meant and which is wrong.  You need to learn how to express yourself using an unambiguous syntax.  This is simple and comes to most students easily with practice.   If you make a mathematical mistake you should try to do the question again!</p> <p>If you have asked for a worked solution then you may not change any of your answers.</p> <p>Mathematical expressions are normally entered using a typed linear syntax. For more details, see input.</p>"},{"location":"Students/Answer_assessment/#repeated-attempts","title":"Repeated attempts","text":"<p>STACK encourages repeated attempts if you do not get the correct answer first time. Normally, a small percentage (e.g. 10%) of the marks available for the question are deducted for each valid but incorrect attempt. However, your final mark will be the maximum mark you achieve over all attempts. You are never worse off trying a partially correct question again.</p>"},{"location":"Students/Answer_assessment/#why-is-my-answer-invalid","title":"Why is my answer invalid?","text":"<p>Only when all the interaction elements for a question part are valid do we consider assessing your answer to the question. The validation process is designed to help you express your mathematics in the correct form and in an unambiguous way. On paper we might \"know what you meant\" but with the computer you have to \"say what you mean\". You do not lose marks if one of your interaction elements is invalid so do not be afraid of typing in your answer. Feedback is always provided.</p> <p>There are a number of reasons why your answer could be considered to be invalid.</p> <ul> <li>You may have a syntax error in your answer, such as mismatched brackets.</li> <li>Variables in your answers should be single letters only.</li> <li>The range of Maxima functions you are permitted to type in is limited to mathematical ones, not programming, plotting, and so on.</li> <li> <p>Sometimes the teacher may insist your answer is of the correct type. There are lots of types of mathematical objects, such as</p> </li> <li> <p>equations: <code>3*x=x^2-1</code>. These need an equals sign!</p> </li> <li>inequalities: <code>x&lt;=1</code>.</li> <li>sets: <code>{1,2,3}</code>. Sets must be in curly brackets.</li> <li>lists: <code>[1,1,2,3]</code>. List must be in square brackets.</li> <li>matrices.  <code>matrix([1,2],[3,3])</code>.</li> </ul> <p>Think about the form your answer should have before you type it in.</p> <ul> <li>Sometimes the teacher may not let you type in certain strings for educational reasons.</li> <li>Sometimes the teacher may not permit you to use floating point numbers, e.g. .   In this case you should give an exact answer as, e.g. a fraction: <code>1/2</code> or a surd: <code>sqrt(2)</code>.</li> <li>Some expressions make no mathematical sense at all, e.g. one divided by zero. These are also invalid.</li> </ul>"},{"location":"Students/Answer_assessment/#what-are-mathematical-properties","title":"What are mathematical properties?","text":"<p>When your answers are all valid you submit them again. This time they are assessed. The outcomes are a mark, and sometimes some written feedback. If you did not obtain full marks then you should try the question again.</p> <p>Assessing your answer is not often a simple case of correct or incorrect. Often we might want your answer to satisfy a number of different mathematical properties. For example:</p> <ul> <li>If your expression algebraically equivalent to the correct expression?</li> <li>Is your expression fully simplified (e.g. have you gathered all like terms or factored your expression)?</li> <li>does your expression satisfy the equation?</li> <li>Is every element of your set a solution? Does your set of solutions contain them all?</li> </ul> <p>Answering the question is all about thinking about what properties your answer should have! If you are unsure then you need to ask the teacher.</p>"},{"location":"Students/Answer_input/","title":"Answer input","text":"<p>In STACK you often need to enter an answer which is an algebraic expression. You should type in your answers using the same syntax as that used in the symbolic mathematics package Maxima.</p> <p>The syntax is broadly similar to the syntax used for mathematical formulae in graphical calculators; general programming languages such as Java, C and Basic; and in spreadsheet programs. You will find it useful to master it.</p> <p>For example, to enter  you need to type in</p> <pre><code>e^(-t)*sin(3*t)\n</code></pre> <p>STACK tries quite hard to give helpful information about any syntax errors. It might also forgive some errors you make.</p>"},{"location":"Students/Answer_input/#basic-notation","title":"Basic Notation","text":""},{"location":"Students/Answer_input/#numbers","title":"Numbers","text":"<p>You should type in numbers without spaces, and use fractions rather than decimals where possible. For example,  should be entered as <code>1/4</code>, not as <code>0.25</code>. Also,</p> <ul> <li>  is entered as either <code>pi</code> or <code>%pi</code>,</li> <li> , the base of the natural logarithms, is entered as either <code>e</code> or <code>%e</code>,</li> <li>  is entered as either <code>i</code> or <code>%i</code>.</li> <li>  is also sometimes entered as <code>j</code> if you are an engineer. If in doubt ask your teacher.</li> <li>You could also use <code>sqrt(-1)</code>, or <code>(-1)^(1/2)</code>, being careful with the brackets.</li> <li>STACK modifies Maxima's normal input rules so that you don't get caught out with a variable <code>i</code> when you meant <code>%i</code>.</li> <li>You can also use scientific notation for large numbers, e.g.  can be entered as <code>1E+3</code>.   Note, however, that in many situations floating point numbers are forbidden.</li> </ul>"},{"location":"Students/Answer_input/#multiplication","title":"Multiplication","text":"<p>Use a star for multiplication. Forgetting this is by far the most common source of syntax errors. For example,</p> <ul> <li>  should be entered as <code>3*x</code>.</li> <li>  should be entered as <code>x*(a*x+1)*(x-1)</code>.</li> </ul> <p>STACK does sometimes try to insert stars for you where there is no ambiguity, <code>2x</code> or <code>(x+1)(x-1)</code>. This guessing cannot be perfect since traditional mathematical notation is sometimes ambiguous! Compare  and .</p>"},{"location":"Students/Answer_input/#powers","title":"Powers","text":"<p>Use a caret (^) for raising something to a power: for example,  should be entered as <code>x^2</code>. You can get a caret by holding down the SHIFT key and pressing the 6 key on most keyboards. Negative or fractional powers need brackets:</p> <ul> <li>  should be entered as <code>x^(-2)</code>.</li> <li>  should be entered as <code>x^(1/3)</code>.</li> <li>The function <code>root(x,n)</code> can be used for <code>x^(1/n)</code>.  If you omit the second argument you get <code>root(x)=sqrt(x)</code>.</li> </ul>"},{"location":"Students/Answer_input/#brackets","title":"Brackets","text":"<p>Brackets are important to group terms in an expression. This is particularly the case in STACK since we use a one-dimensional input rather than traditional written mathematics. Try to consciously develop a sense of when you need brackets and avoid putting in too many.</p> <p>For example,</p> <p> </p> <p>should be entered as <code>(a+b)/(c+d)</code>.</p> <p>If you type <code>a+b/(c+d)</code>, then STACK will think that you mean</p> <p> </p> <p>If you type <code>(a+b)/c+d</code>, then STACK will think that you mean</p> <p> </p> <p>If you type <code>a+b/c+d</code>, then STACK will think that you mean</p> <p> </p> <p>Think carefully about the expression <code>a/b/c</code>.  What do you think this means?  There are two options</p> <p> </p> <p>Maxima interprets this as .  If in doubt use brackets.</p> <p>Note that in this context you should always use ordinary round bracket (like (a+b)), not square or curly ones (like [a+b] or {a+b}).</p> <ul> <li><code>{a+b}</code> means a set,</li> <li><code>[a+b]</code> means a list.</li> </ul>"},{"location":"Students/Answer_input/#scientific-units","title":"Scientific units","text":"<p>You may be asked to answer a question in which the answer has units.  E.g. .  To enter units you must use multiplication, so this is entered as either <code>9.81*m/s^2</code> or <code>9.81*m*s^(-2)</code>.  Don't use a space, or another symbol such as <code>+</code>.</p>"},{"location":"Students/Answer_input/#subscripts","title":"Subscripts","text":"<p>Use the underscore character to denote a subscript.  For example,  should be entered as <code>a_b</code>.</p>"},{"location":"Students/Answer_input/#more-examples","title":"More examples","text":"<ul> <li>  should be entered as <code>2^(a+b)</code></li> <li>  should be entered as <code>2*cos(3*x)</code></li> <li>  should be entered as <code>exp(a*x)*sin(b*x)</code></li> <li>  should be entered as <code>(a*x^2 + b*x + c)^(-1)</code>.</li> </ul>"},{"location":"Students/Answer_input/#functions","title":"Functions","text":"<ul> <li>Standard functions: Functions, such as , , , ,  and so on   can be entered using their usual names. However, the argument must always be enclosed in brackets:    should be entered as <code>sin(x)</code>,  should be entered as <code>ln(3)</code> and so on.</li> <li>Modulus function: The modulus function, sometimes called the absolute value of x,   is written as |x| in traditional notation. This must be entered as <code>abs(x)</code>.</li> </ul>"},{"location":"Students/Answer_input/#trigonometrical-functions","title":"Trigonometrical functions","text":"<p>Things to remember:</p> <ul> <li>STACK uses radians for the angles not degrees!</li> <li>The function  should be typed in as <code>csc(x)</code> rather than <code>cosec(x)</code>.   You can type <code>cosec(x)</code> or just call it <code>1/sin(x)</code> if you prefer.</li> <li>  must be entered as <code>sin(x)^2</code> (which is what it really means, after all).   Similarly for ,  and so on.</li> <li>Recall that  traditionally means the number  such that ,   which is completely different from the number .   This traditional notation is really rather unfortunate and is not used by the CAS; instead,    should be entered as <code>asin(x)</code>. Similarly,  should be entered as <code>atan(x)</code> and so on.</li> </ul>"},{"location":"Students/Answer_input/#exponentials-and-logarithms","title":"Exponentials and Logarithms","text":"<ul> <li>To enter the exponential function type <code>exp(x)</code>. Typing <code>e^x</code> should work in STACK, but gets you into bad habits when using a CAS later!</li> <li>Type <code>ln(x)</code> or <code>log(x)</code> to enter the natural logarithm of  with base . Note that both of these start with a lower case l for logarithm, not a capital I (<code>i</code>).</li> <li>The logarithm of  to base  is entered as <code>lg(x)</code>.</li> <li>The logarithm of  to base  is entered as <code>lg(x,a)</code>, sometimes written .</li> </ul>"},{"location":"Students/Answer_input/#matrices","title":"Matrices","text":"<p>You may be given a grid of boxes to fill in. If not, the teacher may provide a hint as to the correct syntax. Otherwise you will need to use Maxima's notation for entering the matrix.</p> <p>The matrix:</p> <p> </p> <p>must be entered as <code>matrix([1,2,3],[4,5,6])</code>.</p> <p>Each row is entered as a list, and these should be the same length. The function matrix is used to indicate this is a matrix and not a \"list of lists\".</p>"},{"location":"Students/Answer_input/#equations-and-inequalities","title":"Equations and Inequalities","text":"<p>Equations can be entered using the equals sign. For example, to enter the equation  type <code>y=x^2-2*x+1</code>.</p> <p>Inequalities can be entered using the greater than and less than signs on the keyboard. Notice that there are four possibilities for you to choose from: <code>&lt;</code> or <code>&gt;</code> or <code>&lt;=</code> or <code>&gt;=</code>. Note there is no space between these symbols, and the equality must come second when it is used, i.e. you cannot use <code>=&lt;</code>.</p> <p>You can enter \"not equals to\" using the <code>#</code> symbol.  E.g. <code>x#1</code> is interpreted as .</p> <p>Sometimes you will need to connect inequalities together as <code>x&gt;1 and x&lt;=5</code>.  You must use the logical connectives <code>and</code> and <code>or</code>.  \"Chained inequalities\" such as  are not permitted as input syntax.  You should enter this as <code>1&lt;x and x&lt;5</code>.</p>"},{"location":"Students/Answer_input/#reasoning-line-by-line","title":"Reasoning line by line","text":"<p>Sometimes you will be asked to reason line by line.  This is called reasoning by equivalence.</p>"},{"location":"Students/Answer_input/#other-notes","title":"Other notes","text":"<ul> <li>Greek letters can be entered using their English names. For example, enter  as <code>alpha+beta</code>, and  as <code>2*pi</code>.</li> <li>Sets: To enter a set such as  in Maxima you could use the function <code>set(1,2,3)</code>, or use curly brackets and type <code>{1,2,3}</code>.</li> <li>Lists: can be entered using square brackets. For example, to enter the list 1,2,2,3 type <code>[1,2,2,3]</code>.</li> <li>Note that you do not need a semicolon at the end, unlike when you are using a CAS directly.</li> </ul> <p>You can also learn about the right syntax by doing tests in practice mode and asking for the solutions; as well as displaying the right answers in ordinary mathematical notation, STACK will tell you how they could be entered. However, there are often several possible ways, and STACK will not always suggest the easiest one.</p> <p>If you have difficulties in entering your answer into STACK you should contact your teacher.</p>"},{"location":"Students/Equivalence_reasoning/","title":"Reasoning by Equivalence","text":"<p>Sometimes STACK allows you to work line by line to solve an equation or inequality.  You must work in such a way that adjacent lines are equivalent to each other.</p> <p>Start by typing in the equation in the question. Then work line by line in the text area until you have solved the problem.  Normally some feedback will be available as you type.</p> <p>For example, to solve the quadratic equation  you might reason in the following way.</p> <pre><code>x^2-4*x-5=0\n(x+1)*(x-5)=0\nx=-1 or x=5\n</code></pre> <p>You can copy and paste from one line to the next and modify the line if this helps.</p> <p>This might be displayed as follows</p> <p> </p> <p>Whether this feedback is available to you or not immediately depends on your question.  This feedback indicates that STACK considers that each line is equivalent to the previous line.  The last line of working is your final answer, although the whole argument is considered as well.</p> <ol> <li>You should use the normal syntax for answer input in STACK, including brackets and <code>*</code> symbols for multiplication.</li> <li>Sets, lists and matrices are not permitted when reasoning by equivalence.</li> <li>Do not enter your answer as a list or set of numbers, use logical notation such as <code>x=-1 or x=5</code>.</li> </ol> <p>You can also work line by line with expressions, not equations.  For example, to expand out  you might reason in the following way.</p> <pre><code>(x-1)*(x+4)\n=x^2-x+4*x-4\n=x^2+3*x-4\n</code></pre> <p>This might be displayed as follows</p> <p> </p> <p>Here, each new line must start with an equals sign <code>=</code>.</p>"},{"location":"Students/Equivalence_reasoning/#what-is-equivalence","title":"What is \"equivalence\"?","text":"<p>Two equations are equivalent if they have the same solutions with the same multiplicities.</p> <p>Two expressions are equivalent if they have the same value when the variables are evaluated.</p> <p>Some general advice for solving equations when reasoning by equivalence is</p> <ol> <li>Factorise expressions, then use .  </li> <li>Use the difference of two squares, .</li> <li>Complete the square:  e.g. .</li> </ol>"},{"location":"Students/Equivalence_reasoning/#avoid-taking-roots","title":"Avoid taking roots.","text":"<p>Do not take the square root of both sides of an equation.  However,   So, if you take the square root of both sides of an equation to transform  into  you might miss a root!</p> <p>To avoid this problem use the difference of two squares in the following way.</p> <pre><code>a^2=b^2\na^2-b^2=0\n(a-b)*(a+b)=0\na=b or a=-b\n</code></pre> <p> </p>"},{"location":"Students/Equivalence_reasoning/#edge-cases","title":"Edge cases","text":"<p>Sometimes you will have an equation with no solutions.  You can express the fact there are no solutions in the following ways</p> <ol> <li><code>false</code>.  This is because sometimes you end up with a contradiction such as , since this equation is false you can type that as the final line in your argument.</li> <li><code>none</code>.  The special keyword <code>none</code> is used to signify that no values of the variables satisfy the equation.</li> <li><code>{}</code>.  The empty set indicates there are no solutions.</li> </ol> <p>Sometimes you will have an equation in which every number is a solution, such as .  You can express the fact every number is a solution in the following ways</p> <ol> <li><code>true</code>.  This is because sometimes you end up with an equation such as , and since this equation is true you can type that as the final line in your argument.</li> <li><code>all</code>.  The special keyword <code>all</code> is used to signify that any values of the variables satisfy the equation.</li> </ol>"},{"location":"Students/FAQ/","title":"Frequently asked questions","text":"<p>This page is designed to help student users of STACK, rather than question authors.</p>"},{"location":"Students/FAQ/#how-do-i-enter-my-answers","title":"How do I enter my answers?","text":"<p>You often need to enter an answer which is an algebraic expression. Details and examples are given on the answer input page. The short answer to this question is that you should type in your answers using the same syntax as that used in the symbolic mathematics package Maxima (this page is written for teachers, but you may find it interesting).</p>"},{"location":"Students/FAQ/#why-is-my-answer-invalid","title":"Why is my answer \"invalid\"?","text":"<p>STACK validates students' answers before they are graded, checking if the answers are in an acceptable syntax and giving the student a chance to confirm their answer is correct. By default, answers not explicitly specifying multiplication (fx.  instead of ) are not accepted. This is linked to a core philosophy of STACK; students should not be penalized for poor computer syntax. It is better to bug students until their answer is unambiguous, than to risk students being marking wrong for typic in \"sinx\" instead of \"sin(x)\" and having the computer interpret it as \"s*i*n*x\".</p> <p>That being said, there are options in STACK to be less strict with student syntax, so that the system may accept \"2x\" as a valid input. The question author has to activate this function, so contact your teacher if you think they should choose this option.</p> <p>There may be other reasons your answer is not allowed. By default, STACK does not allow variables that are longer than two characters, and your teacher may also have forbidden names and functions they do not want you to use in your answer.</p>"},{"location":"Students/FAQ/#why-is-my-quiz-acting-differently","title":"Why is my quiz acting differently?","text":"<p>Different quizzes can have different question behaviours. Some quizzes may only accept one answer, others may accept an unlimited amount. Some quizzes may allow you to \"check\" if each question is correct before moving on to the next, others may not include this. Some quizzes may give you feedback immediately, other only after a while. Your teacher may have picked different question behaviours for your different quizzes.</p>"},{"location":"Students/FAQ/#how-do-i-change-the-language","title":"How do I change the language?","text":"<p>Click on your profile, and go to <code>Preferences</code>, <code>Preferred language</code> and then select the language. Here is a direct link to this page (for sites using Moodle). If your language is not available, contact your site administrator - it is likely that they have not installed the relevant language package. Currently, only some languages are supported by STACK. See Language packages for a full list. If the interface is translated, but the question text and feedback is not, it is because your teacher has not added support for multilingual questions when authoring the question.</p>"},{"location":"Students/FAQ/#where-can-i-report-bugs","title":"Where can I report bugs?","text":"<p>Depends. Is it an issue in the question authoring? Fx.</p> <ul> <li>The feedback contains strange symbols, like \"@nn@\".</li> <li>My answer was marked \"wrong\", but I think it should be marked \"correct\".</li> <li>My quiz is not open, but I think it should be.</li> <li>There is a spelling error in the question text.</li> </ul> <p>In this case, it is likely your teacher has made an error when authoring the question, so you should contact them first. In general, if you are unsure what is responsible for your bug, the safest option is to contact your teacher, as they are likely to have a better idea of how to categorize the issue.</p> <p>If you think you have found a genuine STACK bug, you should report it in the STACK GitHub.</p> <p>If the bug seems to concern something outside of the question, for example the quiz or the website, you may have found a bug in the learning management system your institution uses. This should be reported to their respective bug report system, for example the one for Moodle.</p>"},{"location":"Students/FAQ/#how-do-i-make-the-fonts-bigger","title":"How do I make the fonts bigger?","text":"<p>See the information on Accessibility.</p>"},{"location":"Topics/","title":"Temas de matem\u00e1ticas","text":"<p>Esta secci\u00f3n de la documentaci\u00f3n de STACK contiene informaci\u00f3n sobre c\u00f3mo crear preguntas en temas matem\u00e1ticos concretos.  Muchos temas tienen diferentes requisitos, por ejemplo, la f\u00edsica necesita soporte para unidades cient\u00edficas.  Estas p\u00e1ginas contienen informaci\u00f3n sobre c\u00f3mo enlazar funciones como entradas, tests de respuesta y opciones para escribir preguntas sobre temas concretos.</p> <p>Los temas actuales incluyen:</p> <ul> <li>Dibujo de curvas</li> <li>Ecuaciones diferenciales</li> <li>Matem\u00e1ticas discretas</li> <li>Similitud de cadenas mediante la Distancia de Levenshtein</li> <li>\u00c1lgebra Lineal</li> <li>Demostraciones matem\u00e1ticas</li> <li>L\u00f3gica proposicional</li> <li>Unidades cient\u00edficas</li> <li>C\u00e1lculo vectorial</li> <li>Preguntas Multientrada sin clasificar</li> </ul>"},{"location":"Topics/Curve_sketching/","title":"Curve sketching","text":"<p>At its core, STACK is built to take algebraic input from students. This makes assessing skills regarding curve sketching difficult to implement. This page will take a look at how people have assessed curve sketching in STACK, including some promising projects and alternatives.</p>"},{"location":"Topics/Curve_sketching/#geogebra","title":"GeoGebra","text":"<p>GeoGebra is a flexible tool for creating a large number of interactive math applets. Applets like this one (by pirsquared) show that GeoGebra is capable of creating applets that assess at least some competencies of curve sketching (in this case, finding axis intersects).</p> <p></p> <p>GeoGebra has a strong user base and there is a large number of user-created resources that can be used in a course. These can then easily be embedded in a STACK question with an <code>&lt;iframe&gt;</code> environment. Please note that the GeoGebra's license does not match the STACK licence.</p>"},{"location":"Topics/Curve_sketching/#jsxgraph","title":"JSXGraph","text":"<p>STACK has native support for the mathematics visualisation system JSXGraph. Recently, there have been attempts to use JSXGraph to assess curve sketching in STACK. In particular, see the work done by Tobias Mai and Alexander Meyer in developing a JSXGraph applet that lets students sketch curves by a trace of points. The applet can determine how accurate the sketch is and provide specific feedback. Future developments include support for randomisation and interface improvements. More information, including contact information, can be found in their paper \"Sketching functions as a digital task with automated feedback\".</p> <p></p>"},{"location":"Topics/Curve_sketching/#alternatives-to-curve-sketching","title":"Alternatives to curve sketching","text":"<p>What are the competencies that teachers are looking for when they want to test curve sketching? The answer is not clear. When teaching students about polynomials, let's say you want to give a student a function and ensure they can identify x and y-intercepts, stationary points and the general shapes of its curve. There are ways to assess these competencies without using curve sketching, for example by a multiple choice question like the one below, from \"Fundamentals of Algebra and Calculus\". However, note the limitations of MCQ's as discussed in Philosophy of STACK.</p> <p></p>"},{"location":"Topics/Curve_sketching/#contributing","title":"Contributing","text":"<p>We are eager to find a solid way of assessing this competency in STACK. We would appreciate any contributions that help solve this problem. Please contact the developers.</p>"},{"location":"Topics/Differential_equations/","title":"Differential Equations","text":"<p>This page provides examples of how to represent and manipulate ordinary differential equations (ODEs) in Maxima when writing STACK questions.</p>"},{"location":"Topics/Differential_equations/#representing-odes","title":"Representing ODEs","text":"<p>In a Maxima session we can represent an ODE as</p> <pre><code>ODE: x^2*'diff(y,x) + 3*y*x = sin(x)/x;\n</code></pre> <p>Notice the use of the <code>'</code> character in front of the <code>diff</code> function to prevent evaluation. Applied to a function call, such as <code>diff</code>, the single quote prevents evaluation of the function call, although the arguments of the function are still evaluated (if evaluation is not otherwise prevented). The result is the noun form of the function call.</p>"},{"location":"Topics/Differential_equations/#entering-des","title":"Entering DEs","text":"<p>The syntax to enter a derivative in Maxima is <code>diff(y,x,n)</code>.  Teachers need to use an apostrophe<code>'</code> character in front of the <code>diff</code> function to prevent evaluation in question variables (etc). E.g. to type in  you need to use <code>'diff(y,x,2)</code>.</p> <p>Students' answers always have noun forms added. If a student types in <code>diff(y,x)</code> then this is protected by a special function <code>noundiff(y,x)</code> (etc), and ends up being sent to answer test as <code>'diff(y,x,1)</code>. If a student types in (literally) <code>diff(y,x)+1 = 0</code> this will end up being sent to answer test as <code>'diff(y,x,1)+1 = 0</code>.</p> <p>The answer test <code>AlgEquiv</code> evaluates all nouns.   This has a (perhaps) unexpected side-effect that <code>noundiff(y,x)</code> will be equivalent to <code>0</code>, and <code>noundiff(y(x),x)</code> is not.  For this reason we have an alternative answer test <code>AlgEquivNouns</code> which does not evaluate all the nouns. The <code>ATEqualComAss</code> also evaluates its arguments but does not \"simplify\" them.  So, counter-intuatively perhaps, we currently do have <code>ATEqualComAss(diff(x^2,x), 2*x);</code> as true.</p> <p>Students might expect to enter expressions like ,  or  (especially if you are using <code>derivabbrev:true</code>, see below).   The use by Maxima of the apostrophe which affects evaluation also has a side-effect that we can't accept <code>y'</code> as valid student input.  Input <code>y_x</code> is an atom.  Individual questions could interpet this as <code>'diff(y,x)</code> but there is no systematic mechanism for intepreting subscripts as derivatives.  Input <code>dy/dx</code> is the division of one atom <code>dy</code> by another <code>dx</code> and so will commute with other multiplication and division in the expression as normal.  There is no way to protect input <code>dy/dx</code> as .  The only input which is interpreted by STACK as a derivative is Maxima's <code>diff</code> function, and students must type this as input.</p> <p>The exprssion <code>diff(y(x),x)</code> is not the same as <code>diff(y,x)</code>.  In Maxima <code>diff(y(x),x)</code> is not evaluated further.  Getting students to type <code>diff(y(x),x)</code> and not <code>diff(y,x)</code> will be a challange.  Hence, if you want to condone the difference, it is probably best to evaluate the student's answer in the feedback variables as follows to ensure all occurances of <code>y</code> become <code>y(x)</code>.</p> <pre><code>ans1:'diff(y(x),x)+1 = 0;\nansyx:subst(y,y(x),ans1);\n</code></pre> <p>Trying to substitute <code>y(x)</code> for <code>y</code> will throw an error.  Don't use the following, as if the student has used <code>y(x)</code> then it will become <code>y(x)(x)</code>! </p> <pre><code>ans1:'diff(y,x)+1 = 0;\nansyx:ev(ans1,y=y(x));\n</code></pre> <p>Further work is needed to better support partial derivatives (input, display and evaluation).</p>"},{"location":"Topics/Differential_equations/#displaying-odes","title":"Displaying ODEs","text":"<p>Maxima has two notations to display ODEs.</p> <p>If <code>derivabbrev:false</code> then<code>'diff(y,x)</code> is displayed in STACK as .   Note this differs from Maxima's normal notation of .</p> <p>If <code>derivabbrev:true</code> then <code>'diff(y,x)</code> is displayed in STACK and Maxima as .  </p> <ul> <li>Extra brackets are sometimes produced around the differential.</li> <li>You must have <code>simp:true</code> otherwise the display routines will not work.</li> </ul>"},{"location":"Topics/Differential_equations/#manipulating-odes-in-maxima","title":"Manipulating ODEs in Maxima","text":"<p>This can be solved with Maxima's <code>ode2</code> command and initial conditions specified.  Below is an example of Maxima's output.</p> <pre><code>(%i1) ODE: x^2*'diff(y,x) + 3*y*x = sin(x)/x;\n                      2 dy           sin(x)\n(%o1)                x  -- + 3 x y = ------\n                        dx             x\n(%i2) ode2(ODE,y,x);\n                             %c - cos(x)\n(%o2)                    y = -----------\n                                  3\n                                 x\n(%i3) ic1(%o2,x=%pi,y=0);\n                              cos(x) + 1\n(%o3)                   y = - ----------\n                                   3\n                                  x\n</code></pre> <p>Further examples and documentation are given in the Maxima manual</p> <p>Note that by default STACK changes the value of Maxima's <code>logabs</code> variable.  This changes the way  is integrated.  If you want the default behaviour of Maxima you will need to restore <code>logabs:false</code> in the question variables.</p>"},{"location":"Topics/Differential_equations/#randomly-generating-ode-problems","title":"Randomly generating ODE problems","text":"<p>When randomly generating questions we could easily generate an ODE which cannot be solved in closed form, so that in particular using ode2 may be problematic. It is much better when setting any kind of STACK question to start with the method and work backwards to generate the question. This ensures the question remains valid over a whole range of parameters. It also provides many intermediate steps which are useful for a worked solution.</p>"},{"location":"Topics/Differential_equations/#characters-from-solve-and-ode2-solve_and_ode2","title":"% characters from solve and ode2 {#Solve_and_ode2}","text":"<p>Maxima functions such as <code>solve</code> and <code>ode2</code> add arbitrary constants, such as constants of integration.  In Maxima these are indicated adding constants which begin with percentage characters.  For example,</p> <pre><code>assume(x&gt;0);\neq1:x^2*'diff(y,x) + 3*y*x = sin(x)/x;\nsol:ode2(eq1,y,x);\n</code></pre> <p>results in</p> <pre><code>y = (%c-cos(x))/x^3;\n</code></pre> <p>Notice the <code>%c</code> in this example. We need a function to strip out the variables starting with <code>%</code>, especially as these are sometimes numbered and we want to use a definite letter, or sequence for the constants.</p> <p>The function <code>stack_strip_percent(ex,var)</code> replaces all variable names  starting with <code>%</code> with those in <code>var</code>. There are two ways to use this.</p> <ol> <li>if <code>var</code> is a list then take the variables in the list in order.</li> <li>if <code>var</code> is a variable name, then Maxima returns unevaluated list entries,</li> </ol> <p>For example</p> <pre><code>stack_strip_percent(y = (%c-cos(x))/x^3,k);\n</code></pre> <p>returns</p> <pre><code>y = (k[1]-cos(x))/x^3;\n</code></pre> <p>This is displayed in STACK using subscripts, which is natural. The unevaluated list method also does not need to know how many % signs appear in the expression. The other usage is to provide explicit names for each variable, but the list must be longer than the number of constants in <code>ex</code>, e.g.</p> <pre><code>stack_strip_percent(y = (%c-cos(x))/x^3,[c1,c2]);\n</code></pre> <p>which returns</p> <pre><code>y = (c1-cos(x))/x^3;\n</code></pre> <p>The following example question variables can be used within STACK.</p> <pre><code>assume(x&gt;0);\node : x^2*'diff(y,x) + 3*y*x = sin(x)/x;\nsol : stack_strip_percent(ode2(ode,y,x),[k]);\nta  : rhs(ev(sol,nouns));\n</code></pre> <p>Note, you may need to use the Option \"assume positive\" to get ODE to evaluate the integrals formally and hence \"solve correctly\".</p> <p>If you need to create a list of numbered variables use</p> <pre><code>vars0:stack_var_makelist(k, 5);\nvars1:rest(stack_var_makelist(k, 6));\n</code></pre>"},{"location":"Topics/Differential_equations/#assessing-answers","title":"Assessing answers","text":"<p>ODEs provide a good example of the principle that we should articulate the properties we are looking for in ordinary differential equations.  These properties are</p> <ol> <li>The answer satisfies the differential equation.</li> <li>The answer satisfies any initial/boundary conditions.</li> <li>The answer is general.</li> <li>The answer is in the required form.</li> </ol> <p>Hence, for ODE questions we need a potential response tree which establishes a number of separate properties. On the basis of the properties satisfied, we then need to generate outcomes.</p>"},{"location":"Topics/Differential_equations/#satisfying-the-differential-equation","title":"Satisfying the differential equation","text":"<p>When marking this kind of question, it is probably best to take the student's answer and substitute this into the ODE. The student's answer should satisfy the equation. Just \"looking like the model answer\" isn't as robust. How else does the teacher avoid the problem of knowing which letter the student used to represent an arbitrary constant?</p> <p>E.g. in Maxima code</p> <pre><code>ode:x^2*'diff(y,x) + 3*y*x = sin(x)/x;\nans: (c - cos(x))/x^3; /* The student's (correct) answer */\nsa1:subst(y=ans,ode);\nsa2:ev(sa1,nouns);\nsa3:fullratsimp(expand(sa2));\n</code></pre> <p><code>sa1</code>, <code>sa2</code> and <code>sa2</code> can be used as part of the feedback when a student doesn't get the right answer.</p>"},{"location":"Topics/Differential_equations/#satisfying-any-initialboundary-conditions","title":"Satisfying any initial/boundary conditions","text":"<p>If the student's answer is <code>ans</code> then we can check initial/boundary conditions at a point <code>x=x0</code> simply by using</p> <pre><code>ev(ans,x=x0);\nblock([ds],ds:diff(ans,x),ev(ds,x=x0));\n</code></pre> <p>Notice in the second example the need to calculate the derivative of the student's answer before it is evaluated at the point <code>x=x0</code>. These values can be compared with answer tests in the usual way.</p>"},{"location":"Topics/Differential_equations/#arbitrary-constants","title":"Arbitrary constants","text":"<p>Further tests are needed to ensure the student's solution is non-trivial, satisfies any initial conditions, or is suitably general.</p> <p>To find which constants are present in an expression use Maxima's <code>listofvars</code> command. In particular, to find if <code>c</code> appears in an expression <code>ans</code> we can use the predicate <code>member</code></p> <pre><code>member(c,listofvars(ans))\n</code></pre> <p>However, it is unusual to want to specify the name of a constant.  A student may choose another name.  The example below may be helpful here.</p> <p>Sometimes students use the  operator, e.g. instead of typing in  they type in  as <code>+-A*e^(lambda*t)</code>.  The  has a somewhat ambiguous status in mathematics, but it is likely that many people will want to condone its use here.</p> <p>Internally, the  operator is represented with an infix (or prefix) operation <code>#pm#</code>, which is part of STACK but not core Maxima.  Instead of <code>a+-b</code> teachers must type <code>a#pm#b</code>.  Students' answers get translated into this format. Mostly when dealing with expressions you need to remove the  operator.  To remove the  operator STACK provides the function <code>pm_replace(ex)</code> which performs the re-write rules    (actually using STACK's <code>nounor</code> operator to prevent evaluation).</p> <p>If you simply want to implement the re-write rule  i.e. ignore the  operator, then you can use <code>subst( \"+\",\"#pm#\", ex)</code>.  For example, this substitution can be done in the feebdack variables on a student's answer.  If you would like to test code offline with <code>#pm#</code> then you will need to make use of the Maxima sandbox.</p>"},{"location":"Topics/Differential_equations/#second-order-linear-differential-equations-with-constant-coefficients","title":"Second order linear differential equations with constant coefficients","text":"<p>One important class of ODEs are the second order linear differential equations with constant coefficients.</p> <p>Generating these kinds of problems is relatively simple: we just need to create a quadratic with the correct sort of roots.</p> <p>Let us assume we have two real roots.  We might expect an answer . We might have an unusual, but correct, answer such as  .  Hence, we can't just \"look at the answer\".</p> <p>A sample question of this type is provided by STACK, in which we have the following question variables.</p> <pre><code>sa1 : subst(y(t)=ans1,ode);\nsa2 : ev(sa1,nouns);\nsa3 : fullratsimp(expand(sa2));\nl   : delete(t,listofvars(ans1));\nlv  : length(l);\n\nb1  : ev(ans1,t=0,fullratsimp);\nb2  : ev(ans1,t=1,fullratsimp);\nm   : float(if b2#0 then fullratsimp(b1/b2) else 0);\n</code></pre> <ol> <li>Here <code>sa1</code>, <code>sa2</code> and <code>sa3</code> are used to ensure the answer satisfies the ODE and if not to provide feedback.</li> <li>To ensure we have two constants we count the number of variables using <code>listofvars</code>, not including <code>t</code>. We are looking for two constants.</li> <li>To ensure the solution is suitably general, we confirm  and calculate .     If this simplifies to a number then the constants have cancelled out and we don't have a general solution consisting of two linearly independent parts.</li> </ol> <p>These are the properties a correct answer should have.  If the teacher has a preference for the form, then a separate test is required to enforce it. For example, you might like the top operation to be a , i.e. sum.   This can be confirmed by</p> <pre><code>aop : is(equal(op(ans1),\"+\"));\n</code></pre> <p>Then test <code>aop</code> is <code>true</code> with another answer test.  Note that the arguments to answer tests cannot contain double quotes, so a question variable is needed here.</p> <p>Next, let us assume we have complex root, e.g. in the equation</p> <p> </p> <p>we have .</p> <p>We potentially have quite a variety of solutions.</p> <p> </p> <p> </p> <p> </p> <p>The advantage is that the same code correctly assesses all these forms of the answer.</p>"},{"location":"Topics/Differential_equations/#separating-the-general-from-particular-solution","title":"Separating the general from particular solution.","text":"<p>Consider the differential equation  with corresponding general solution</p> <pre><code>ode:'diff(y,t,2)+4*y-8*tan(t);\nans1:-2*sin(2*t)-4*t*cos(2*t)+4*log(cos(t))*sin(2*t)+c_1*cos(2*t)+c_2*sin(2*t);\n</code></pre> <p>The solution of such an equation consists of the sum .   The general solution is the term  and the particular solution is the part .  It is useful to separate these.  Run the above code, which should work.  Then we execute the following, which checks the general solution part is made up of two linearly independent parts.</p> <pre><code>/*\u00a0Calculate the \"Particular integral\", (by setting both constants to zero) and then separate out the \"general solution\".*/\nansPI:ev(ans1,maplist(lambda([ex],ex=0), l));\nansGS:ans1-ansPI;\ng1  : ev(ansGS,t=0,fullratsimp);\ng2  : ev(ansGS,t=1,fullratsimp);\nm   : float(if g2#0 then fullratsimp(g1/g2) else 0);\n</code></pre> <p>Notice to calculate  we set the constants , but using the variables in the list <code>l</code> which is defined above as the list of constants without .</p>"},{"location":"Topics/Differential_equations/#first-order-exact-differential-equations","title":"First order exact differential equations","text":"<p>An important class of differential equations are the so-called first order exact differential equations of the form</p> <p> </p> <p>Assume that  gives an implicit function, which satisfies this equation.  Then</p> <p> </p> <p>and so</p> <p> </p> <p>Differentiating once further (and assuming sufficient regularity of ) we have</p> <p> </p> <p>Note that this condition on  and  is necessary and sufficient for the ODE to be exact. In search of such a function  we may define</p> <p> </p> <p> </p> <p>Notice here that  and  are arbitrary functions of integration.  To evaluate these we differentiate again, for example taking the first of these we find</p> <p> </p> <p>where this last equality arises from the differential equation.  Rearranging this and solving we have</p> <p> </p> <p>Similarly we may solve for  If  then we have an exact differential equation, and  given the integral of our ODE.</p>"},{"location":"Topics/Differential_equations/#example-xdotyy40","title":"Example","text":"<p>As an example consider</p> <p> </p> <p>Then  and .</p> <p> </p> <p> </p> <p>And so</p> <p> </p> <p>Now,</p> <p> </p> <p> </p> <p>And so,</p> <p> </p> <p>In both cases we obtain the same answer for .</p>"},{"location":"Topics/Differential_equations/#maxima-code","title":"Maxima code","text":"<p>The following Maxima code implements this method, and provides further examples of how to manipulate ODEs.</p> <pre><code>/* Solving exact differential equations in Maxima */\n(kill(all),load(\"format\"))$\n\nODE:x*'diff(y,x)+y+4$\n\n/* Ensure we have an expression, not an equation */\nif op(ODE)=\"=\" then ODE:lhs(ODE)-rhs(ODE);\n\n/* This should write the ODE in the form\n   p*'diff(y,x)+q\n   which we can then sort out to get the coefficients*/\nODE:format(ODE,%poly('diff(y,x)))$\nODEc:coeffs(ODE,'diff(y,x));\nq:ODEc[2][1];\np:ODEc[3][1];\n\n/* Check our condition for an exact ODE */\nif fullratsimp(diff(p,x)-diff(q,y))=0 then print(\"EXACT\") else print(\"NOT EXACT\")$\n\n/* Next we need to solve\n   [diff(h,x)=q,diff(h,y)=p]\n   to find the integral of our ODE */\nh1:integrate(q,x);\nh2:integrate(p,y);\n\nH1:h1+integrate(p-diff(h1,y),y);\nH2:h2+integrate(q-diff(h2,x),x);\n/* Note, H1 and H2 should be the same! */\n\n/* Hence the solution is, in terms of y=...+c*/\nsolve(H1=c,y);\n</code></pre> <p>Further examples are     / Non-exact equations /     ODE:y=x*'diff(y,x);</p> <pre><code>/* Exact equations */\nODE:2*y*x*'diff(y,x)+y^2-2*x=0$\nODE:sin(x)*cosh(y)-'diff(y,x)*cos(x)*sinh(y)=0$\nODE:(3*x^2*cos(3*y)+2*y)*'diff(y,x)=-2*x*sin(3*y)$\nODE:x*'diff(y,x)+y+4$\n</code></pre>"},{"location":"Topics/Differential_equations/#see-also","title":"See also","text":"<p>Maxima reference topics</p>"},{"location":"Topics/Discrete_mathematics/","title":"Discrete mathematics and graph theory.","text":"<p>A graph in discrete mathematics is a set of edges and vertices.  Maxima has a \"graphs\" package, which we do not currently support (see github issue #572 for a discussion of why).</p>"},{"location":"Topics/Discrete_mathematics/#generating-points-for-a-graph","title":"Generating points for a graph","text":"<p>The following question variables produce the complete graph on <code>m</code> vertices.</p> <pre><code>/* Choose the number of points. */\nm:7;\n/* Distribute the points around a circle. */\npts:makelist([decimalplaces(float(cos(2*%pi*k/m)),4),decimalplaces(float(sin(2*%pi*k/m)),4)],k,0,m-1);\n\n/* Create the complete graph of m elements. */\nevery_pair(ex):=block(\n    if length(ex)&lt;2 then return([]),\n    if length(ex)=2 then return([ex]),\n    append(maplist(lambda([ex2],[first(ex),ex2]),rest(ex)), every_pair(rest(ex)))\n);\nedges:every_pair(makelist(k,k,0,m-1));\n</code></pre>"},{"location":"Topics/Discrete_mathematics/#displaying-graphs-with-plot","title":"Displaying graphs with <code>plot()</code>","text":"<p>It is possible to plot simple discrete graphs directly using STACK's plot command by building a combination of discrete and line plots.  If you want to do this, we strongly recommend you work offline first in Maxima using <code>plot2d</code> to ensure your Maxima code works.</p> <p>In general it is better to (1) separate connections of points from the coordinates of points, and (2) deal with lists of coordinates.  That way we can pass a connection, or the coordinates of a point into a function more easily.  Create a list of coordinates, where each coordinate is a point [x,y].</p> <pre><code>nk:5;\n/* Position nk coordinates evenly round the unit circle. */\npc1:float(makelist([cos(%pi/(2*nk)+2*k*%pi/nk), sin(%pi/(2*nk)+2*k*%pi/nk)], k, 0, nk));\n/* Extract individual coordinates. */\nx1:maplist(first, pc1); \ny1:maplist(second, pc1); \np1:[discrete,x1,y1];\n</code></pre> <p>Plot must have floating point numbers to deal with.</p> <p>Now use the CASText:</p> <pre><code>{@plot([p1,p1],[x,-1,1],[y,-1,1],[style,points,lines],[box,false],[axes,false])@}\n</code></pre> <p>Notice we plot a list, containing <code>p1</code> twice, once with style <code>points</code> and once with <code>lines</code>.</p> <p>The following takes a list of edge connections, <code>[a,b]</code>, and a list of co-ordinate points of the form <code>[x,y]</code> and produces the discrete plots of the edge connections.  Note the two stage process.</p> <ol> <li>Turn the list of edge connections (<code>edgel</code>) into lists of points to connect. (The inner <code>maplist</code>)</li> <li>Turn two points to connect into a discrete plot of the form <code>[discrete [x1, x2], [y1, y2]]</code>.</li> </ol> <p>The following code could be combined, but two separate <code>maplist</code> applications separate out the processes with more clarity.</p> <pre><code>pedges(edgel, pts):= maplist(lambda([ex], [discrete, maplist(first, ex), maplist(second, ex)]), maplist(lambda([ex], [pts[first(ex)], pts[second(ex)]]), edgel));\n</code></pre> <p>As an example we will create a simple (disconnected) graph as follows.</p> <pre><code>g1:[[2,3], [3,4], [4,2], [1,5]];\n/* Plot this graph, using points in positions pc1. */\np2:pedges(g1, pc1);\n\n/* Set colours. */\npcols2:makelist(red, k, 1, length(p2));\n\n/* Set Style */\npstyle2:makelist(lines, k, 1, length(p2));\n\n/* Add in points, as before. */\np2:append([p1], p2);\npstyle2:append([points], pstyle2);\npcols2:append([blue], pcols2);\n\n/* Create a single plot. */\npcols2:append([color], pcols2);\npstyle2:append([style], pstyle2);\n</code></pre> <p>And add in the castext</p> <pre><code>{@plot(p2,[x,-1,1],[y,-1,1], pstyle2, pcols2, [box,false], [axes,false])@}\n</code></pre> <p>To create a complete graph, we need code to create every pair of edges [a,b], as follows.</p> <pre><code>/* Return a list of edge pairs n1 to a list of points. */\npedgesto(n1, nl) := maplist(lambda([ex], [n1, ex]), nl);\n/* Return every pair of points in nl. */\npalledges(nl) := if is(length(nl)=1) then [] else append(pedgesto(first(nl), rest(nl)), palledges(rest(nl)));\n\n/* The complete graph on nk edges. */\nknk:palledges(makelist(k,k,1,nk));\n\n/* Plot this graph, using points in positions pc1. */\np3:pedges(knk, pc1);\n\n/* Set colours. */\npcols3:makelist(red, k, 1, length(p3));\n\n/* Set Style */\npstyle3:makelist(lines, k, 1, length(p3));\n\n/* Add in points, as before. */\np3:append([p1], p3);\npstyle3:append([points], pstyle3);\npcols3:append([blue], pcols3);\n\n/* Create a single plot. */\npcols3:append([color], pcols3);\npstyle3:append([style], pstyle3);\n</code></pre> <p>And add in the castext</p> <pre><code>{@plot(p3,[x,-1,1],[y,-1,1], pstyle3, pcols3, [box,false], [axes,false])@}\n</code></pre> <p>In the above code I have tried to separate out all the issues into individual steps.  Clearly there is significant scope here for utility/convenience functions.</p>"},{"location":"Topics/Discrete_mathematics/#displaying-graphs-with-jsxgraph","title":"Displaying graphs with JSXGraph","text":"<p>JSXGraph can be used to display discrete graphs.</p> <p>In the question variables define your points and edges.</p> <pre><code>/* A list of points, which are lists of coordinates.*/\npts:[[1.0,0.0],[0.623,0.782],[-0.223,0.975],[-0.901,0.434],[-0.901,-0.434],[-0.223,-0.975],[0.623,-0.782]];\n\n/* A list of edge connections. */\nedges:[[0,1],[0,2],[0,3],[4,5],[4,6],[4,0]];\n</code></pre> <p>Then, you can use this JSXGraph block to create your vertices and edges.  Note, this code uses <code>board.create('arrow', [...])</code>, but you could as well use <code>segment</code> not <code>arrow</code> for an un-directed graph.</p> <pre><code>[[jsxgraph]]\n    /* boundingbox:[left, top, right, bottom] */\n    var board = JXG.JSXGraph.initBoard(divid, {boundingbox: [-1.2, 1.2, 1.2, -1.2], axis: false, showCopyright: false});\n\n    /* Notice the syntax STACK uses for putting the _value_ of a variable into the text before display. */\n    var pts = {#pts#};\n    var boardpts = new Array();\n    var arrayLength = pts.length;\n    for (var i = 0; i &lt; arrayLength; i++) {\n        boardpts.push(board.create('point', pts[i]));\n    }\n\n    var edges = {#edges#};\n    var boardedges = new Array();\n    var arrayLength = edges.length;\n    for (var i = 0; i &lt; arrayLength; i++) {\n        boardedges.push(board.create('arrow', [boardpts[edges[i][0]], boardpts[edges[i][1]]]));\n    }\n[[/jsxgraph]]\n</code></pre>"},{"location":"Topics/Levenshtein_distance/","title":"Damerau-Levenshtein distance and strings","text":"<p>The Damerau-Levenshtein (Levenshtein for short) distance is a metric, or edit distance, for measuring the difference between two strings. Informally, the Levenshtein distance is the minimum number of single-character edits (insertions, deletions, transition or substitutions) required to change one string into the other. It is named after Vladimir Levenshtein.  Support for Levenshtein distance was added to STACK in 2022 by Achim Eichhorn and Andreas Helfrich-Schkarbanenko.</p> <p>The use of this distance automatically includes an element of spell checking, which is one of its significant advantages.  Indeed, the Levenshtein distance is widely used for spell checking and auto-complete. (See, e.g., F. J. Damerau, A technique for computer detection and correction of spelling errors, Communications of the ACM (7)3, March 1964 pp 171\u2013176. https://doi.org/10.1145/363958.363994)</p>"},{"location":"Topics/Levenshtein_distance/#basic-usage-example","title":"Basic usage example","text":"<p>In STACK <code>levenshtein(s, t)</code> takes strings <code>s</code>, <code>t</code> to compare and returns an integer, the Levensthein distance between <code>s</code> and <code>t</code>.  This is basically the number of single-character edits.  For example <code>levenshtein(\"Add\", \"And\")</code> gives 1, since one letter needs to be changed. <code>levenshtein(\"Add\", \"and\")</code> gives 2, since two leters need to be changed.  Adding or removing letters are each a single edit, so that <code>levenshtein(\"Subtract\", \"Subtraction\");</code> gives 3.</p> <p>Rather than using this \"distance\" a tolerance is defined by the normalised \"Levenshtein similarity\" between 0 (totally different) and 1 (identical).  The Maxima code for this function is simple enough to list here explicitly. </p> <pre><code> levenshtein_plv(s, t) := 1.0-levenshtein(s, t)/max(slength(s), slength(t));\n</code></pre> <p>For example \"Add\" and \"Addition\" have a distance of 5, and the longest string is 8, so <code>levenshtein_plv(\"Add\", \"Addition\")</code> gives similarity of 0.375.</p> <p>These functions are part of STACK, not core Maxima, and so to use them you will need to make use of the Maxima sandbox.</p> <p>In a practical situation a teacher will likely have to specify a range of acceptable strings to ensure the student is sufficiently similar to something acceptable.</p>"},{"location":"Topics/Levenshtein_distance/#answer-test","title":"Answer test","text":"<p>STACK provides an answer test based on the Levenshtein distance/similarity.  This test seeks to match the student's answer (a string) with two lists of strings and a numerical tolerance option. The first list (<code>allow</code>) is the list of acceptable strings.  The second list (<code>deny</code>) is the list of unacceptable strings.  By default, the test is case insensitive.</p> <p>When you test the student's answer the test finds the most similar string in <code>allow</code> and the most similar string in <code>deny</code> and the corresponding values of the normalised Levenshtein similarity.  The test seeks to ensure that</p> <ol> <li>the most similar string is within the <code>allow</code> list, and then that</li> <li>the similarity of the student's string to the most similar allow string is better than the specified tolerance.</li> </ol> <p>Notes on using the answer test in STACK.</p> <ol> <li>The first argument to the test (the \"student's answer\") must be a string.</li> <li>The second argument to the test (the \"teacher's answer\") must be a list in the form <code>[allow, deny]</code> where both <code>allow</code> and <code>deny</code> are themselves lists of strings.  The <code>allow</code> list must be non-empty, but the <code>deny</code> list could be empty.</li> <li>The option must be used.  Either give the numerical tolerance as a number, or a list of options.  The numerical tolerance must be the first element of the options list.</li> <li>By default the test is case-insensitive.  If you include the atom <code>CASE</code> in the list of options then the matching is case sensitive, potentially increasing the Levenshtein distance between strings.  E.g. use answer test option <code>[0.9, CASE]</code> for a case-senstive test with a tolerance of 0.9.</li> <li>By default this test consolidates whitespace, e.g. replaces tab and newline characters with a single space, trims whitespace from each end and separates with at most one space character.  If you include the atom <code>WHITESPACE</code> in the list of options then whitesapace is not consolidated.</li> </ol> <p>The current answer test provides feedback indicating which of the allow strings was most similar.  The test does not provide feedback indicating which of the deny strings was most similar, but if you can find a use-case which needs deny based feedback please contact the developers and we will add an option.</p> <p>The answernote records the most similar allow string, the most similar deny string and the corresoding tolerance values.  It is likley that a teacher will need to examine students' answers in the fist use cycle and fine tune the <code>allow</code>, <code>deny</code> and tolerance values (perhaps with a regrade) to reach an acceptable level of test reliability: the use of the tolerance means this test is not as objective as some other STACK assessments.</p> <p>It is likely this test will benefit from a wide range of text pre-processing options prior to the test being executed, e.g. using functions from Maxima's stringproc library.  For example</p> <ul> <li>remove (ignore) accents and diacritical marks</li> </ul> <p>At this point we do not propose to add these as options to the test itself as the pre-processing can be done in the feedback variables as required.  However, pre-processing does affect the feedback given by the test and so test options might be very useful.  If you create such processing functions and have compelling use-cases we would appreciate an opportinity to document, and support them as core functionality: please contact the developers.</p>"},{"location":"Topics/Levenshtein_distance/#advice-on-processing-strings-in-this-context","title":"Advice on processing strings in this context.","text":"<ol> <li>To trim whitespace and full stops from each end of a string, you can define <code>sans1:strim(\" .\",ans1);</code> in the feedback variables.</li> <li>STACK provides a function <code>sremove_chars(rem, st)</code> which removes all occurances of each character in the string <code>rem</code> from the string <code>st</code>.  For example to remove all selected punctuation characters use <code>sremove_chars(\".,!?\", ans1)</code>.</li> <li>STACK provides a function <code>ssquish</code> which changes tabs and newlines to spaces; trips whitespace at the ends; and replaces multiple whitespaces with a single whitespace.</li> </ol>"},{"location":"Topics/Levenshtein_distance/#writing-a-stack-question","title":"Writing a STACK question","text":"<p>Here is a very simple question using the Damerau-Levenshtein distance.  Define the question variables as follows.</p> <pre><code>allow1:[\"Completing the square\", \"Complete the square\"];\ndeny1:[\"Factoring\", \"Factorising\", \"Expanding\", \"Square\"];\np1:(x-1)^2-3;\np0:expand(p1);\nta:first(allow1);\n</code></pre> <p>Define the question text as</p> <pre><code>&lt;p&gt;What is the following transformation called? \\[ {@p0@} \\quad{\\color{blue}\\rightarrow}\\quad {@p1@}\\]&lt;/p&gt;\n&lt;p&gt;[[input:ans1]] [[validation:ans1]]&lt;/p&gt;\n</code></pre> <p>Then:</p> <ol> <li>The input <code>ans1</code> should be a string input, with <code>ta</code> as the teacher's answer.</li> <li>Decide if the students should validate and whether you want validation feedback (probably not).</li> <li>The PRT uses a single node and single answer test: <code>Levenshtein(ans1, [allow1,deny1], 0.8)</code> here 0.8 is the (somewhat arbitrary) similarity.</li> <li>Add in question tests, but remember the test cases should be entered as strings, e.g. <code>\"complete square\"</code>.</li> </ol> <p>With this set of allow strings we have <code>ans1:\"complete square\"</code> gives the following answer note from the potential response tree</p> <pre><code>ATLevenshtein_far: [[0.78947,\"Complete the square\"],[0.4,\"Square\"]].\n</code></pre> <p>The note <code>ATLevenshtein_far</code> means the closest string was in the allow list, but it was too far away.  The rest of the note means that the closest string found in <code>allow1</code> was \"Complete the square\" with similarity 0.78947. The closest string found in <code>deny1</code> was \"Square\" with similarity 0.4.  If you want to accept \"complete square\" as a correct answer you have two choices: (i) add it to <code>allow1</code>, or (ii) reduce the required similarity below 0.789.</p>"},{"location":"Topics/Levenshtein_distance/#stack-functions","title":"STACK functions","text":"<p>You can test in other ways using the feedback variables and the following functions.</p> <p><code>levenshtein(s, t)</code> takes strings <code>s</code>, <code>t</code> to compare and returns an integer, the Levensthein distance between <code>s</code> and <code>t</code>.  This is basically the number of single-character edits.</p> <p><code>levenshtein_plv(s, t)</code> weights the levenshtein most similar between 0 (totally different) and 1 (identical).  In Maxima code this function is defined as</p> <pre><code> levenshtein_plv(s, t) := 1.0-levenshtein(s, t)/max(slength(s), slength(t));\n</code></pre> <p><code>levenshtein_compare_strings(needle, haystack)</code> looks for the string <code>needle</code> in the list of stings <code>haystack</code>.  It returns <code>[maxscore, index_haystack_found]</code> where <code>maxscore</code> is the value of the closest match and <code>index_haystack_found</code> is the index to the string found.  The <code>maxscore</code> is rounded to five decimal places to help with comparison of floats later.</p>"},{"location":"Topics/Linear_algebra/","title":"Setting linear algebra questions in STACK","text":"<p>Linear algebra, next to calculus, is one of the pillars of modern mathematics and an important application in STACK is testing linear algebra questions.</p> <p>Often there will be many equivalent answers, especially when asking for students to find the basis for a subspace, etc.</p> <p>This document provides some tips and hints for writing STACK questions.</p> <p>Please see also the file on matrix manipulations.</p>"},{"location":"Topics/Linear_algebra/#random-questions","title":"Random questions","text":"<p>The paper Setting linear algebra problems by John Steele (2003) is very useful.</p>"},{"location":"Topics/Linear_algebra/#lines-and-planes","title":"Lines and planes","text":"<p>Problem: the student has been asked to represent a subspace in parametric form; we want to decide if these spaces are equivalent.</p>"},{"location":"Topics/Linear_algebra/#converting-from-parametric-form-to-vector-form","title":"Converting from parametric form to vector form","text":"<p>Let us start with an answer such as</p> <pre><code>ta:transpose(matrix([s+2*t,3+t,w]));\nta:expand(ta);\nlv:listofvars(ta);\n\n/* Sanity check: make sure the student's answer is linear in its parameters. */\ndeg:apply(max, maplist(lambda([ex], hipow(ta, ex)), lv));\n</code></pre> <p>The first thing is to note Maxima's </p> <pre><code>cm:coefmatrix(flatten(args(ta)), lv);\nam:augcoefmatrix(flatten(args(ta)), lv);\n</code></pre> <p>We will turn this into vector form explicitly as follows.</p> <pre><code>/* Remove any constant vectors (setting all parameters to zero). */\n cv:ev(ta, maplist(lambda([ex], ex=0), lv), simp);\n\n/* Calculate the direction vectors. */\ndvs:maplist(lambda([ex], col(cm,ex)), makelist(k,k,1,length(lv)));\n\n/* Create vector form. */\nsimp:false;\nvf:apply(\"+\", zip_with(\"*\", lv, dvs))+cv;\n</code></pre> <p>Note, this last line assumes <code>simp:false</code> (otherwise we simplify back to the original <code>ta</code>!), and uses STACK's <code>zip_with</code> function which is not a core part of Maxima.</p> <p>Now we have the direction vectors we can answer a number of questions.</p> <p>Turn the direction vectors into a single matrix.</p> <pre><code>simp:true;\ncm:transpose(apply(matrix, maplist(lambda([ex], first(transpose(ex))), dvs)));\n/* Takes us back to ta.... */\ncm.transpose(matrix(lv))+cv;\n</code></pre> <p>Does <code>ta</code> pass through the origin?  This amounts to solving </p> <pre><code>solve(flatten(args(ta)), lv);\n</code></pre> <p>But, solve can throw errors when we have dependent equations (as we might well do...).</p>"},{"location":"Topics/Linear_algebra/#solving-systems-of-linear-equations","title":"Solving systems of linear equations","text":"<p>Using solve can throw errors, so use <code>linsolve</code> instead.  For example.</p> <pre><code>/* Decide if a vector is in W */\npoint_in_space(W, wx):= linsolve(flatten(args(W))-first(args(transpose(wx))), listofvars(W));\n</code></pre> <p>If the above is the empty list, there is no solution.  Otherwise a solution is returned.</p> <pre><code>/* Calculate the canonical form of a column space of a system. */\ncspace(ex):= block([M],\n  M: coefmatrix(flatten(args(ex)), listofvars(ex)),\n  ev(transpose(rref(transpose(M))), simp)\n);\n</code></pre>"},{"location":"Topics/Proof/","title":"Assessment of proof","text":"<p>In STACK the basic assumption is that a student's answer will be a mathematical expression, e.g. a polynomial or an equation.  The facilities for assessing a student's free-form proof is limited.</p> <p>A discussion of Practical Online Assessment of Mathematical Proof was given by Sangwin, C.J. and Bickerton, R. (2023), International Journal of Mathematical Education in Science and Technology, 53(10) doi:10.1080/0020739X.2021.1896813.   This included more structured questions making use of</p> <ul> <li>faded worked examples and,</li> <li>reading comprehension questions. </li> </ul> <p>Colleagues assessing proof might also consider semi-automatic marking.</p>"},{"location":"Topics/Proof/#styles","title":"Styles","text":"<p>From STACK 4.3 we support the following CSS styles to enable consistent display of mathematical proof, and arguments in general.  General style was also introduced with the HELM materials.</p>"},{"location":"Topics/Proof/#div-classproof","title":"<code>&lt;div class=\"proof\"&gt;</code>","text":"<p>This class is a general high level container.</p>  This is typical question style, from the Moodle theme, containing the following proof.  <p>Let P(n) be the statement [...] </p> <p>From which we see that.</p>  Back to the typical Moodle style.  <p>Note, the proof container is minimal, and subtle and does not intrude too much but contains a proof as a distinct entity.</p>"},{"location":"Topics/Proof/#div-classproof-block","title":"<code>&lt;div class=\"proof-block\"&gt;</code>","text":"<p>This class allows the teacher to highlight sub-components of a proof.  It is intended to be a nested sub-proof block of a main proof.</p>  This is typical question style, from the Moodle theme, containing the following proof.  This proof has two cases.  <p>If n is odd then we have</p> <p>[...]</p> <p>and so ...</p> <p>If n is even then we have</p> <p>a. even more subcases.</p> <p>b. even more subcases.</p> <p>and so ...</p> <p>From which we see that in all cases the proof holds.</p>  Back to the typical Moodle style."},{"location":"Topics/Proof/#div-classproof-line-div-classproof-num-div-classproof-step-div-classproof-comment","title":"<code>&lt;div class=\"proof-line\"&gt;</code>, <code>&lt;div class=\"proof-num\"&gt;</code>, <code>&lt;div class=\"proof-step\"&gt;</code>, <code>&lt;div class=\"proof-comment\"&gt;</code>","text":"<p>Greater typeset structure can be gained by marking up the proof in more detail, if so desired.</p> <p>A typical proof consists of individual lines. Each line is numbered, so we can refer to them later.  The main \"meat\" of the line is the \"proof step\" and there is an optional comment.  The proof comment is designed for a comment, to allow an input to ask a question or to act as the second column in a two column proof.</p>  Consider the following proof by induction. \\(P(n)\\)  1. Let P(n) be the statement The first block of an induction proof must be a clear statement of the \"induction hypothesis\". 2. .... some maths .... Notice, in this case, we have a purely algebraic induction hypothesis. 3. Since This block is known as the \"base case\". 4. Something profound and something else 5. it follows that P(1) is true. 6. Assume that P(n) is true. This block is known as the \"induction step\". 7. .... lots of complex working .... We just consider the sum which occurs in P(n+1) and start to rearrange this. 8. More working We are assuming P(n) is true, and here we use this fact. 9. More working. 10. Which gives us what we want Notice we have rearranged the algebra to give us the right hand side of P(n+1). 11. Hence P(n+1) is true. This block is the conclusion of the proof. 12. Since P(1) and P(n) implies P(n+1) it follows that P(n) is true for all n by the principal of mathematical induction."},{"location":"Topics/Proof/#div-classproof-column-div-classproof-column-2","title":"<code>&lt;div class=\"proof-column\"&gt;</code>, <code>&lt;div class=\"proof-column-2\"&gt;</code>","text":"<p>Alternatively, you can use columns, which are fixed at a width of 48%.  The design assumes two columns and line numbers.</p> <p>Additionally, <code>proof-column-2</code> has a different visual style for emphasis.</p>  Here is a proof of the great and wonderful theorem.     The proof has two cases.    1. The proof itself is in the first column. The second column can contain comments, here in <code>proof-column-2</code> style.  2. The proof continues. With further comments. 3. The second case of the proof. The second column can contain comments, here in <code>proof-column</code> style.  4. The proof continues. With further comments. 5. The proof continues. With further comments. 6. The proof continues, without comment."},{"location":"Topics/Proof/#div-classproof-column","title":"<code>&lt;div class=\"proof-column\"&gt;</code>","text":"Lines don't need to have <code>proof-num</code> or <code>proof-block</code> With further comments. The proof continues. With further comments. This concludes the proof. <p>It is possible to use <code>proof-column-2</code> style in the first column, but this looks odd and is not recommended.  The <code>proof-column-2</code> style is intended for only the second column.  The <code>proof-column</code> style is intended to be used in both columns.</p> <p>Here is a proof by induction.</p>  Consider the following proof by induction. \\(P(n)\\)  1. Let P(n) be the statement The first block of an induction proof must be a clear statement of the \"induction hypothesis\". 2. .... some maths .... Notice, in this case, we have a purely algebraic induction hypothesis. 3. Since This block is known as the \"base case\". 4. Something profound and something else 5. it follows that P(1) is true. 6. Assume that P(n) is true. This block is known as the \"induction step\". 7. .... lots of complex working .... We just consider the sum which occurs in P(n+1) and start to rearrange this. 8. More working We are assuming P(n) is true, and here we use this fact. 9. More working. 10. Which gives us what we want Notice we have rearranged the algebra to give us the right hand side of P(n+1). 11. Hence P(n+1) is true. This block is the conclusion of the proof. 12. Since P(1) and P(n) implies P(n+1) it follows that P(n) is true for all n by the principal of mathematical induction."},{"location":"Topics/Proof/#ol-classproof-steps","title":"<code>&lt;ol class=\"proof-steps\"&gt;</code>","text":"<p>This class enables ordered lists to have connected numbered statements.</p> <ol> <li>Let A be an n by n matrix and let R be the reduced row echelon form of A.</li> <li>We will show first that det(A) is not zero if and only if det(R) is not zero.</li> <li>Let <ol> <li>E1,</li> <li>E2,</li> </ol> ... Er be the elementary matrices corresponding to the elementary row operations that reduce A to R.</li> <li>Then Er ... E1 A = [[input:ans1]]]</li> <li>Taking determinants of both sides, we obtain: det(Er) ... det(E_1) det(A) = det(R).</li> <li>The determinants of all the elementary matrices are all [[input:ansdropdown]]]</li> <li>We conclude that det(A) is not zero if and only if det(R) is not zero.</li> <li>Now suppose that A is invertible.  <ol> <li>Then R =  [[input:ans4]]</li> <li>Thus, det(R) = [[input:ans3]] and hence det(A) is not zero.</li> </ol></li> <li>Conversely, if det(A) is not zero then det(R) is not zero, so R cannot have a zero row.</li> <li>Thus R = I and A is invertible as required. </li> </ol>"},{"location":"Topics/Propositional_Logic/","title":"Propositional Logic","text":"<p>STACK loads the \"logic\" package from Maxima.</p>"},{"location":"Topics/Propositional_Logic/#boolean-functions","title":"Boolean functions","text":"<p>Maxima has Boolean operators <code>and</code>, <code>or</code>, and <code>not</code>.  These rely on the underlying LISP implementation and as a result the <code>simp:false</code> is ignored. To illustrate the problem, try the following.</p> <pre><code>simp:false$\ntrue and true;\nx=1 or x=2;\n</code></pre> <p>The results respectively (of the second two) are</p> <pre><code>true;\nfalse;\n</code></pre> <p>Note, there is no mechanism in Maxima to represent a list of assignments such as <code>x=1 or x=2</code>, which would be a natural way to express the solution to a quadratic equation.</p> <p>To solve this problem STACK has introduced <code>nounand</code> and <code>nounor</code> which are commutative and associative operators.</p> <p>Students do not need to use <code>nounand</code> and <code>nounor</code> in answers. Any <code>and</code> and <code>or</code> operators occurring in their answers are always automatically converted into these noun forms.</p> <p>Teachers always need to use <code>nounand</code> and <code>nounor</code> in CAS expressions when they want to write non-simplifying expressions. For example, when defining the \"teacher's answer\" they should use the noun forms as appropriate. Teachers often need to use Boolean logic, and so need to consciously separate the difference between these operators and concepts.</p> <p>Note, the answer tests do not convert noun forms to the Maxima forms. Otherwise both <code>x=1 or x=2</code> and <code>x=1 or x=3</code> would be evaluated to <code>false</code> and a teacher could not tell that they are different! To replace all <code>nounand</code> (etc) operators and replace them with the Maxima equivalent, use <code>noun_logic_remove(ex)</code>.</p>"},{"location":"Topics/Propositional_Logic/#operators-and-notes","title":"Operators and notes","text":"<ol> <li><code>and</code> This is a lisp function.  Teachers should use <code>nounand</code> to prevent evaluation of <code>x=1 and x=0</code> to <code>false</code> even without simplification.  Students type <code>and</code> and this is always converted internally to <code>nounand</code>.</li> <li><code>or</code> This is a lisp function.  Teachers should use <code>nounor</code> to prevent evaluation of <code>x=1 or x=0</code> to <code>false</code> even without simplification.  Students type <code>or</code> and this is always converted internally to <code>nounor</code>.</li> <li><code>not</code> This is a lisp function.  Teachers should use <code>nounnot</code> to prevent evaluation.  Students type <code>not</code> and this is always converted internally to <code>nounnot</code>.</li> <li><code>nand</code> is provided by the logic package, which respects the value of <code>simp</code>.</li> <li><code>nor</code> is provided by the logic package, which respects the value of <code>simp</code>.</li> <li><code>xor</code> is provided by the logic package, which respects the value of <code>simp</code>.</li> <li><code>eq</code> is provided by the logic package, but this input syntax is not supported in STACK.  Instead we provide an <code>xnor</code> function.</li> <li><code>implies</code> is provided by the logic package, which respects the value of <code>simp</code>.</li> </ol> <p>Notes</p> <ul> <li>There is no support for symbolic logic symbol input currently and students cannot type <code>&amp;</code>, <code>*</code> for <code>and</code>, and similarly students cannot type <code>+</code> for <code>or</code>.</li> <li>There is no existential operator (not that this is propositional logic, but for the record) or an interpretation of '?' as there exits, and there is no universal operator (which some people type in as <code>!</code>).</li> <li>To change between language or symbols for logic, use the Logic symbols option. The default behaviour is to use language.</li> </ul> <p>The function <code>verb_logic(ex)</code> will remove the noun forms such as <code>nounand</code> and substitute in the lisp versions which will enable evaluation of expressions.  The function <code>noun_logic(ex)</code> will replace any remaining lisp but beware that any evaluation (even with <code>simp:false</code>) will evaluate lisp logical expressions.  It is best to use noun forms at the outset, e.g. in the question variables, and only use the lisp forms when calculating, e.g. to evaluate in the PRT.</p>"},{"location":"Topics/Propositional_Logic/#answer-tests","title":"Answer tests","text":"<p>The answer tests protect the logical operators.  This behaviour is to prevent evaluation of expressions such as <code>x=1</code> as a boolean predicate fuction.  I.e. the default behaviour is to give priority to the assumption an arbitary expression is an algebraic expression, or a set of equations, inequalities etc.</p> <p>The answer test <code>PropLogic</code> replaces all noun logical expressions with the Maxima versions, and then tests two expressions using the function <code>logic_equiv</code> from Maxima's logic package.  This answer test does not support sets, lists, etc.</p> <p>The value of the student's answer will always have <code>nounand</code> etc. inserted.  Before you manipulate the student's answer, e.g. with the logic package functions, you will need to apply <code>noun_logic_remove(ex)</code>.</p>"},{"location":"Topics/Propositional_Logic/#truth-tables","title":"Truth tables","text":"<p>STACK provides various functions for creating and dealing with tables.</p> <p><code>truth_table(ex)</code> returns the true table of the expression <code>ex</code>.  The function will throw an error if the number of variables exceeds 5.  The first row of the table is the headings, consisting of a list of variables, and the expression itself.  See the documentation on tables for more functionality.</p>"},{"location":"Topics/Units/","title":"Scientific Units","text":"<p>It is quite common in science subjects to need to accept an answer which has units, for example using .</p> <p>Currently STACK only support SI units.   See International Bureau of Weights and Measures (2006), (The International System of Units (SI)) PDF (8th ed.), ISBN 92-822-2213-6.</p>"},{"location":"Topics/Units/#maxima-packages-for-the-support-of-scientific-units","title":"Maxima packages for the support of scientific units","text":"<p>In Maxima there are a number of separate packages which enable a user to manipulate physical units.</p> <ol> <li><code>load(unit);</code> the code is in <code>...\\share\\contrib\\unit\\unit.mac</code></li> <li><code>load(units);</code> the code is in <code>...\\share\\physics\\units.mac</code></li> <li><code>load(ezunits);</code> the code is in <code>...\\share\\ezunits\\ezunits.mac</code></li> </ol> <p>WE DO NOT USE THESE PACKAGES as they are too slow to load and have a variety of side effects.  Instead we have a lightweight package of our own.</p> <p>By default in Maxima, letters such as <code>k</code> are unbound variables.  If you would like to give these prefix values  so that <code>km</code> literally means <code>10^3*m</code> then you will need to add the following to the question variables field.</p> <pre><code>stack_unit_si_declare(true);\n</code></pre> <p>The units input and units answer test automatically execute this command.  More details are given below.</p> <p>Internally numbers can be separated from units using the following inert Maxima function.</p> <pre><code>stackunits(num, units)\n</code></pre> <p>where <code>num</code> is the part interpreted to be the numerical portion, and <code>units</code> is the portion considered to be the units.  For example, in the expression <code>10*m/s</code> the internal value from this input will be <code>stackunits(10,m/s)</code>.  Essentially the function <code>stackunits</code> is inert, but does subtly modify the display.  However, having STACK split the student's answer this way is more reliable than teachers trying to find the \"numerical part\" themselves on a question by question basis.  It essentially creates a single object representing a dimensional numerical quantity.  If you are using the units answer tests then you need not worry about these internals.</p>"},{"location":"Topics/Units/#examples","title":"Examples","text":""},{"location":"Topics/Units/#example-1","title":"Example 1","text":"<p>Let us assume that the correct answer is <code>12.1*m/s^2</code>.</p> <ol> <li>Students type this value into STACK exactly as it is above. Note the multiplication sign between    the number and units. There are options to condone a missing star, or to accept a space.</li> <li>In entry, the numerical part is bound to the units part with multiplication.  Using multiplication in this way is ambiguous.  To create, and to disambiguate, a dimensional numerical quantity from a number multiplied by units (a subtle distinction at best) STACK has a mostly inert function <code>stackunits(12.1,m/s^2)</code>.  Students do not need to use this, but teachers can use it in question variables etc.</li> <li>STACK converts the student's answer to SI base units only.    This function also handles the number coefficients automatically (e.g. <code>1*km = 1000*m</code> etc.).</li> <li>STACK has answer tests which compare dimensional numbers. These tests use (share code with) one of the existing numerical answer tests, such as <code>NumSigFigs</code>.</li> </ol>"},{"location":"Topics/Units/#input-type-input_type","title":"Input type ## {#Input_type}","text":"<p>Stack provides an input type to enable teachers to support students in entering answers with scientific units.</p> <p>The goal of this input is to validate against the pattern <code>number * units</code>.  </p> <ol> <li>The input type will check both the teacher's answer and the student's answer for units.  The input will require the student's answer to have units if and only if the teacher's answer also has units.  This normally forces the student to use units.  Also, students sometimes add units to dimensionless quantities (such as pH) and this input type will also enable a teacher to reject such input as invalid when the teacher does not use units.</li> <li>In validating against the pattern <code>number * units</code> we do not accept complex expressions which might simplify to this with some additional calculations.  For example, an answer such as <code>9.4*m-53*cm</code> is not considered valid by this input.</li> <li>This input type always accepts floating-point numbers, regardless of the option set on the edit form.  The input type should display the same number of significant figures as typed in by the student.  Note that all other input types truncate the display of unnecessary trailing zeros in floating point numbers, loosing information about significant figures.  If you want to specifically test for significant figures, use this input type, with the teacher's answer having no units.</li> <li>The student must type a number of some kind.  Entering units on their own will be invalid.  If you want to ask a student for units, then use the algebraic input type.  Units on their own are a not valid expression for this input.</li> <li>If the teacher shows the validation, \"with variable list\" this will be displayed as \"the units found in your answer are\"...</li> <li>The student is permitted to use variable names in this input type.</li> <li>The \"insert stars\" option is unchanged.  You may or may not want your students to type a <code>*</code> or space between the numbers and units for implied multiplication.</li> <li>You may want the single letter variable names options here.  Note that since <code>km</code> literally means <code>k*m=1000*m</code> this is not a problem with most units.</li> <li>The input type checks for units in a case sensitive way.  If there is more than one option then STACK suggests a list.  E.g. if the student types <code>mhz</code> then STACK suggests <code>MHz</code> or <code>mHz</code>.</li> <li>You can require numerical accuracy at validation by using the <code>mindp</code>, <code>maxdp</code>, <code>minsf</code> and <code>maxsf</code> extra options, as documented in the numerical input.</li> </ol> <p>There are surprisingly few ambiguities in the units set up, but there will be some that the developers have missed (correctly dealing with ambiguous input is by definition an impossible problem!).  Please contact us with suggestions for improvements.</p> <p>Note, the input does not currently support a situation where you want to accept as valid a purely numerical quantity and then use the PRT to deduct marks for failing to use units, rather than rejecting it as invalid.</p>"},{"location":"Topics/Units/#extra-options","title":"Extra Options","text":"<p>The extra options to the input should be a comma separated list of tags.  This input type makes use of the additional options in two ways:</p> <ol> <li>Units can be displayed using inline fractions  or negative powers .  Add <code>negpow</code> to the Extra Options field to use negative powers.</li> </ol>"},{"location":"Topics/Units/#answer-tests","title":"Answer tests","text":"<p>STACK provides a number of answer tests for dealing with units.  These are designed to accept an answer which is a dimensional numerical quantity, that is a floating-point number with units such as <code>12.3*m/s</code>.  This will not work with sets, lists, matrices, equations, etc.</p> <p>The answer tests require the teacher's answer (second argument to the function) to have units.  If the teacher does not specify units then the test will fail.  This decision is to help question authors write robust questions e.g. just specifying a number would be problematic.  The input will accept an answer as valid if and only if the teacher's answer has units, so you should know in advance if you have units.  If you want to compare numbers (i.e. no units), just use the numerical test.</p> <p>The units answer tests will happily accept a <code>stackunits</code> expression.  Otherwise, the answer test splits up both arguments into this form first.</p> <p>There are three decisions to be made:</p> <ol> <li>Does the written precision matter?  I.e. should the student use certain significant figures?  If so, should we take a strict interpretation of significant figures ( has 1 sig fig,  has 3) or not ( has somewhere between 1 and 3 sig figs)?  See the <code>NumSigFigs</code> and <code>SigFigsStrict</code> answer tests.</li> <li>How does numerical precision matter?  A number might be written using significant figures, but is it the right number?  See the <code>NumSigFigs</code>, <code>NumRelative</code> and <code>NumAbsolute</code> answer tests.</li> <li>Do we convert to compatible units, or require strict units which match those given by the teacher exactly?</li> </ol> <p>Essentially, the teacher has to make three decisions.  These could always be done in a potential response tree with three nodes, but this is a common task.  For legacy reasons, some of the answer tests (e.g. <code>NumSigFigs</code>, <code>UnitsSigFigs</code>) combine answering two or more of these questions in one answer test.</p> <p>For scientific units (Q3.) there are two families of answer tests.</p> <ol> <li><code>Units[...]</code> gives feedback if the student has the wrong units, but number is equivalent on conversion,</li> <li><code>UnitsStrict[...]</code> expects the student's answer to use exactly the units which appear in the teacher's answer.  There is no conversion here.  However, answer notes will record whether the conversion would have worked.</li> </ol> <p>The two issues related to the numerical part are tested with one of the numerical answer tests which are documented elsewhere. Units answer tests share code with these functions.  Use the appropriate options for the chosen test.</p> <p>Notes</p> <ol> <li>All variables are considered to be units.</li> <li>The numerical part is compared using the one of the three numerical answer tests.  Each requires various options, e.g. the number of significant figures, or the numerical accuracy.  These answer tests use identical options to the numerical tests.</li> <li>The units system accepts both <code>l</code> and <code>L</code> for litres, and the display respects the way they are typed in.</li> <li>Only abbreviations are accepted, not full names.  I.e. students may not use <code>meter</code>, instead they must use <code>m</code>.</li> <li>Currently there is no localisation (i.e. language support) for unit names/spellings.</li> <li>The letter <code>u</code> is the prefix for micro, and is displayed as  when the student validates.</li> <li>The string <code>xi</code> is the Greek letter .  If you assume single variable letter names this might clash with <code>x*i</code> which is a relatively common pattern.</li> </ol>"},{"location":"Topics/Units/#conversion-to-base-units-and-numerical-accuracy","title":"Conversion to base units and numerical accuracy","text":"<p>This only applies to the \"non-strict\" versions of the tests.  If the units in the student's answer do not match those of the teacher, then both the student's and teacher's answer is converted to base scientific units and the numerical test applied again.  Note, the student's answer is not converted to the units used by the teacher.</p> <p>For example, in order to make a numerical comparison between <code>1.1*Mg/10^6</code> and <code>1.2*kN*ns/(mm*Hz)</code> both expressions are converted to base units of <code>kg</code>. The numerical test is then applied.</p> <p>For the <code>NumRelative</code> test the option gives the required percentage tolerance within which a student's answer should be.  Literally we test the following <code>|sa-ta| &lt; |ta*tol|</code>.  Here <code>sa</code> and <code>ta</code> are the numerical value of the student's and teacher's answer respectively.  The same <code>tol</code> is used both when the units match and once they have been converted to base units.</p> <p>Similarly, for <code>NumAbsolute</code> the option is an absolute difference, (expressed in units).  Literally we test <code>|sa-ta| &lt; |tol|</code>. Here <code>sa</code> and <code>ta</code> are the numerical value of the student's and teacher's answer respectively once they have been converted to base units.  If <code>tol</code> has no units, then STACK will use the units supplied by the teacher.</p> <p>If the teacher uses units in the option then the option units must be identical to the units in the teacher's answer. </p>"},{"location":"Topics/Units/#dealing-with-units-in-maxima-functions-eg-question-variables-and-prts","title":"Dealing with units in Maxima functions, e.g. question variables and PRTs","text":"<p>STACK uses an inert function to represent dimensional numerical quantities.</p> <pre><code>stackunits(num, units)\n</code></pre> <p>In particular, if we just represented scientific units as a product there would be no way to distinguish between <code>stackunits(0, m)</code> and <code>stackunits(0, s)</code>.  As a product both would evaluate to <code>0</code>, which would appear dimensionless.  A teacher is still likely to want to make comments on units when the numerical part is zero.</p> <p>The function <code>stack_unit_si_declare(true)</code> declares variables as units.  (Note the argument to this function is not used.)  For example, this changes the TeX output of <code>m</code> to Roman  and not the normal .  (That units are displayed in Roman is lost to most students!).  Note that the symbols are only declared to be units by using <code>stack_unit_si_declare(true)</code> first somewhere else in the question, or feedback variables.</p> <ul> <li><code>unitsp(ex)</code> is a predicate which decides if STACK considers the expression to represent a dimensional numerical quantity <code>stackunits</code>.</li> <li><code>listofnonunits(ex)</code> lists all variables in the expression <code>ex</code> considered not to be units however they appear.  Use of this function auto-loads <code>stack_unit_si_declare(true)</code>.</li> <li><code>listofunits(ex)</code> lists all variables in the expression <code>ex</code> considered to be units however they appear. Use of this function auto-loads <code>stack_unit_si_declare(true)</code>.</li> <li>If you do not declare <code>stack_unit_si_declare(true)</code> in the question variables you may need to do so in the feedback text itself.</li> <li>If you are manipulating two expressions and you want to ensure they both use the same units use <code>stack_unit_si_to_si_base(ex)</code> on each.  This ensures only the base units of SI are used.  E.g. <code>stack_unit_si_to_si_base(stackunits(12.1,km))</code> gives <code>stackunits(12100.0,m)</code>.</li> </ul> <p>This function declares all units in one go, and there is no way to declare only a subset. Indeed, using only a subset would disrupt the conversion logic.  Defining all the units restricts the number of variable names available in a particular question, e.g.  is assumed to represent Farad, and all units are typeset in Roman type, e.g.  rather than the normal . If you need to fine-tune the display how do to so if explained in the atoms and subscripts section of the more general Maxima documentation.</p> <p>The function <code>stackunits_make(ex)</code> takes the expression <code>ex</code> and, if this is a product of numbers and units, it returns an inert function <code>stackunits</code> with arguments <code>stackunits(numbers, symbols)</code>.  Note, symbols will include a mix of variables, and symbols which are considered to be units. Use of this function autoloads <code>stack_unit_si_declare(true)</code>.</p> <p>The function <code>stackunits_to_product(ex)</code> turns a <code>stackunits</code> object into a product of number and units.</p> <p>It might be helpful in the feedback variables field to separate units from numerical parts prior to building your own potential response tree.  However, do not do the following.</p> <pre><code>n:float(100+rand(300)/10);\nu:m/s\nta:stackunits_make(n*u)\n</code></pre> <p>Instead just call <code>stackunits</code> directly</p> <pre><code>n:float(100+rand(300)/10);\nu:m/s\nta:stackunits(n,u)\n</code></pre> <p>If you regularly find yourself building a particular tree to test for some property please contact the developers who will consider adding this functionality to the core.  </p> <p>The functions</p> <pre><code>stack_units_units(ex);\nstack_units_nums(ex);\n</code></pre> <p>try to split the expression into units and numbers, and the return the units and numbers found.  If there are no numbers, <code>stack_units_nums(ex)</code> returns <code>NULLNUM</code>. If there are no numbers, <code>stack_units_units(ex)</code> returns <code>NULLUNITS</code>.  These are special tags, but note they are displayed by LaTeX as empty strings.  (You could also use <code>first(args(ans1))</code> or <code>second(args(ans1))</code> respectively to access the numerical and units parts.)</p> <p>The function <code>stack_units_split</code> is deprecated.  DO NOT USE.</p>"},{"location":"Topics/Units/#custom-units","title":"Custom units","text":"<p>The teacher may want to use their own units. For example, the core <code>unit</code> package in Maxima does not include <code>mm</code> (millimetre), it is defined there as a word <code>millimetre</code>.  This is one reason for creating our own custom units package.</p> <p>For advanced users and developers only</p> <p>Currently there is no way to create custom sets of units.  This feature may be added in the future.  The following may be helpful for now, but this does not fully work and the mechanism will change in the future when proper support is added for custom units.</p> <p>Add the following to the question variables and feedback variables.</p> <pre><code>stack_unit_si_declare(true);\ndeclare(diamonds, units);\ntexput(diamonds, \"\\\\diamond\");\n</code></pre> <p>The symbol <code>diamonds</code> will then be treated as units in code such as <code>unitsp(ex)</code> and displayed with the TeX  symbol.</p> <p>You will need to put <code>diamonds</code> in the allow words of the input in the question.</p>"},{"location":"Topics/Units/#tips-for-dealing-with-units-in-stack","title":"Tips for dealing with units in STACK","text":"<p>CAS variables are tricky.</p> <ul> <li>When creating worked solutions etc. try <code>12.3m*s^(-1)</code> not <code>12.3m/s</code>.  The display is better.  The answer test accepts either as equivalent.</li> <li>Which units are supported?  It is probably best to look at the code.  This is contained in <code>qtype_stack\\stack\\cas\\casstring_units_class.php</code>.  Comments and additions are welcome.</li> </ul>"},{"location":"Topics/Unsorted_multi_input/","title":"Unsorted multi-input answers","text":"<p>Quite often we have a number of separate inputs, but we don't know which order the student will choose to enter.</p> <p>Let's assume we ask a student to break down integration using linearity for example we have  where the <code>?</code> are inputs <code>ans1</code> and <code>ans2</code>.  We might expect <code>ans1=x^2</code> but of course we could also have <code>ans1=sin(x)</code>.</p>"},{"location":"Topics/Unsorted_multi_input/#use-the-feedback-variables","title":"Use the feedback variables","text":"<p>One option is to define <code>sans:ans1+ans2</code> in the feedback variables.  Then the PRT can check <code>sans</code> is equivalent to the integrand up to commutativity and associativity (or something else if you perefer). The problem with this is the difficulty in awarding partial credit.</p>"},{"location":"Topics/Unsorted_multi_input/#partial-credit-for-some-correct-answers","title":"Partial credit for some correct answers","text":"<p>We want to provide some partial credit when student have some, but not all, the inputs correct.</p> <p>Let's assume we are looking for  different inputs.  We define  to be the number of missing,  to be the number of \"not wanted\" inputs, then we choose the score to be  E.g., here if a student gets all  wrong so that  then the score is zero. If the student types in all the required expressions,  and  wrong ones in addition, then . This function is, of course, a choice of the teacher.</p> <p>In the above example, put the following in the question variables</p> <pre><code>ta1:x^2;\nta2:sin(x);\ntas:{ta1, ta2};\np:ta1+ta2;\n</code></pre> <p>In the feedback variables put</p> <pre><code>sans:{ans1, ans2};\nmissing:setdifference(tas, sans);\nnotwanted:setdifference(sans, tas);\nscore:max(1-(length(missing)+length(notwanted))/(2*length(tas)),0);\n</code></pre> <p>Continuing the above example, in the PRT use</p> <ol> <li>The answer test <code>sets</code> perhaps with the quiet option.</li> <li><code>sans</code> is <code>{ans1,ans2}</code>.</li> <li><code>tans</code> is <code>tas</code>.</li> <li>Assign the score in both prt branches to be <code>score</code>.</li> </ol>"},{"location":"Topics/Unsorted_multi_input/#dealing-with-duplicate-entries","title":"Dealing with duplicate entries","text":"<p>How do we decide partial credit when there may be duplicates, e.g. eignevalues with repetion?  If the teacher's answer is <code>[1,1,2]</code> then we can't use the above example based on sets.</p> <p>STACK provides a maxima function <code>list_cancel(l1,l2)</code> which removes any common elements from <code>[l1,l2]</code>, with duplication.  E.g. use the following in the quesion variables.</p> <pre><code>sans:{ans1, ans2};\n[missing, notwanted]:list_cancel([sans, tas]);\nscore:max(1-(length(missing)+length(notwanted))/(2*length(tas)),0);\n</code></pre> <p>Note that <code>list_cancel</code> will not establish algebraic equialence and within this function two expressions are considered the same using maxima's <code>is(ex1=ex2))</code>.  Hence, some pre-processing of the lists might be needed, depending on the situation and what you consider is the \"same\".  For example if we have</p> <pre><code>l1:[x^2,x^3,x^2-1,x+x];\nl2:[x^2,x^4,(x-1)*(x+1),2*x];\nlist_cancel([l1,l2]);\n</code></pre> <p>will return  Notice the last elements are remove because default simplification takes place but  and  are not considered the same by <code>is</code>.  In this case <code>ratsimp</code> can be applied to the lists first.  In other situations functions like <code>trigsimp</code> or <code>trigrat</code> might be needed.</p>"},{"location":"Topics/Vector_Calculus/","title":"Vector Calculus in STACK","text":"<p>Setting vector calculus problems using STACK does not require too much more thinking than setting regular calculus or linear algebra problems. There are a few extra additions, but a passing familiarity with Maxima's notation for derivatives, integrals and vectors will usually suffice.</p>"},{"location":"Topics/Vector_Calculus/#calculus-with-more-than-one-variable","title":"Calculus with more than one variable","text":"<p>To find derivatives of functions of more than one variable you can use the normal <code>diff(f,x)</code> function, which returns the partial derivative of  with respect to . To find the gradient vector, you might choose to put all the partial derivatives in a list or matrix using something like</p> <pre><code>grad(f,vars):= block(\n  grad_vec: map(lambda([ex], 'diff(f,vars[ex])), ev(makelist(ii,ii,1,length(vars)), simp)),\n  return(transpose(matrix(grad_vec)))\n);\n</code></pre> <p>Then <code>grad(f,[x,y,z])</code> would return  Setting Maxima's <code>derivabbrev:true</code> changes the display of derivatives to subscripts.  Now <code>grad(f,[x,y,z])</code> would return  </p> <p>If you would like to work with differentials, using <code>diff(f)</code> without specifying a variable will return <code>del(f)</code>. For example, </p> <pre><code>(%i1) f: x*y*z;\n(%o1) x y z;\n(%i2) diff(f);\n(%o2) x y del(z) + x z del(y) + y z del(x)\n</code></pre> <p>The Maxima differentials will display as .  If you prefer notation such as  you might like to redfine the tex function associated with <code>del</code> e.g.</p> <pre><code>texput(del,lambda([ex],sconcat(\"\\\\mathrm{d}\",tex1(first(ex)))));\n</code></pre> <p>If you need to assert that one or more variables are constant, you can use <code>declare([a,b,c],constant)</code> means that, using the previous example, <code>diff(f*c)</code> would return <code>c x y del(z) + c x z del(y) + c y z del(x)</code> rather than <code>c x y del(z) + c x z del(y) + c y z del(x) + x y z del(c)</code>.</p> <p>If you want to assert that one variable depends on the other, you can use <code>depends([f,g],[x,y])</code> to mean that  and  both depend on  and . If you just want to note that  depends on , then <code>depends(y,x)</code> is sufficient. This is useful when asking students to perform implicit partial differentiation and solve for the given derivative. Here is an example that wants students to find a partial derivative of one variable with respect to another, holding another variable constant: </p> <pre><code>declare([a,b,c,d],constant);\neqn1: x*y = a*t^b*z;\neqn2: c*z*y^d*t = sin(x);\n[eqn1, eqn2]: random_permutation([eqn1, eqn2]);\n\n[dep1,dep2,indep,const]: random_permutation([x, y, z, t]);\ndepends([dep1,dep2],indep);\n\neqn1d: diff(eqn1,indep);\neqn2d: diff(eqn2,indep);\n\nta: rhs(flatten(solve([eqn1d,eqn2d],['diff(dep1,indep),'diff(dep2,indep)]))[1]);\n</code></pre> <p>This example generates two equations in , ,  and , assigns each variable a role as either a dependent variable, independent variable, or a variable being held constant (also independent, but behaving differently in this context), differentiates both equations implicitly with respect to the independent variable, and then solves the equations simultaneously for the desired derivative. The original question had values assigned to , ,  and , but it is interesting to declare them constant here. </p> <p>Note that these questions can be a bit volatile, as Maxima simply cannot establish equality when various substitutions are made. It may be prudent to make rearrangement difficult, and/or tell students to not substitute values in their answer. </p>"},{"location":"Topics/Vector_Calculus/#using-vectors","title":"Using vectors","text":"<p>Maxima does not distinguish between vectors and matrices, with both being defined using the <code>matrix</code> command. You can put whatever you like in a matrix, so like the example above with a gradient vector, you can easily define a vector function as a matrix with expressions as elements. Some key points: </p> <ol> <li>Lists are treated very similarly to row vectors (which means that things like the dot product operator work on them). It also means that it is sufficient to use <code>transpose([a,b,c])</code> to get a column vector.</li> <li><code>*</code> is used for element-wise multiplication of lists and matrices, whereas <code>.</code> is used as both a dot product and matrix product. This leads to slightly confusing behaviour for vectors, where <code>[x,y] . [z,t]</code>, <code>[x,y] . transpose([z,t])</code> and <code>transpose([x,y]) . transpose([z,t])</code> will all return <code>x*z + y*t</code>, but <code>transpose([x,y]) . [z,t]</code> will return the outer product matrix <code>matrix([x*z, t*x], [y*z, t*y])</code>.</li> <li>Matrices are indexed as <code>A[i,j]</code>, which means that when dealing with vectors you must be careful to index both the row and the column. For example, <code>matrix([1],[2],[3])[1]</code> will return the list <code>[1]</code> rather than the value <code>1</code>, and <code>matrix([1,2,3])[1]</code> will return the whole row <code>[1,2,3]</code>. One way around this is to use the <code>list_matrix_entries</code> function to return the list of all matrix entries, which is often easier to work with when considering vectors. Note that this function returns an error when given a list. </li> <li>The function <code>crossproduct(a,b)</code> is defined in STACK (not core Maxima), but must take two  by  column vectors as the input, not lists or row vectors. </li> <li>The function <code>jacobian([f1,f2],[x,y])</code> is defined, and takes two lists as arguments. The first is the vector function, and the second is the list of variables. </li> </ol> <p>Some useful functions that are not defined in core Maxima are defined in STACK's contributed <code>vectorcalculus.mac</code> file in the contrib directory.</p> <ol> <li>divergence <code>div(u, vars)</code>. Accepts  as either a matrix or a list.</li> <li>curl <code>curl(u, vars)</code>.  Accepts  as either a matrix or a list.</li> </ol> <p>These functions can be included with <code>stack_include</code>.</p>"},{"location":"Topics/Vector_Calculus/#lagrange-multipliers","title":"Lagrange Multipliers","text":"<p>Finding critical points using the method of Lagrange multipliers is as simple as finding the stationary points to the system of equations given by  where  is the multivariable function you are investigating and  is a constraint curve. There are a few new considerations that come along with questions like this, such as what input type to use and how to account for a variable number of solutions.  </p> <p>Here is some example code that shows how you might procedurally generate solutions to a problem like this, where <code>func</code> is our function  and <code>cons</code> is our constraint curve  given as a single algebraic expression to be set to zero. </p> <pre><code>equations: [diff(func, x) = L*diff(cons, x), diff(func, y) = L*diff(cons, y), cons = 0];\nsolns: map(lambda([ex],map(rhs,firstn(radcan(ex),2))),solve(equations, [x, y, L]));\nta: sublist(solns,lambda([ex],real_numberp(first(ex)) and real_numberp(second(ex))));\n</code></pre> <p>This code will generate all correct solutions, trim out the value of  which typically does not concern us, removes any complex solutions, and returns the final answer as a list of ordered pairs. This is useful because it allows us to use the TextArea input type. To enter their answers, students can give as many or as ordered pairs as they like.</p> <p>To mark this question, we could use some code like the following:</p> <pre><code>ans1_set: setify(map(simplify, ans1));\nta_set: setify(map(simplify, ta));\n\nnum_correct: length(intersection(ans1_set, ta_set));\nprop_correct: num_correct/length(ta);\n</code></pre> <p>Now we can compare the two sets directly in the PRT using AlgEquiv or Sets. If this test fails, we might like to award <code>prop_correct</code> marks as the score (so that if a student found 3 out of 4 critical points they would be awarded 0.75 marks). We might also find it prudent to award a flat penalty for any superfluous answers in this case too, or perhaps only if the student gives more answers than expected (to avoid double-penalising typos), though this is now a discussion of grading. </p>"},{"location":"Topics/Vector_Calculus/#vector-plots","title":"Vector Plots","text":"<p>Newer versions of JSXGraph provide support for vector plots natively, but STACK currently does not use this version of JSXGraph. However, it is not too difficult to create a bespoke vector plot function that can be adapted to a variety of circumstances.</p> <p>There are several considerations when creating a vector plot:</p> <p>1) How densely packed should the vectors be?  2) How long should the vectors be, and how much variation in length should there be?  3) What aesthetic choices are important to aid readability?  4) How should function information be passed from Maxima to JSXGraph?</p> <p>There is no single answer to these, and your answer will likely differ per question. Below is one approach to creating a vector plot question. Note that it assumes you are working with a plaintext editor and so <code>&lt;</code>, <code>&gt;</code>, and <code>&amp;&amp;</code> are all viable options. If you work in a different editor (such as a the Moodle default) you may like to define your own functions to prevent conversion to <code>&amp;lt;</code>, <code>&amp;gt;</code> or <code>&amp;amp;</code> upon saving. </p> <p>Let us first assume a general vector function, called <code>F</code>. In the question variables, we could define <code>fx</code> and <code>fy</code> and then define <code>F: [fx,fy]</code>. If we were wanting to instead plot a gradient, we could define a function <code>f</code> and then define its gradient as <code>F: [diff(f,x),diff(f,y)]</code>. We will also need a version of <code>F</code> that uses valid JavaScript syntax. You might like to convert manually using something like <code>fx_jsx: ssubst(\"**\",\"^\",string(fx))</code>, though this relies on you knowing the form of the function and can cause problems with the unary minus. A better option could be to use JXG.JessieCode. Lastly, we want a JavaScript function to output the direction at a given point. Something like the the following suffices.</p> <pre><code>var F = function(x,y) { return [{@fx_jsx@},{@fy_jsx@}] };\n</code></pre> <p>Next, we want to know where we are plotting. Keeping everything in terms of the plotting axes and number of vectors will prove convenient. If we choose the number of vectors in the x-direction to be <code>num_x</code> and similarly for y to be <code>num_y</code>, we can set up the following: </p> <pre><code>var xi = -2, yf = 2, xf = 2, yi = -2\nvar axes = [xi, yf, xf, yi]\nvar num_x = 20, num_y = 20\nvar dx = 1/num_x*(xf - xi)\nvar dy = 1/num_y*(yf - yi)\n</code></pre> <p>Our goal will be to plot vectors at every grid point defined by these steps in x and y called <code>dx</code> and <code>dy</code>.</p> <p>Before we iterate through this, we need to define the function that will actually plot the vectors.</p> <pre><code>var createVector = function(px, py) {\n    var vec = F(px,py) /* Compute the value of the function here */\n    var vecScaler = 1/Math.sqrt(vec[0]**2 + vec[1]**2)\n    var plotVec = [dx*vec[0]*vecScaler, dy*vec[1]*vecScaler]\n    var tip = [px + plotVec[0], py + plotVec[1]]\n    board.create('arrow',[[px,py],tip],{\n        color: \"#1f77b4\", opacity: 0.66, lastArrow: {type: 2, size: 4},\n        fixed: true, highlight: false\n    });\n    board.create('point',[px,py],{\n        color: \"#1f77b4\", size: 0.1, strokeOpacity: 0.66, fillOpacity: 0.75,\n        highlight: false, fixed: true, withLabel: false\n    });\n}\n</code></pre> <p>A couple of things to note: Firstly, the variable <code>vecScaler</code> is always equal to the reciprocal of the length of the vector, which means that in this example it will always plot a \"unit\" vector (where a unit here is the grid size). This can (and perhaps should) be changed unless you wish to use colour to denote different vector length (which is poor accessibility practice on its own). Secondly, these vectors are eminating from the grid point, which is plotted itself with a transparent dot. In fact, everything is partially transparent to avoid excessive busyness in the plot. You could easily set this up to instead plot with the centre of the arrow being the location, or could tweak any of the other visual settings. In general, it is good to indicate where the vector originates for clarity. </p> <p>Now we can finally plot the vectors. </p> <pre><code>var i, j;  \nfor (i = xi/dx - 1; i &lt;= xf/dx + 1; i++) {\n  for (j = yi/dy - 1; j &lt;= yf/dy + 1; j++) {\n    createArrow(i*dx,j*dy);\n  }\n}\n</code></pre> <p>Note that the vectors are being plotted from just outside the desired area so that they can enter the plot from outside if needed. Now we have a vector plot! </p> <p>The scaling factor <code>vecScaler</code> is the last thing to consider seriously. It is often important to distinguish between different vector lengths, but just setting <code>vecScaler = 1</code> will usually render the plot illegible with huge vectors shooting all over the place. There is no shortage of ways to scale, but one way the author has found helpful is to use a sigmoidal curve like . Here is one option: </p> <pre><code>var myScaler = function(vec,a,b) { return a*(Math.PI/2 - Math.atan(a/b*Math.sqrt(vec[0]**2 + vec[1]**2))) }\n</code></pre> <p>for some tuning constants a and b. Note that this function produces a multiplying factor, not the desired length directly. b is the maximum length of the vector relative to the grid size, which is often set to either 1 or 1.414 (the former being good for vectors that tend to point along gridlines and the latter being good for vectors that tend to point in the direction of the diagonals, or if you like a little bit of overlap). a is a measure of how fast the vector reaches the maximum length. You could tweak the values of a and b for each question, or you could pair up functions and scaling factors in the question variables when randomising. Regardless, it might be a good idea to copy-paste the graphing code into the question note so that you can check the scaling when deploying variants.</p>"}]}